<!DOCTYPE HTML>
<html lang="en" class="navy" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>A Vehicle Routing Problem Solver Documentation</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->
        
        <meta name="description" content="This book describes a Vehicle Routing Problem solver.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="resources/leaflet.css">

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "navy";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('navy')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="index.html">Introduction</a></li><li class="chapter-item expanded "><a href="getting-started/index.html"><strong aria-hidden="true">1.</strong> Getting Started</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="getting-started/features.html"><strong aria-hidden="true">1.1.</strong> Features</a></li><li class="chapter-item "><a href="getting-started/installation.html"><strong aria-hidden="true">1.2.</strong> Installation</a></li><li class="chapter-item "><a href="getting-started/import.html"><strong aria-hidden="true">1.3.</strong> Defining problem</a></li><li class="chapter-item "><a href="getting-started/routing.html"><strong aria-hidden="true">1.4.</strong> Acquiring routing info</a></li><li class="chapter-item "><a href="getting-started/solver.html"><strong aria-hidden="true">1.5.</strong> Running solver</a></li><li class="chapter-item "><a href="getting-started/analysis.html"><strong aria-hidden="true">1.6.</strong> Analyzing results</a></li><li class="chapter-item "><a href="getting-started/performance.html"><strong aria-hidden="true">1.7.</strong> Evaluating performance</a></li></ol></li><li class="chapter-item expanded "><a href="concepts/index.html"><strong aria-hidden="true">2.</strong> Concepts</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="concepts/pragmatic/index.html"><strong aria-hidden="true">2.1.</strong> Pragmatic format</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="concepts/pragmatic/problem/index.html"><strong aria-hidden="true">2.1.1.</strong> Modeling a problem</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="concepts/pragmatic/problem/jobs.html"><strong aria-hidden="true">2.1.1.1.</strong> Jobs</a></li><li class="chapter-item "><a href="concepts/pragmatic/problem/vehicles.html"><strong aria-hidden="true">2.1.1.2.</strong> Vehicles</a></li><li class="chapter-item "><a href="concepts/pragmatic/problem/resources.html"><strong aria-hidden="true">2.1.1.3.</strong> Resources</a></li><li class="chapter-item "><a href="concepts/pragmatic/problem/relations.html"><strong aria-hidden="true">2.1.1.4.</strong> Relations</a></li><li class="chapter-item "><a href="concepts/pragmatic/problem/clustering.html"><strong aria-hidden="true">2.1.1.5.</strong> Clustering</a></li><li class="chapter-item "><a href="concepts/pragmatic/problem/objectives.html"><strong aria-hidden="true">2.1.1.6.</strong> Objectives</a></li></ol></li><li class="chapter-item "><a href="concepts/pragmatic/routing/index.html"><strong aria-hidden="true">2.1.2.</strong> Routing data</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="concepts/pragmatic/routing/format.html"><strong aria-hidden="true">2.1.2.1.</strong> Routing matrix</a></li><li class="chapter-item "><a href="concepts/pragmatic/routing/profile.html"><strong aria-hidden="true">2.1.2.2.</strong> Profiles</a></li></ol></li><li class="chapter-item "><a href="concepts/pragmatic/solution/index.html"><strong aria-hidden="true">2.1.3.</strong> Solution model</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="concepts/pragmatic/solution/tour-list.html"><strong aria-hidden="true">2.1.3.1.</strong> Tour list</a></li><li class="chapter-item "><a href="concepts/pragmatic/solution/statistic.html"><strong aria-hidden="true">2.1.3.2.</strong> Statistic</a></li><li class="chapter-item "><a href="concepts/pragmatic/solution/unassigned-jobs.html"><strong aria-hidden="true">2.1.3.3.</strong> Unassigned jobs</a></li><li class="chapter-item "><a href="concepts/pragmatic/solution/violations.html"><strong aria-hidden="true">2.1.3.4.</strong> Violations</a></li></ol></li><li class="chapter-item "><a href="concepts/pragmatic/errors/index.html"><strong aria-hidden="true">2.1.4.</strong> Error index</a></li></ol></li><li class="chapter-item "><a href="concepts/scientific/index.html"><strong aria-hidden="true">2.2.</strong> Scientific formats</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="concepts/scientific/solomon.html"><strong aria-hidden="true">2.2.1.</strong> Solomon benchmark</a></li><li class="chapter-item "><a href="concepts/scientific/lilim.html"><strong aria-hidden="true">2.2.2.</strong> Li&Lim benchmark</a></li><li class="chapter-item "><a href="concepts/scientific/tsplib.html"><strong aria-hidden="true">2.2.3.</strong> TSPLIB format</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="examples/index.html"><strong aria-hidden="true">3.</strong> Examples</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="examples/pragmatic/index.html"><strong aria-hidden="true">3.1.</strong> Pragmatic format</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="examples/pragmatic/basics/index.html"><strong aria-hidden="true">3.1.1.</strong> Basic feature usage</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="examples/pragmatic/basics/job-types.html"><strong aria-hidden="true">3.1.1.1.</strong> Basic job usage</a></li><li class="chapter-item "><a href="examples/pragmatic/basics/job-priorities.html"><strong aria-hidden="true">3.1.1.2.</strong> Job priorities</a></li><li class="chapter-item "><a href="examples/pragmatic/basics/multi-day.html"><strong aria-hidden="true">3.1.1.3.</strong> Multi day plan</a></li><li class="chapter-item "><a href="examples/pragmatic/basics/break.html"><strong aria-hidden="true">3.1.1.4.</strong> Vehicle break</a></li><li class="chapter-item "><a href="examples/pragmatic/basics/reload.html"><strong aria-hidden="true">3.1.1.5.</strong> Multiple trips</a></li><li class="chapter-item "><a href="examples/pragmatic/basics/recharge.html"><strong aria-hidden="true">3.1.1.6.</strong> Recharge stations</a></li><li class="chapter-item "><a href="examples/pragmatic/basics/relations.html"><strong aria-hidden="true">3.1.1.7.</strong> Relations</a></li><li class="chapter-item "><a href="examples/pragmatic/basics/skills.html"><strong aria-hidden="true">3.1.1.8.</strong> Skills</a></li><li class="chapter-item "><a href="examples/pragmatic/basics/profiles.html"><strong aria-hidden="true">3.1.1.9.</strong> Multiple profiles</a></li><li class="chapter-item "><a href="examples/pragmatic/basics/unassigned.html"><strong aria-hidden="true">3.1.1.10.</strong> Unassigned job</a></li></ol></li><li class="chapter-item "><a href="examples/pragmatic/clustering/index.html"><strong aria-hidden="true">3.1.2.</strong> Clustering</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="examples/pragmatic/clustering/vicinity-continue.html"><strong aria-hidden="true">3.1.2.1.</strong> Vicinity continuation</a></li><li class="chapter-item "><a href="examples/pragmatic/clustering/vicinity-return.html"><strong aria-hidden="true">3.1.2.2.</strong> Vicinity return</a></li></ol></li><li class="chapter-item "><a href="examples/pragmatic/objectives/index.html"><strong aria-hidden="true">3.1.3.</strong> Objective usage</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="examples/pragmatic/objectives/objective-default.html"><strong aria-hidden="true">3.1.3.1.</strong> Default behavior</a></li><li class="chapter-item "><a href="examples/pragmatic/objectives/objective-balance-max-load.html"><strong aria-hidden="true">3.1.3.2.</strong> Balance max load</a></li><li class="chapter-item "><a href="examples/pragmatic/objectives/objective-balance-activities.html"><strong aria-hidden="true">3.1.3.3.</strong> Balance activities</a></li><li class="chapter-item "><a href="examples/pragmatic/objectives/objective-balance-distance.html"><strong aria-hidden="true">3.1.3.4.</strong> Balance distance</a></li></ol></li></ol></li><li class="chapter-item "><a href="examples/interop/index.html"><strong aria-hidden="true">3.2.</strong> Language interop</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="examples/interop/java.html"><strong aria-hidden="true">3.2.1.</strong> Java</a></li><li class="chapter-item "><a href="examples/interop/kotlin.html"><strong aria-hidden="true">3.2.2.</strong> Kotlin</a></li><li class="chapter-item "><a href="examples/interop/javascript.html"><strong aria-hidden="true">3.2.3.</strong> Javascript</a></li><li class="chapter-item "><a href="examples/interop/python.html"><strong aria-hidden="true">3.2.4.</strong> Python</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="internals/index.html"><strong aria-hidden="true">4.</strong> Internals</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="internals/overview.html"><strong aria-hidden="true">4.1.</strong> Overview</a></li><li class="chapter-item "><a href="internals/development/index.html"><strong aria-hidden="true">4.2.</strong> Development</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="internals/development/structure.html"><strong aria-hidden="true">4.2.1.</strong> Project Structure</a></li><li class="chapter-item "><a href="internals/development/extension.html"><strong aria-hidden="true">4.2.2.</strong> Solver extension</a></li><li class="chapter-item "><a href="internals/development/best-practices.html"><strong aria-hidden="true">4.2.3.</strong> Development practices</a></li><li class="chapter-item "><a href="internals/development/testing.html"><strong aria-hidden="true">4.2.4.</strong> Testing</a></li></ol></li><li class="chapter-item "><a href="internals/algorithms/index.html"><strong aria-hidden="true">4.3.</strong> Algorithms</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="internals/algorithms/heuristics.html"><strong aria-hidden="true">4.3.1.</strong> Heuristics</a></li><li class="chapter-item "><a href="internals/algorithms/rosomaxa.html"><strong aria-hidden="true">4.3.2.</strong> Rosomaxa</a></li></ol></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">A Vehicle Routing Problem Solver Documentation</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/reinterpretcat/vrp/" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p>This project is about solving Vehicle Routing Problem which is common task in transportation planning and logistics.</p>
<h2 id="vehicle-routing-problem"><a class="header" href="#vehicle-routing-problem">Vehicle Routing Problem</a></h2>
<p>From wiki:</p>
<blockquote>
<p>The vehicle routing problem (VRP) is a combinatorial optimization and integer programming problem
which asks "What is the optimal set of routes for a fleet of vehicles to traverse in order to
deliver to a given set of customers?". It generalises the well-known travelling salesman problem
(TSP).</p>
<p>Determining the optimal solution to VRP is NP-hard, so the size of problems that can be solved,
optimally, using mathematical programming or combinatorial optimization may be limited.
Therefore, commercial solvers tend to use heuristics due to the size and frequency of real
world VRPs they need to solve.</p>
</blockquote>
<div id="geojson" hidden>
{
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {
        "arrival": "1970-01-01T00:00:00Z",
        "jobs_ids": "departure",
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "stop_idx": "0",
        "departure": "1970-01-01T00:00:00Z",
        "tour_idx": "0",
        "marker-symbol": "warehouse"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "1",
        "departure": "1970-01-01T00:07:56Z",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "tour_idx": "0",
        "arrival": "1970-01-01T00:04:56Z",
        "jobs_ids": "job40",
        "marker-color": "#e6194b"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3157235,
          52.4827319
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job31",
        "departure": "1970-01-01T00:13:17Z",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "stop_idx": "2",
        "arrival": "1970-01-01T00:10:17Z",
        "tour_idx": "0",
        "marker-color": "#e6194b"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3353656,
          52.4868236
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "marker-color": "#e6194b",
        "tour_idx": "0",
        "marker-size": "medium",
        "arrival": "1970-01-01T00:15:59Z",
        "departure": "1970-01-01T00:18:59Z",
        "jobs_ids": "job50",
        "stop_idx": "3"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3539713,
          52.4959052
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "departure": "1970-01-01T00:24:36Z",
        "arrival": "1970-01-01T00:21:36Z",
        "jobs_ids": "job28",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "stop_idx": "4",
        "marker-color": "#e6194b",
        "tour_idx": "0"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3689955,
          52.5065998
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "0",
        "marker-symbol": "marker",
        "arrival": "1970-01-01T00:27:11Z",
        "jobs_ids": "job27",
        "marker-size": "medium",
        "stop_idx": "5",
        "marker-color": "#e6194b",
        "departure": "1970-01-01T00:30:11Z"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3788834,
          52.4940454
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "arrival": "1970-01-01T00:31:40Z",
        "stop_idx": "6",
        "jobs_ids": "job6",
        "tour_idx": "0",
        "departure": "1970-01-01T00:34:40Z",
        "marker-size": "medium",
        "marker-color": "#e6194b"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3915876,
          52.4960479
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "7",
        "tour_idx": "0",
        "arrival": "1970-01-01T00:36:50Z",
        "jobs_ids": "job48",
        "departure": "1970-01-01T00:39:50Z",
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "marker-symbol": "marker"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3832067,
          52.4855438
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "jobs_ids": "job37",
        "tour_idx": "0",
        "arrival": "1970-01-01T00:42:04Z",
        "departure": "1970-01-01T00:45:04Z",
        "stop_idx": "8"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.38667,
          52.4737341
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#e6194b",
        "jobs_ids": "job14",
        "arrival": "1970-01-01T00:47:46Z",
        "marker-size": "medium",
        "departure": "1970-01-01T00:50:46Z",
        "tour_idx": "0",
        "stop_idx": "9",
        "marker-symbol": "marker"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3628588,
          52.4742821
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "10",
        "arrival": "1970-01-01T00:51:29Z",
        "marker-symbol": "marker",
        "departure": "1970-01-01T00:54:29Z",
        "marker-color": "#e6194b",
        "tour_idx": "0",
        "jobs_ids": "job36",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3598752,
          52.4708241
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "arrival": "1970-01-01T00:57:37Z",
        "tour_idx": "0",
        "jobs_ids": "job41",
        "stop_idx": "11",
        "marker-size": "medium",
        "departure": "1970-01-01T01:00:37Z",
        "marker-color": "#e6194b",
        "marker-symbol": "marker"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3321906,
          52.4711004
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#e6194b",
        "arrival": "1970-01-01T01:02:02Z",
        "departure": "1970-01-01T01:05:02Z",
        "tour_idx": "0",
        "stop_idx": "12",
        "marker-symbol": "marker",
        "jobs_ids": "job32",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.322692,
          52.4661617
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "warehouse",
        "stop_idx": "13",
        "arrival": "1970-01-01T01:09:43Z",
        "marker-size": "medium",
        "tour_idx": "0",
        "departure": "1970-01-01T01:09:43Z",
        "jobs_ids": "arrival",
        "marker-color": "#e6194b"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "stop_idx": "0",
        "departure": "1970-01-01T00:00:00Z",
        "marker-color": "#808080",
        "jobs_ids": "departure",
        "marker-symbol": "warehouse",
        "arrival": "1970-01-01T00:00:00Z",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "1",
        "jobs_ids": "job25",
        "marker-size": "medium",
        "departure": "1970-01-01T00:18:36Z",
        "marker-color": "#808080",
        "tour_idx": "1",
        "arrival": "1970-01-01T00:15:36Z",
        "marker-symbol": "marker"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3890068,
          52.5189653
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#808080",
        "marker-symbol": "marker",
        "tour_idx": "1",
        "jobs_ids": "job7",
        "departure": "1970-01-01T00:25:12Z",
        "marker-size": "medium",
        "arrival": "1970-01-01T00:22:12Z",
        "stop_idx": "2"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3996298,
          52.5372914
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "marker-symbol": "marker",
        "stop_idx": "3",
        "departure": "1970-01-01T00:30:05Z",
        "marker-color": "#808080",
        "jobs_ids": "job45",
        "tour_idx": "1",
        "arrival": "1970-01-01T00:27:05Z"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4139155,
          52.5425207
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "stop_idx": "4",
        "departure": "1970-01-01T00:34:46Z",
        "marker-size": "medium",
        "arrival": "1970-01-01T00:31:46Z",
        "jobs_ids": "job8",
        "marker-color": "#808080",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3989552,
          52.5429597
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "arrival": "1970-01-01T00:35:44Z",
        "stop_idx": "5",
        "tour_idx": "1",
        "jobs_ids": "job38",
        "marker-symbol": "marker",
        "marker-color": "#808080",
        "marker-size": "medium",
        "departure": "1970-01-01T00:38:44Z"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3914127,
          52.5404107
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "6",
        "jobs_ids": "job29",
        "marker-color": "#808080",
        "arrival": "1970-01-01T00:41:09Z",
        "tour_idx": "1",
        "departure": "1970-01-01T00:44:09Z",
        "marker-size": "medium",
        "marker-symbol": "marker"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3733163,
          52.547349
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job39",
        "marker-symbol": "marker",
        "marker-size": "medium",
        "arrival": "1970-01-01T00:44:43Z",
        "departure": "1970-01-01T00:47:43Z",
        "stop_idx": "7",
        "marker-color": "#808080",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.369356,
          52.5492619
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#808080",
        "departure": "1970-01-01T00:54:51Z",
        "jobs_ids": "job18",
        "tour_idx": "1",
        "arrival": "1970-01-01T00:51:51Z",
        "stop_idx": "8",
        "marker-symbol": "marker",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3327894,
          52.5473416
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "1",
        "departure": "1970-01-01T01:02:34Z",
        "stop_idx": "9",
        "arrival": "1970-01-01T00:59:34Z",
        "marker-color": "#808080",
        "marker-symbol": "marker",
        "jobs_ids": "job15",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3027992,
          52.5650163
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "arrival": "1970-01-01T01:03:37Z",
        "jobs_ids": "job46",
        "departure": "1970-01-01T01:06:37Z",
        "marker-symbol": "marker",
        "marker-color": "#808080",
        "marker-size": "medium",
        "stop_idx": "10",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2940051,
          52.5632095
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "departure": "1970-01-01T01:17:52Z",
        "marker-size": "medium",
        "tour_idx": "1",
        "arrival": "1970-01-01T01:14:52Z",
        "marker-color": "#808080",
        "jobs_ids": "job20",
        "stop_idx": "11"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.304444,
          52.5192039
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "arrival": "1970-01-01T01:20:11Z",
        "tour_idx": "1",
        "marker-size": "medium",
        "departure": "1970-01-01T01:23:11Z",
        "stop_idx": "12",
        "jobs_ids": "job47",
        "marker-symbol": "marker",
        "marker-color": "#808080"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2852959,
          52.5146285
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "13",
        "marker-color": "#808080",
        "tour_idx": "1",
        "marker-symbol": "warehouse",
        "departure": "1970-01-01T01:32:08Z",
        "jobs_ids": "arrival",
        "arrival": "1970-01-01T01:32:08Z",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "warehouse",
        "stop_idx": "0",
        "arrival": "1970-01-01T00:00:00Z",
        "tour_idx": "2",
        "departure": "1970-01-01T00:00:00Z",
        "marker-size": "medium",
        "marker-color": "#000075",
        "jobs_ids": "departure"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "arrival": "1970-01-01T00:17:48Z",
        "jobs_ids": "job22",
        "marker-symbol": "marker",
        "stop_idx": "1",
        "marker-color": "#000075",
        "tour_idx": "2",
        "departure": "1970-01-01T00:20:48Z",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4363713,
          52.4828453
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job10",
        "departure": "1970-01-01T00:28:09Z",
        "stop_idx": "2",
        "tour_idx": "2",
        "marker-symbol": "marker",
        "marker-size": "medium",
        "arrival": "1970-01-01T00:25:09Z",
        "marker-color": "#000075"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4698049,
          52.4945572
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#000075",
        "jobs_ids": "job11",
        "marker-size": "medium",
        "stop_idx": "3",
        "departure": "1970-01-01T00:32:06Z",
        "marker-symbol": "marker",
        "arrival": "1970-01-01T00:29:06Z",
        "tour_idx": "2"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4740528,
          52.4989511
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "departure": "1970-01-01T00:36:23Z",
        "tour_idx": "2",
        "arrival": "1970-01-01T00:33:23Z",
        "marker-symbol": "marker",
        "jobs_ids": "job17",
        "marker-size": "medium",
        "marker-color": "#000075",
        "stop_idx": "4"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.475099,
          52.5058684
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "2",
        "departure": "1970-01-01T00:43:07Z",
        "arrival": "1970-01-01T00:40:07Z",
        "stop_idx": "5",
        "marker-color": "#000075",
        "marker-symbol": "marker",
        "jobs_ids": "job4",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4619776,
          52.5243421
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "stop_idx": "6",
        "marker-color": "#000075",
        "departure": "1970-01-01T00:48:24Z",
        "marker-size": "medium",
        "tour_idx": "2",
        "jobs_ids": "job21",
        "arrival": "1970-01-01T00:45:24Z"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4418623,
          52.5228904
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "7",
        "marker-size": "medium",
        "jobs_ids": "job34",
        "marker-color": "#000075",
        "departure": "1970-01-01T00:55:09Z",
        "marker-symbol": "marker",
        "arrival": "1970-01-01T00:52:09Z",
        "tour_idx": "2"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4416407,
          52.5431264
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "marker-symbol": "marker",
        "jobs_ids": "job16",
        "stop_idx": "8",
        "marker-color": "#000075",
        "tour_idx": "2",
        "arrival": "1970-01-01T00:57:03Z",
        "departure": "1970-01-01T01:00:03Z"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4286263,
          52.5496702
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "tour_idx": "2",
        "jobs_ids": "job43",
        "marker-size": "medium",
        "marker-color": "#000075",
        "stop_idx": "9",
        "departure": "1970-01-01T01:05:28Z",
        "arrival": "1970-01-01T01:02:28Z"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4194712,
          52.5614441
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job9",
        "marker-color": "#000075",
        "tour_idx": "2",
        "arrival": "1970-01-01T01:06:44Z",
        "departure": "1970-01-01T01:09:44Z",
        "marker-symbol": "marker",
        "marker-size": "medium",
        "stop_idx": "10"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4231417,
          52.5678751
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job1",
        "tour_idx": "2",
        "stop_idx": "11",
        "marker-color": "#000075",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "arrival": "1970-01-01T01:14:04Z",
        "departure": "1970-01-01T01:17:04Z"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3848221,
          52.5697304
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "tour_idx": "2",
        "marker-symbol": "marker",
        "stop_idx": "12",
        "departure": "1970-01-01T01:21:51Z",
        "jobs_ids": "job13",
        "marker-color": "#000075",
        "arrival": "1970-01-01T01:18:51Z"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.369072,
          52.5685168
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "marker-size": "medium",
        "tour_idx": "2",
        "stop_idx": "13",
        "arrival": "1970-01-01T01:29:10Z",
        "jobs_ids": "job23",
        "departure": "1970-01-01T01:32:10Z",
        "marker-color": "#000075"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3668934,
          52.5291335
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "arrival",
        "marker-symbol": "warehouse",
        "stop_idx": "14",
        "tour_idx": "2",
        "departure": "1970-01-01T01:47:18Z",
        "marker-color": "#000075",
        "marker-size": "medium",
        "arrival": "1970-01-01T01:47:18Z"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "departure",
        "stop_idx": "0",
        "departure": "1970-01-01T00:00:00Z",
        "marker-color": "#808000",
        "marker-size": "medium",
        "arrival": "1970-01-01T00:00:00Z",
        "marker-symbol": "warehouse",
        "tour_idx": "3"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "3",
        "departure": "1970-01-01T00:21:38Z",
        "marker-color": "#808000",
        "marker-symbol": "marker",
        "stop_idx": "1",
        "arrival": "1970-01-01T00:18:38Z",
        "marker-size": "medium",
        "jobs_ids": "job12"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4461224,
          52.4658835
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "departure": "1970-01-01T00:28:01Z",
        "marker-color": "#808000",
        "stop_idx": "2",
        "arrival": "1970-01-01T00:25:01Z",
        "marker-size": "medium",
        "tour_idx": "3",
        "jobs_ids": "job5"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4757055,
          52.4629002
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "departure": "1970-01-01T00:33:11Z",
        "jobs_ids": "job30",
        "stop_idx": "3",
        "marker-color": "#808000",
        "arrival": "1970-01-01T00:30:11Z",
        "tour_idx": "3",
        "marker-symbol": "marker"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4914662,
          52.4695374
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#808000",
        "marker-symbol": "marker",
        "tour_idx": "3",
        "marker-size": "medium",
        "arrival": "1970-01-01T00:39:47Z",
        "departure": "1970-01-01T00:42:47Z",
        "jobs_ids": "job42",
        "stop_idx": "4"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5423247,
          52.4871049
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "arrival": "1970-01-01T00:44:54Z",
        "tour_idx": "3",
        "stop_idx": "5",
        "marker-color": "#808000",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "departure": "1970-01-01T00:47:54Z",
        "jobs_ids": "job33"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5251532,
          52.4917198
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "3",
        "departure": "1970-01-01T00:53:47Z",
        "marker-symbol": "marker",
        "marker-color": "#808000",
        "stop_idx": "6",
        "marker-size": "medium",
        "arrival": "1970-01-01T00:50:47Z",
        "jobs_ids": "job2"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5152641,
          52.5060419
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "stop_idx": "7",
        "tour_idx": "3",
        "departure": "1970-01-01T01:02:08Z",
        "marker-color": "#808000",
        "marker-symbol": "marker",
        "arrival": "1970-01-01T00:59:08Z",
        "jobs_ids": "job19"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.546564,
          52.5276784
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job44",
        "marker-symbol": "marker",
        "departure": "1970-01-01T01:08:28Z",
        "marker-size": "medium",
        "stop_idx": "8",
        "tour_idx": "3",
        "marker-color": "#808000",
        "arrival": "1970-01-01T01:05:28Z"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.527639,
          52.5414557
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "departure": "1970-01-01T01:12:27Z",
        "stop_idx": "9",
        "marker-symbol": "marker",
        "jobs_ids": "job3",
        "tour_idx": "3",
        "arrival": "1970-01-01T01:09:27Z",
        "marker-color": "#808000",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5189513,
          52.5421315
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#808000",
        "stop_idx": "10",
        "marker-size": "medium",
        "jobs_ids": "job35",
        "tour_idx": "3",
        "departure": "1970-01-01T01:15:47Z",
        "marker-symbol": "marker",
        "arrival": "1970-01-01T01:12:47Z"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5161692,
          52.5426716
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "11",
        "departure": "1970-01-01T01:22:03Z",
        "arrival": "1970-01-01T01:19:03Z",
        "marker-symbol": "marker",
        "jobs_ids": "job24",
        "marker-color": "#808000",
        "marker-size": "medium",
        "tour_idx": "3"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5062954,
          52.5261554
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#808000",
        "marker-symbol": "marker",
        "tour_idx": "3",
        "stop_idx": "12",
        "jobs_ids": "job49",
        "departure": "1970-01-01T01:25:53Z",
        "arrival": "1970-01-01T01:22:53Z",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4995315,
          52.5279215
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "marker-symbol": "marker",
        "marker-color": "#808000",
        "jobs_ids": "job26",
        "tour_idx": "3",
        "stop_idx": "13",
        "arrival": "1970-01-01T01:33:47Z",
        "departure": "1970-01-01T01:36:47Z"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4368189,
          52.5090143
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "departure": "1970-01-01T01:56:03Z",
        "marker-size": "medium",
        "marker-symbol": "warehouse",
        "jobs_ids": "arrival",
        "stop_idx": "14",
        "arrival": "1970-01-01T01:56:03Z",
        "marker-color": "#808000",
        "tour_idx": "3"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stroke": "#e6194b",
        "departure": "1970-01-01T00:00:00Z",
        "tour_idx": "0",
        "activities": "14",
        "vehicle_id": "vehicle_1",
        "shift_idx": "0",
        "arrival": "1970-01-01T01:09:43Z",
        "distance": "20210",
        "stroke-width": "4"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.2812488,
            52.4664257
          ],
          [
            13.3157235,
            52.4827319
          ],
          [
            13.3353656,
            52.4868236
          ],
          [
            13.3539713,
            52.4959052
          ],
          [
            13.3689955,
            52.5065998
          ],
          [
            13.3788834,
            52.4940454
          ],
          [
            13.3915876,
            52.4960479
          ],
          [
            13.3832067,
            52.4855438
          ],
          [
            13.38667,
            52.4737341
          ],
          [
            13.3628588,
            52.4742821
          ],
          [
            13.3598752,
            52.4708241
          ],
          [
            13.3321906,
            52.4711004
          ],
          [
            13.322692,
            52.4661617
          ],
          [
            13.2812488,
            52.4664257
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "distance": "33692",
        "stroke": "#3cb44b",
        "shift_idx": "0",
        "activities": "14",
        "stroke-width": "4",
        "vehicle_id": "vehicle_3",
        "tour_idx": "1",
        "departure": "1970-01-01T00:00:00Z",
        "arrival": "1970-01-01T01:32:08Z"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.2812488,
            52.4664257
          ],
          [
            13.3890068,
            52.5189653
          ],
          [
            13.3996298,
            52.5372914
          ],
          [
            13.4139155,
            52.5425207
          ],
          [
            13.3989552,
            52.5429597
          ],
          [
            13.3914127,
            52.5404107
          ],
          [
            13.3733163,
            52.547349
          ],
          [
            13.369356,
            52.5492619
          ],
          [
            13.3327894,
            52.5473416
          ],
          [
            13.3027992,
            52.5650163
          ],
          [
            13.2940051,
            52.5632095
          ],
          [
            13.304444,
            52.5192039
          ],
          [
            13.2852959,
            52.5146285
          ],
          [
            13.2812488,
            52.4664257
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stroke-width": "4",
        "shift_idx": "0",
        "vehicle_id": "vehicle_4",
        "distance": "40988",
        "tour_idx": "2",
        "arrival": "1970-01-01T01:47:18Z",
        "departure": "1970-01-01T00:00:00Z",
        "stroke": "#4363d8",
        "activities": "15"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.2812488,
            52.4664257
          ],
          [
            13.4363713,
            52.4828453
          ],
          [
            13.4698049,
            52.4945572
          ],
          [
            13.4740528,
            52.4989511
          ],
          [
            13.475099,
            52.5058684
          ],
          [
            13.4619776,
            52.5243421
          ],
          [
            13.4418623,
            52.5228904
          ],
          [
            13.4416407,
            52.5431264
          ],
          [
            13.4286263,
            52.5496702
          ],
          [
            13.4194712,
            52.5614441
          ],
          [
            13.4231417,
            52.5678751
          ],
          [
            13.3848221,
            52.5697304
          ],
          [
            13.369072,
            52.5685168
          ],
          [
            13.3668934,
            52.5291335
          ],
          [
            13.2812488,
            52.4664257
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "3",
        "activities": "15",
        "distance": "46236",
        "arrival": "1970-01-01T01:56:03Z",
        "vehicle_id": "vehicle_5",
        "shift_idx": "0",
        "stroke-width": "4",
        "departure": "1970-01-01T00:00:00Z",
        "stroke": "#f58231"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.2812488,
            52.4664257
          ],
          [
            13.4461224,
            52.4658835
          ],
          [
            13.4757055,
            52.4629002
          ],
          [
            13.4914662,
            52.4695374
          ],
          [
            13.5423247,
            52.4871049
          ],
          [
            13.5251532,
            52.4917198
          ],
          [
            13.5152641,
            52.5060419
          ],
          [
            13.546564,
            52.5276784
          ],
          [
            13.527639,
            52.5414557
          ],
          [
            13.5189513,
            52.5421315
          ],
          [
            13.5161692,
            52.5426716
          ],
          [
            13.5062954,
            52.5261554
          ],
          [
            13.4995315,
            52.5279215
          ],
          [
            13.4368189,
            52.5090143
          ],
          [
            13.2812488,
            52.4664257
          ]
        ]
      }
    }
  ]
}
</div>
<div id="map"></div>
<h2 id="design"><a class="header" href="#design">Design</a></h2>
<p>Although performance is constantly in focus, a main idea behind projects' design is extensibility:
the project aims to support a very wide range of VRP variations known as Rich VRP. This is achieved
through various extension points: custom constraints, objective functions, acceptance criteria, etc.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getting-started"><a class="header" href="#getting-started">Getting Started</a></h1>
<p>This chapter describes basic information regarding the project and gives some instructions how to start with it.</p>
<p>Alternative, more example based, tutorial can be found in dedicated <a href="https://github.com/reinterpretcat/vrp/tree/master/examples/python-interop/tutorial.ipynb">jupyter notebook</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="features"><a class="header" href="#features">Features</a></h1>
<p>The main focus of the project is to support solving multiple variations of VRP within their combination. This non-complete
list describes common VRP variations supported by the project:</p>
<ul>
<li>
<p><strong>Capacitated VRP (CVRP)</strong>: designs optimal delivery routes where each vehicle only travels
one route, each vehicle has the same characteristics and there is only one central depot.</p>
</li>
<li>
<p><strong>Heterogeneous Fleet VRP (HFVRP)</strong> aka Mixed Fleet VRP: extend CVRP problem by varying the capacities. Also
<a href="getting-started/../examples/pragmatic/basics/profiles.html">vehicle profiles</a> example shows how to use different routing matrix
profiles for different vehicle types, e.g. truck and car.</p>
</li>
<li>
<p><strong>VRP with Time Windows (VRPTW)</strong>: assumes that deliveries to a given customer must occur in a
certain time interval, which varies from customer to customer.</p>
</li>
<li>
<p><strong>VRP with Pickup and Delivery (VRPPD)</strong>: goods need to be picked up from a certain location and
dropped off at their destination. The pick-up and drop-off must be done by the same vehicle,
which is why the pick-up location and drop-off location must be included in the same route.</p>
</li>
<li>
<p><strong>VRP with backhauls (VRPB)</strong>: a vehicle does deliveries as well as pick-ups in one route. Some customers
require deliveries (referred to as linehauls) and others require pick-ups (referred to as backhauls).</p>
</li>
<li>
<p><strong>Multi-Depot VRP (MDVRP)</strong>: assumes that multiple depots are geographically spread among
the customers.</p>
</li>
<li>
<p><strong>Multi-Trip VRP (MTVRP)</strong>: extends the VRP by adding the following constraint: routes have to be assigned
to M vehicles in such a way that the total cost of the routes assigned to the same vehicle does not exceed
a time horizon T (for instance the duration of a typical working day). See <a href="getting-started/../examples/pragmatic/basics/reload.html">multiple reloads</a>
example.</p>
</li>
<li>
<p><strong>Multi-Objective VRP (MOVRP)</strong>: this variant addresses a need of real life applications, where decision maker
should consider not only one objective (for example, total cost), but multiple ones simultaneously, such as
amount of tours, unassigned jobs, work balance, etc. See <a href="getting-started/../examples/pragmatic/objectives/index.html">multiple objectives</a>
example.</p>
</li>
<li>
<p><strong>Open VRP (OVRP)</strong>: usually, a route beginning at a given depot must finish at this depot, but in
this variation vehicle ends at the last served customer.</p>
</li>
<li>
<p><strong>VRP with Lunch Break (VRPLB)</strong>: this problem arises when drivers must take pauses during their shift,
for example, for lunch breaks. The project supports different types of break: with/without location, time window,
time period. See <a href="getting-started/../examples/pragmatic/basics/break.html">multiple breaks</a> example.</p>
</li>
<li>
<p><strong>VRP with Route Balance (VRPRB)</strong>: the majority of the problems encountered in industry, particularly in logistics,
are multi-objective in nature. The VRPRB variant tries to minimize not only for the cost, but also for balancing
workloads between routes.
See <a href="getting-started/../examples/pragmatic/objectives/objective-balance-distance.html">one of examples</a>.</p>
</li>
<li>
<p><strong>Periodic VRP (PVRP)</strong>: is used when planning is made over a certain period and deliveries to the customer can be
made in different days. In current implementation each customer is visited only once. See <a href="getting-started/../examples/pragmatic/basics/multi-day.html">multiple shifts</a>
example which shows multi-day planning scenario when vehicle can be used multiple times, but on different days.</p>
</li>
<li>
<p><strong>Time dependent VRP (TDVRP)</strong>: the travel time and distance between two customers or between a customer and
the depot depends on time of day.</p>
</li>
<li>
<p><strong>Skill VRP (SVRP)</strong>: associates some skill(-s) with jobs which is requirement for vehicle to have in order to serve
the job.</p>
</li>
<li>
<p><strong>Traveling Salesman Problem (TSP)</strong>: this is a specific case of VRP when there is only one vehicle.</p>
</li>
</ul>
<p>In general, all these variations can be combined together in one single problem definition in <code>pragmatic</code> format.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installation"><a class="header" href="#installation">Installation</a></h1>
<p>Depending on your development environment, you can use different ways to install the solver:</p>
<h2 id="install-with-python"><a class="header" href="#install-with-python">Install with Python</a></h2>
<p>The functionality of <code>vrp-cli</code> is published to <a href="https://pypi.org/project/vrp-cli/">pypi.org</a>, so you can just install it
using pip and use from python:</p>
<pre><code class="language-shell">pip install vrp-cli
python examples/python-interop/example.py # run test example
</code></pre>
<p>Alternatively, you can use <a href="https://github.com/PyO3/maturin">maturin</a> tool to build solver locally.</p>
<p>You can find extra information in <a href="https://reinterpretcat.github.io/vrp/examples/interop/python.html">python example section</a>
of the docs. The <a href="getting-started/./examples/python-interop/example.py">full source code</a> of python example is available in the repo which
contains useful model wrappers with help of <code>pydantic</code> lib.</p>
<h2 id="install-from-docker"><a class="header" href="#install-from-docker">Install from Docker</a></h2>
<p>Another fast way to try vrp solver on your environment is to use <code>docker</code> image (not performance optimized):</p>
<ul>
<li><strong>run public image</strong> from <code>Github Container Registry</code>:</li>
</ul>
<pre><code class="language-bash">    docker run -it -v $(pwd):/repo --name vrp-cli --rm ghcr.io/reinterpretcat/vrp/vrp-cli:1.24.0
</code></pre>
<ul>
<li><strong>build image locally</strong> using <code>Dockerfile</code> provided:</li>
</ul>
<pre><code class="language-bash">docker build -t vrp_solver .
docker run -it -v $(pwd):/repo --rm vrp_solver
</code></pre>
<p>Please note that the docker image is built using <code>musl</code>, not <code>glibc</code> standard library. So there might be some performance
implications.</p>
<h2 id="install-from-cargo"><a class="header" href="#install-from-cargo">Install from Cargo</a></h2>
<p>You can install vrp solver <code>cli</code> tool directly with <code>cargo install</code>:</p>
<pre><code>cargo install vrp-cli
</code></pre>
<p>Ensure that your <code>$PATH</code> is properly configured to source the crates binaries, and then run solver using the <code>vrp-cli</code> command.</p>
<h2 id="install-from-source"><a class="header" href="#install-from-source">Install from source</a></h2>
<p>Once pulled the source code, you can build it using <code>cargo</code>:</p>
<pre><code>cargo build --release
</code></pre>
<p>Built binaries can be found in the <code>./target/release</code> directory.</p>
<p>Alternatively, you can try to run the following script from the project root:</p>
<pre><code>./solve_problem.sh examples/data/pragmatic/objectives/berlin.default.problem.json
</code></pre>
<p>It will build the executable and automatically launch the solver with the specified VRP definition. Results are
stored in the folder where a problem definition is located.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="defining-problem"><a class="header" href="#defining-problem">Defining problem</a></h1>
<p>In general, expressing an arbitrary VRP problem in one simple and universal format is a challenging task. <code>pragmatic</code>
format aims to do that and there are <a href="getting-started/../concepts/pragmatic/index.html">concept</a> and <a href="getting-started/../examples/pragmatic/index.html">example</a>
sections which describe multiple features it supports in great details. However, it might take some time to get a huge
problem with a lot of jobs and vehicles converted into it.</p>
<p>A <code>csv import</code> feature might help here.</p>
<h2 id="csv-import"><a class="header" href="#csv-import">CSV import</a></h2>
<p><code>vrp-cli</code> supports importing jobs and vehicles into <code>pragmatic</code> json format by the following command:</p>
<pre><code>    vrp-cli import csv -i jobs.csv -i vehicles.csv -o problem.json
</code></pre>
<p>As you can see from the command, you need to specify jobs and vehicles in two separate csv files in the exact order.</p>
<h3 id="jobs-csv"><a class="header" href="#jobs-csv">Jobs csv</a></h3>
<p>Jobs csv defines a <code>plan</code> of the problem and should have the following columns:</p>
<ul>
<li><code>ID</code> <strong>(string)</strong>: an id</li>
<li><code>LAT</code> <strong>(float)</strong>: a latitude</li>
<li><code>LNG</code> <strong>(float)</strong>: a longitude</li>
<li><code>DEMAND</code> <strong>(integer)</strong>: a single dimensional demand. Depending on the value, it models different job activities:
<ul>
<li>positive: <code>pickup</code></li>
<li>negative: <code>delivery</code></li>
<li>zero: <code>service</code></li>
</ul>
</li>
<li><code>DURATION</code> <strong>(integer)</strong>: job duration in seconds</li>
<li><code>TW_START</code> <strong>(date in RFC3999)</strong>: earliest time when job can be served</li>
<li><code>TW_END</code> <strong>(date in RFC3999)</strong>: latest time when job can be served</li>
</ul>
<p>To model a job with more than one activity (e.g. pickup + delivery), specify same <code>ID</code> twice. Example:</p>
<pre><code class="language-csv">ID,LAT,LNG,DEMAND,DURATION,TW_START,TW_END
job1,52.52599,13.45413,2,5,2020-07-04T08:00:00Z,2020-07-04T12:00:00Z
job2,52.5225,13.4095,1,3,,
job2,52.5165,13.3808,-1,3,,
job3,52.5316,13.3884,-3,5,2020-07-04T08:00:00Z,2020-07-04T16:00:00Z
</code></pre>
<p>job with <code>job2</code> id specified twice with positive and negative demand, so it will be considered as pickup and delivery job.</p>
<h3 id="vehicles-csv"><a class="header" href="#vehicles-csv">Vehicles csv</a></h3>
<p>Vehicles csv defines a <code>fleet</code> of the problem and should have the following columns:</p>
<ul>
<li><code>ID</code> <strong>(string)</strong>: an unique vehicle type id</li>
<li><code>LAT</code> <strong>(float)</strong>: a depot latitude</li>
<li><code>LNG</code> <strong>(float)</strong>: a depot longitude</li>
<li><code>CAPACITY</code> <strong>(unassigned integer)</strong>: a single dimensional vehicle capacity</li>
<li><code>TW_START</code> <strong>(date in RFC3999)</strong>: earliest time when vehicle can start at depot</li>
<li><code>TW_END</code> <strong>(date in RFC3999)</strong>: latest time when vehicle should return to depot</li>
<li><code>AMOUNT</code> <strong>(unassigned integer)</strong>: a vehicle amount of this type</li>
<li><code>PROFILE</code> <strong>(string)</strong>: a routing profile</li>
</ul>
<p>This is example of such csv:</p>
<pre><code class="language-csv">ID,LAT,LNG,CAPACITY,TW_START,TW_END,AMOUNT,PROFILE
vehicle1,52.4664,13.4023,40,2020-07-04T08:00:00Z,2020-07-04T20:00:00Z,10,car
vehicle2,52.4959,13.3539,50,2020-07-04T08:00:00Z,2020-07-04T20:00:00Z,20,truck
</code></pre>
<h3 id="limitations"><a class="header" href="#limitations">Limitations</a></h3>
<p>Please note, to keep csv format simple and easy to use, it's limited to just a few, really basic features known as
<em>Capacitated Vehicle Routing Problem with Time Windows</em> (CVRPTW). However, for a few jobs/vehices, you can modify the
file manually as post-processing step.</p>
<h3 id="code-usage"><a class="header" href="#code-usage">Code usage</a></h3>
<p>You can use the library from the code, check <a href="https://github.com/reinterpretcat/vrp/tree/master/vrp-core/examples">code examples</a> to see how.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="acquiring-routing-info"><a class="header" href="#acquiring-routing-info">Acquiring routing info</a></h1>
<p>Once the problem is represented in <code>pragmatic</code> format, it's time to get matrix routing data.</p>
<h2 id="routing-locations"><a class="header" href="#routing-locations">Routing locations</a></h2>
<p>The solver does not provide routing functionality, that's why you need to get it manually using unique locations from the
problem definition. The process of getting locations for matrix routing and its usage is described
<a href="getting-started/../concepts/pragmatic/routing/format.html">here</a>.</p>
<h2 id="routing-matrix-approximation"><a class="header" href="#routing-matrix-approximation">Routing matrix approximation</a></h2>
<p>For quick prototyping, <code>pragmatic</code> format supports distance approximation using <a href="https://en.wikipedia.org/wiki/Haversine_formula">haversine formula</a>
within fixed speed for durations. This helps you quickly check how solver works on specific problem variant without
need to acquire routing matrix.</p>
<p>The speed is <code>10m/s</code> by default and can be tweaked by setting optional <code>speed</code> property in a each profile separately.</p>
<p>To use this feature, simply do not pass any matrix by omitting <code>-m</code> parameter.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="running-solver"><a class="header" href="#running-solver">Running solver</a></h1>
<p>To run the solver, simply use:</p>
<pre><code>vrp-cli solve pragmatic problem.json -o solution.json -g solution.geojson --log
</code></pre>
<p>If you specify <code>--log</code> option, it will produce some log output which contains various information regarding refinement
process such as costs, amount of routes, time, etc.:</p>
<pre><code>configured to use max-time: 300s
configured to use custom heuristic
preparing initial solution(-s)
[0s] created initial solution in 536ms, fitness: (0.000, 104.000, 70928.735)
[1s] created initial solution in 513ms, fitness: (0.000, 109.000, 74500.133)
[2s] created initial solution in 1097ms, fitness: (0.000, 104.000, 70928.735)
[2s] created initial solution in 168ms, fitness: (0.000, 125.000, 94305.015)
created initial population in 2317ms
[2s] generation 0 took 21ms, fitness: (0.000, 104.000, 70669.056)
[2s] population state (phase: initial, speed: 0.00 gen/sec, improvement ratio: 1.000:1.000):
        rank: 0, fitness: (0.000, 104.000, 70669.056), difference: 0.000%
        rank: 1, fitness: (0.000, 104.000, 70705.550), difference: 0.052%
[5s] generation 100 took 27ms, fitness: (0.000, 96.000, 64007.851)
[7s] generation 200 took 19ms, fitness: (0.000, 95.000, 63087.282)
..
149s] generation 4000 took 44ms, fitness: (0.000, 92.000, 54032.930)
[149s] population state (phase: exploration, speed: 26.78 gen/sec, improvement ratio: 0.235:0.155):
        rank: 0, fitness: (0.000, 92.000, 54032.930), difference: 0.000%
        rank: 1, fitness: (0.000, 92.000, 54032.930), difference: 0.000%
[153s] generation 4100 took 42ms, fitness: (0.000, 92.000, 54021.021)
..
[297s] generation 7200 took 20ms, fitness: (0.000, 92.000, 53264.644)
[299s] population state (phase: exploitation, speed: 24.16 gen/sec, improvement ratio: 0.165:0.058):
        rank: 0, fitness: (0.000, 92.000, 53264.026), difference: 0.000%
        rank: 1, fitness: (0.000, 92.000, 53264.026), difference: 0.000%
[299s] total generations: 7246, speed: 24.16 gen/sec
Route 1: 144 925 689 739 358 32 783 924 461 111 766 842 433
..
Route 92: 837 539 628 847 740 585 328 666 785 745
Cost 53264.03
</code></pre>
<p>Once the problem is solved, it will save solution in <code>pragmatic</code> and <code>geojson</code> (optional) format.</p>
<h2 id="extra-options"><a class="header" href="#extra-options">Extra options</a></h2>
<p>The <code>vrp-cli</code> supports extra command line arguments which affects behavior of the algorithm.</p>
<h3 id="search-mode"><a class="header" href="#search-mode">Search mode</a></h3>
<p>By default, search is mostly performed in exploration mode (<code>broad</code>) which allows the algorithm to perform better
exploration of a solution space. However, it has slower overall convergence in better local optimum.
You can switch to exploitation mode with <code>deep</code> setting:</p>
<pre><code>vrp-cli solve pragmatic problem.json --search-mode=deep
</code></pre>
<p>In this mode, the algorithm memorizes only the last discovered best known solutions, so it can jump quicker to relatively
good local optimum, but suffers more from premature convergence.</p>
<p>A general recommendation is to use <code>deep</code> on relatively simple dataset and/or when strict time limits should be applied.</p>
<h3 id="heuristic-mode"><a class="header" href="#heuristic-mode">Heuristic mode</a></h3>
<p>At the moment, the solver supports three types of hyper-heuristics:</p>
<ul>
<li><code>static selective</code>: chooses metaheuristic from the list of predefined within their probabilities</li>
<li><code>dynamic selective</code>: applies reinforcement learning technics to adjust probabilities of predefined metaheuristics</li>
<li><code>multi selective</code> (default): starts with dynamic selective and switches to static selective if the progression speed is slow</li>
</ul>
<p>You can switch between modes with <code>heuristic</code> setting:</p>
<pre><code>vrp-cli solve pragmatic problem.json --heuristic=static
</code></pre>
<h3 id="termination-criteria"><a class="header" href="#termination-criteria">Termination criteria</a></h3>
<p>Termination criteria defines when refinement algorithm should stop and return best known solution. At the moment, there
are three types which can be used simultaneously:</p>
<h4 id="max-time"><a class="header" href="#max-time">Max time</a></h4>
<p>Max time specifies duration of solving in seconds:</p>
<pre><code>vrp-cli solve pragmatic problem.json --max-time=600
</code></pre>
<h4 id="max-generations"><a class="header" href="#max-generations">Max generations</a></h4>
<p>Generation is one refinement step and it can be limited via <em>max-generations</em> parameter:</p>
<pre><code>vrp-cli solve pragmatic problem.json --max-generations=1000
</code></pre>
<h4 id="coefficient-of-variation"><a class="header" href="#coefficient-of-variation">Coefficient of variation</a></h4>
<p>This criteria calculates <a href="https://en.wikipedia.org/wiki/Coefficient_of_variation">coefficient of variation</a> for each
objective over specific amount of generations specified by <code>sample</code> and stops algorithm when all calculated values are
below specified <code>threshold</code>. It can be defined by <code>min-cv</code> parameter:</p>
<pre><code>vrp-cli solve pragmatic problem.json --min-cv=sample,200,0.1,true
</code></pre>
<p>Here, the first parameter is generation amount, the second - threshold, the third - boolean flag whether the logic is
applicable for all search phases, not only exploitation.</p>
<p>Alternatively, period of time in seconds can be specified instead of sample:</p>
<pre><code>vrp-cli solve pragmatic problem.json --min-cv=period,300,0.1,true
</code></pre>
<p>Due to internal search heuristic implementation, it is recommended to use this termination criteria with <code>max-time</code> or
<code>max-generations</code>.</p>
<h4 id="default-behavior"><a class="header" href="#default-behavior">Default behavior</a></h4>
<p>Default termination criteria is max 3000 generations and 300 seconds at max.</p>
<h3 id="initial-solution"><a class="header" href="#initial-solution">Initial solution</a></h3>
<p>You can supply initial solution to start with using <code>-i</code> option. Amount of initial solutions to be built can be
overridden using <code>init-size</code> option.</p>
<h3 id="writing-solution-to-file"><a class="header" href="#writing-solution-to-file">Writing solution to file</a></h3>
<p>Writing solution into file is controlled by <code>-o</code> or <code>--out-result</code> setting. When it is omitted, then solution is written
in std out.</p>
<h4 id="geojson"><a class="header" href="#geojson">Geojson</a></h4>
<p>Pragmatic format supports option <code>-g</code> or <code>--geo-json</code> which writes solution in separate file in geojson format.
If the library iw used from the interop api (e.g. python or c), then solution in geojson can be returned inside <code>extras.features</code>
with the config option specified:
s</p>
<pre><code class="language-json">{
  "output": {
    "includeGeojson": true
  }
}
</code></pre>
<p>s</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="analyzing-results"><a class="header" href="#analyzing-results">Analyzing results</a></h1>
<p>In this example, solution is returned in a <code>pragmatic</code> format which model is described in details
<a href="getting-started/../concepts/pragmatic/solution/index.html">here</a>. However, analyzing VRP solution might be a difficult task. That's why
<code>pragmatic</code> format supports output in <a href="https://en.wikipedia.org/wiki/GeoJSON">geojson</a> format which can be simply
visualized in numerous web based front ends, e.g. <a href="http://geojson.io/">geojson.io</a> or using open source tools such
as <code>leaflet</code>:</p>
<div id="geojson" hidden>
{
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#e6194b",
        "tour_idx": "0",
        "marker-symbol": "warehouse",
        "jobs_ids": "departure",
        "stop_idx": "0",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job40",
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "tour_idx": "0",
        "stop_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3157235,
          52.4827319
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "2",
        "tour_idx": "0",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "marker-color": "#e6194b",
        "jobs_ids": "job31"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3353656,
          52.4868236
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job50",
        "tour_idx": "0",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "marker-color": "#e6194b",
        "stop_idx": "3"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3539713,
          52.4959052
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "marker-size": "medium",
        "marker-color": "#e6194b",
        "tour_idx": "0",
        "stop_idx": "4",
        "jobs_ids": "job27"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3788834,
          52.4940454
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job6",
        "stop_idx": "5",
        "marker-size": "medium",
        "marker-color": "#e6194b",
        "marker-symbol": "marker",
        "tour_idx": "0"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3915876,
          52.4960479
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "0",
        "marker-color": "#e6194b",
        "marker-symbol": "marker",
        "marker-size": "medium",
        "stop_idx": "6",
        "jobs_ids": "job48"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3832067,
          52.4855438
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "7",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "jobs_ids": "job14",
        "marker-color": "#e6194b",
        "tour_idx": "0"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3628588,
          52.4742821
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#e6194b",
        "tour_idx": "0",
        "stop_idx": "8",
        "marker-symbol": "marker",
        "jobs_ids": "job36",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3598752,
          52.4708241
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "0",
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "jobs_ids": "job41",
        "stop_idx": "9"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3321906,
          52.4711004
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "marker-color": "#e6194b",
        "stop_idx": "10",
        "marker-size": "medium",
        "tour_idx": "0",
        "jobs_ids": "job32"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.322692,
          52.4661617
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "0",
        "marker-symbol": "warehouse",
        "stop_idx": "11",
        "jobs_ids": "arrival",
        "marker-color": "#e6194b",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "0",
        "marker-size": "medium",
        "jobs_ids": "departure",
        "marker-color": "#808080",
        "marker-symbol": "warehouse",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "stop_idx": "1",
        "tour_idx": "1",
        "marker-color": "#808080",
        "jobs_ids": "job37",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.38667,
          52.4737341
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job22",
        "tour_idx": "1",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "marker-color": "#808080",
        "stop_idx": "2"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4363713,
          52.4828453
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "tour_idx": "1",
        "stop_idx": "3",
        "marker-symbol": "marker",
        "marker-color": "#808080",
        "jobs_ids": "job10"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4698049,
          52.4945572
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "4",
        "marker-color": "#808080",
        "marker-symbol": "marker",
        "tour_idx": "1",
        "jobs_ids": "job11",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4740528,
          52.4989511
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "stop_idx": "5",
        "marker-color": "#808080",
        "marker-symbol": "marker",
        "tour_idx": "1",
        "jobs_ids": "job17"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.475099,
          52.5058684
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job26",
        "marker-color": "#808080",
        "tour_idx": "1",
        "marker-symbol": "marker",
        "stop_idx": "6",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4368189,
          52.5090143
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job21",
        "tour_idx": "1",
        "marker-size": "medium",
        "marker-color": "#808080",
        "marker-symbol": "marker",
        "stop_idx": "7"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4418623,
          52.5228904
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "marker-color": "#808080",
        "jobs_ids": "job4",
        "tour_idx": "1",
        "stop_idx": "8",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4619776,
          52.5243421
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job49",
        "marker-symbol": "marker",
        "tour_idx": "1",
        "marker-size": "medium",
        "marker-color": "#808080",
        "stop_idx": "9"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4995315,
          52.5279215
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "10",
        "jobs_ids": "job24",
        "marker-symbol": "marker",
        "tour_idx": "1",
        "marker-size": "medium",
        "marker-color": "#808080"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5062954,
          52.5261554
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job35",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "marker-color": "#808080",
        "tour_idx": "1",
        "stop_idx": "11"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5161692,
          52.5426716
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "1",
        "marker-color": "#808080",
        "stop_idx": "12",
        "marker-symbol": "marker",
        "marker-size": "medium",
        "jobs_ids": "job3"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5189513,
          52.5421315
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "marker-color": "#808080",
        "tour_idx": "1",
        "marker-symbol": "marker",
        "stop_idx": "13",
        "jobs_ids": "job44"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.527639,
          52.5414557
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#808080",
        "stop_idx": "14",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "jobs_ids": "job19",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.546564,
          52.5276784
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job2",
        "marker-size": "medium",
        "marker-color": "#808080",
        "stop_idx": "15",
        "marker-symbol": "marker",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5152641,
          52.5060419
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job33",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "stop_idx": "16",
        "tour_idx": "1",
        "marker-color": "#808080"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5251532,
          52.4917198
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job42",
        "marker-color": "#808080",
        "stop_idx": "17",
        "marker-size": "medium",
        "tour_idx": "1",
        "marker-symbol": "marker"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5423247,
          52.4871049
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#808080",
        "marker-size": "medium",
        "stop_idx": "18",
        "jobs_ids": "job30",
        "tour_idx": "1",
        "marker-symbol": "marker"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4914662,
          52.4695374
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#808080",
        "marker-symbol": "marker",
        "tour_idx": "1",
        "stop_idx": "19",
        "jobs_ids": "job5",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4757055,
          52.4629002
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job12",
        "marker-symbol": "marker",
        "tour_idx": "1",
        "stop_idx": "20",
        "marker-size": "medium",
        "marker-color": "#808080"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4461224,
          52.4658835
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "warehouse",
        "tour_idx": "1",
        "marker-color": "#808080",
        "marker-size": "medium",
        "stop_idx": "21",
        "jobs_ids": "arrival"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#000075",
        "marker-symbol": "warehouse",
        "tour_idx": "2",
        "jobs_ids": "departure",
        "stop_idx": "0",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "1",
        "jobs_ids": "job28",
        "marker-color": "#000075",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "tour_idx": "2"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3689955,
          52.5065998
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job25",
        "marker-symbol": "marker",
        "tour_idx": "2",
        "stop_idx": "2",
        "marker-size": "medium",
        "marker-color": "#000075"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3890068,
          52.5189653
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#000075",
        "tour_idx": "2",
        "stop_idx": "3",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "jobs_ids": "job23"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3668934,
          52.5291335
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "2",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "jobs_ids": "job38",
        "stop_idx": "4",
        "marker-color": "#000075"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3914127,
          52.5404107
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "2",
        "jobs_ids": "job7",
        "marker-symbol": "marker",
        "marker-size": "medium",
        "stop_idx": "5",
        "marker-color": "#000075"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3996298,
          52.5372914
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job8",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "tour_idx": "2",
        "stop_idx": "6",
        "marker-color": "#000075"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3989552,
          52.5429597
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#000075",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "tour_idx": "2",
        "stop_idx": "7",
        "jobs_ids": "job45"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4139155,
          52.5425207
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "jobs_ids": "job34",
        "stop_idx": "8",
        "marker-color": "#000075",
        "marker-size": "medium",
        "tour_idx": "2"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4416407,
          52.5431264
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "stop_idx": "9",
        "marker-size": "medium",
        "tour_idx": "2",
        "jobs_ids": "job16",
        "marker-color": "#000075"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4286263,
          52.5496702
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "10",
        "tour_idx": "2",
        "jobs_ids": "job43",
        "marker-symbol": "marker",
        "marker-size": "medium",
        "marker-color": "#000075"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4194712,
          52.5614441
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "2",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "stop_idx": "11",
        "jobs_ids": "job9",
        "marker-color": "#000075"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4231417,
          52.5678751
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "12",
        "marker-symbol": "marker",
        "marker-size": "medium",
        "tour_idx": "2",
        "jobs_ids": "job1",
        "marker-color": "#000075"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3848221,
          52.5697304
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job13",
        "marker-color": "#000075",
        "marker-size": "medium",
        "tour_idx": "2",
        "marker-symbol": "marker",
        "stop_idx": "13"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.369072,
          52.5685168
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "tour_idx": "2",
        "stop_idx": "14",
        "jobs_ids": "job29",
        "marker-color": "#000075",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3733163,
          52.547349
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "2",
        "stop_idx": "15",
        "marker-size": "medium",
        "marker-color": "#000075",
        "marker-symbol": "marker",
        "jobs_ids": "job39"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.369356,
          52.5492619
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "marker-color": "#000075",
        "tour_idx": "2",
        "stop_idx": "16",
        "marker-symbol": "marker",
        "jobs_ids": "job18"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3327894,
          52.5473416
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#000075",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "stop_idx": "17",
        "tour_idx": "2",
        "jobs_ids": "job15"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3027992,
          52.5650163
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job46",
        "tour_idx": "2",
        "marker-color": "#000075",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "stop_idx": "18"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2940051,
          52.5632095
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "stop_idx": "19",
        "jobs_ids": "job20",
        "marker-color": "#000075",
        "marker-symbol": "marker",
        "tour_idx": "2"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.304444,
          52.5192039
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "20",
        "marker-color": "#000075",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "tour_idx": "2",
        "jobs_ids": "job47"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2852959,
          52.5146285
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#000075",
        "marker-symbol": "warehouse",
        "stop_idx": "21",
        "jobs_ids": "arrival",
        "marker-size": "medium",
        "tour_idx": "2"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "0",
        "stroke": "#e6194b",
        "shift_idx": "0",
        "vehicle_id": "vehicle_1",
        "distance": "17708",
        "activities": "12",
        "stroke-width": "4"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.2812488,
            52.4664257
          ],
          [
            13.3157235,
            52.4827319
          ],
          [
            13.3353656,
            52.4868236
          ],
          [
            13.3539713,
            52.4959052
          ],
          [
            13.3788834,
            52.4940454
          ],
          [
            13.3915876,
            52.4960479
          ],
          [
            13.3832067,
            52.4855438
          ],
          [
            13.3628588,
            52.4742821
          ],
          [
            13.3598752,
            52.4708241
          ],
          [
            13.3321906,
            52.4711004
          ],
          [
            13.322692,
            52.4661617
          ],
          [
            13.2812488,
            52.4664257
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "shift_idx": "0",
        "vehicle_id": "vehicle_4",
        "distance": "52748",
        "stroke-width": "4",
        "activities": "22",
        "stroke": "#3cb44b",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.2812488,
            52.4664257
          ],
          [
            13.38667,
            52.4737341
          ],
          [
            13.4363713,
            52.4828453
          ],
          [
            13.4698049,
            52.4945572
          ],
          [
            13.4740528,
            52.4989511
          ],
          [
            13.475099,
            52.5058684
          ],
          [
            13.4368189,
            52.5090143
          ],
          [
            13.4418623,
            52.5228904
          ],
          [
            13.4619776,
            52.5243421
          ],
          [
            13.4995315,
            52.5279215
          ],
          [
            13.5062954,
            52.5261554
          ],
          [
            13.5161692,
            52.5426716
          ],
          [
            13.5189513,
            52.5421315
          ],
          [
            13.527639,
            52.5414557
          ],
          [
            13.546564,
            52.5276784
          ],
          [
            13.5152641,
            52.5060419
          ],
          [
            13.5251532,
            52.4917198
          ],
          [
            13.5423247,
            52.4871049
          ],
          [
            13.4914662,
            52.4695374
          ],
          [
            13.4757055,
            52.4629002
          ],
          [
            13.4461224,
            52.4658835
          ],
          [
            13.2812488,
            52.4664257
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "activities": "22",
        "stroke-width": "4",
        "stroke": "#4363d8",
        "distance": "44910",
        "tour_idx": "2",
        "vehicle_id": "vehicle_5",
        "shift_idx": "0"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.2812488,
            52.4664257
          ],
          [
            13.3689955,
            52.5065998
          ],
          [
            13.3890068,
            52.5189653
          ],
          [
            13.3668934,
            52.5291335
          ],
          [
            13.3914127,
            52.5404107
          ],
          [
            13.3996298,
            52.5372914
          ],
          [
            13.3989552,
            52.5429597
          ],
          [
            13.4139155,
            52.5425207
          ],
          [
            13.4416407,
            52.5431264
          ],
          [
            13.4286263,
            52.5496702
          ],
          [
            13.4194712,
            52.5614441
          ],
          [
            13.4231417,
            52.5678751
          ],
          [
            13.3848221,
            52.5697304
          ],
          [
            13.369072,
            52.5685168
          ],
          [
            13.3733163,
            52.547349
          ],
          [
            13.369356,
            52.5492619
          ],
          [
            13.3327894,
            52.5473416
          ],
          [
            13.3027992,
            52.5650163
          ],
          [
            13.2940051,
            52.5632095
          ],
          [
            13.304444,
            52.5192039
          ],
          [
            13.2852959,
            52.5146285
          ],
          [
            13.2812488,
            52.4664257
          ]
        ]
      }
    }
  ]
}
</div>
<div id="map"></div>
<p>To return solution in <code>geojson</code> format, use extra <code>-g</code> or <code>--geo-json</code> option.</p>
<h2 id="jupyter-notebooks"><a class="header" href="#jupyter-notebooks">Jupyter notebooks</a></h2>
<p>You might want to look at <a href="https://github.com/reinterpretcat/vrp-analysis">this project</a>.
It provides some scripts and jupyter notebooks in order to perform deeper analysis of algorithm behaviour.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="evaluating-performance"><a class="header" href="#evaluating-performance">Evaluating performance</a></h1>
<p>This section is mostly intended for developers and researchers who is interested to understand the solver's performance.</p>
<h2 id="a-generate-command"><a class="header" href="#a-generate-command">A generate command</a></h2>
<p>A <code>generate</code> command is designed to simplify the process of generating realistic problems in <code>pragmatic</code> format.
It has the following parameters:</p>
<ul>
<li><strong>type</strong> (required): a format of the problem. So far, only <code>pragmatic</code> is supported</li>
<li><strong>prototypes</strong> (required): a list of files with problem prototype definition. At the moment, it has to be path to
problem in pragmatic format. The prototype problem should contain at least three prototype jobs and one vehicle type,
their properties are used with equal probability to generate jobs/vehicles in the problem. Other properties like
<code>objectives</code>, <code>profiles</code> are copied as is</li>
<li><strong>output</strong> (required): a path where to store generated problem</li>
<li><strong>jobs size</strong> (required): amount of jobs to be generated in the plan.</li>
<li><strong>vehicles size</strong> (required): amount of vehicle types to be generated in the fleet.</li>
<li><strong>area size</strong> (optional): half size of the bounding box's side (in meters). The center is identified from bounding box
of prototype jobs which is used also when the parameter is omitted.</li>
<li><strong>locations</strong> (optional): a path to the file with list of locations which should be used for jobs instead of generated
randomly inside specific bounding box.</li>
</ul>
<p>Using <code>generate</code> command, you can quickly generate different VRP variants. Usage example:</p>
<pre><code>    vrp-cli generate pragmatic -p prototype.json -o generated.json -j 100 -v 5 -a 10000
</code></pre>
<p>This command generates a new problem definition with 100 jobs spread uniformly in bounding box with half side 10000 meters.</p>
<h2 id="a-check-command"><a class="header" href="#a-check-command">A check command</a></h2>
<p>A <code>check</code> command is intended to prove feasibility of calculated solution. Both, the problem definition and calculated
solution, are required:</p>
<pre><code>    vrp-cli check pragmatic -p problem.json -s solution.json
</code></pre>
<h2 id="algorithm-fine-tuning"><a class="header" href="#algorithm-fine-tuning">Algorithm fine tuning</a></h2>
<p>Actual algorithm parameters can be tweaked by supplying configuration file, e.g.:</p>
<pre><code>    vrp-cli solve pragmatic problem.json -s solution.json --config tweak.json
</code></pre>
<details>
    <summary>Configuration file</summary><p>
<pre><code class="language-json">{
  "evolution": {
    "initial": {
      "method": {
        "type": "cheapest",
        "weight": 1
      },
      "alternatives": {
        "methods": [
          {
            "type": "farthest",
            "weight": 1
          },
          {
            "type": "nearest",
            "weight": 1
          },
          {
            "type": "gaps",
            "min": 2,
            "max": 20,
            "weight": 1
          },
          {
            "type": "skip-best",
            "start": 1,
            "end": 2,
            "weight": 1
          },
          {
            "type": "regret",
            "start": 2,
            "end": 3,
            "weight": 1
          },
          {
            "type": "blinks",
            "weight": 1
          },
          {
            "type": "perturbation",
            "probability": 0.33,
            "min": -0.2,
            "max": 0.2,
            "weight": 1
          }
        ],
        "maxSize": 4,
        "quota": 0.05
      }
    },
    "population": {
      "type": "rosomaxa",
      "selectionSize": 8,
      "maxEliteSize": 2,
      "maxNodeSize": 2,
      "spreadFactor": 0.75,
      "distributionFactor": 0.75,
      "rebalanceMemory": 100,
      "explorationRatio": 0.9
    }
  },
  "hyper": {
    "type": "static-selective",
    "operators": [
      {
        "type": "decomposition",
        "maxSelected": 2,
        "repeat": 4,
        "routes": {
          "min": 2,
          "max": 4
        },
        "probability": {
          "threshold": {
            "jobs": 300,
            "routes": 10
          },
          "phases": [
            {
              "type": "exploration",
              "chance": 0.05
            },
            {
              "type": "exploitation",
              "chance": 0.05
            }
          ]
        }
      },
      {
        "type": "local-search",
        "probability": {
          "scalar": 0.05
        },
        "times": {
          "min": 1,
          "max": 2
        },
        "operators": [
          {
            "weight": 200,
            "type": "swap-star"
          },
          {
            "weight": 100,
            "type": "inter-route-best",
            "noise": {
              "probability": 0.1,
              "min": -0.1,
              "max": 0.1
            }
          },
          {
            "weight": 30,
            "type": "inter-route-random",
            "noise": {
              "probability": 0.1,
              "min": -0.1,
              "max": 0.1
            }
          },
          {
            "weight": 30,
            "type": "intra-route-random",
            "noise": {
              "probability": 1,
              "min": -0.1,
              "max": 0.1
            }
          }
        ]
      },
      {
        "type": "ruin-recreate",
        "probability": {
          "scalar": 1
        },
        "ruins": [
          {
            "weight": 100,
            "methods": [
              {
                "probability": 1,
                "type": "adjusted-string",
                "lmax": 10,
                "cavg": 10,
                "alpha": 0.01
              }
            ]
          },
          {
            "weight": 10,
            "methods": [
              {
                "probability": 1,
                "type": "neighbour",
                "min": 8,
                "max": 16
              }
            ]
          },
          {
            "weight": 10,
            "methods": [
              {
                "probability": 1,
                "type": "worst-job",
                "skip": 4,
                "min": 8,
                "max": 16
              }
            ]
          },
          {
            "weight": 5,
            "methods": [
              {
                "probability": 1,
                "type": "cluster",
                "min": 8,
                "max": 16,
                "minItems": 4
              }
            ]
          },
          {
            "weight": 2,
            "methods": [
              {
                "probability": 1,
                "type": "close-route"
              },
              {
                "probability": 0.1,
                "type": "random-job",
                "min": 8,
                "max": 16
              }
            ]
          },
          {
            "weight": 1,
            "methods": [
              {
                "probability": 1,
                "type": "worst-route"
              },
              {
                "probability": 0.1,
                "type": "random-job",
                "min": 8,
                "max": 16
              }
            ]
          },
          {
            "weight": 1,
            "methods": [
              {
                "probability": 1,
                "type": "random-route",
                "min": 1,
                "max": 4
              },
              {
                "probability": 0.1,
                "type": "random-job",
                "min": 8,
                "max": 16
              }
            ]
          }
        ],
        "recreates": [
          {
            "weight": 50,
            "type": "skip-best",
            "start": 1,
            "end": 2
          },
          {
            "weight": 20,
            "type": "regret",
            "start": 2,
            "end": 3
          },
          {
            "weight": 20,
            "type": "cheapest"
          },
          {
            "weight": 10,
            "type": "perturbation",
            "probability": 0.33,
            "min": -0.2,
            "max": 0.2
          },
          {
            "weight": 5,
            "type": "skip-best",
            "start": 3,
            "end": 4
          },
          {
            "weight": 5,
            "type": "gaps",
            "min": 2,
            "max": 20
          },
          {
            "weight": 5,
            "type": "blinks"
          },
          {
            "weight": 2,
            "type": "farthest"
          },
          {
            "weight": 2,
            "type": "skip-best",
            "start": 4,
            "end": 8
          },
          {
            "weight": 1,
            "type": "nearest"
          },
          {
            "weight": 1,
            "type": "skip-random"
          },
          {
            "weight": 1,
            "type": "slice"
          }
        ]
      },
      {
        "type": "local-search",
        "probability": {
          "scalar": 0.01
        },
        "times": {
          "min": 1,
          "max": 2
        },
        "operators": [
          {
            "weight": 100,
            "type": "inter-route-best",
            "noise": {
              "probability": 0.1,
              "min": -0.1,
              "max": 0.1
            }
          },
          {
            "weight": 30,
            "type": "inter-route-random",
            "noise": {
              "probability": 0.1,
              "min": -0.1,
              "max": 0.1
            }
          },
          {
            "weight": 30,
            "type": "intra-route-random",
            "noise": {
              "probability": 1,
              "min": -0.1,
              "max": 0.1
            }
          },
          {
            "weight": 100,
            "type": "sequence"
          }
        ]
      }
    ]
  },
  "termination": {
    "maxTime": 300,
    "maxGenerations": 3000,
    "variation": {
      "intervalType": "sample",
      "value": 3000,
      "cv": 1,
      "isGlobal": true
    }
  },
  "telemetry": {
    "progress": {
      "enabled": true,
      "logBest": 100,
      "logPopulation": 1000,
      "dumpPopulation": false
    },
    "metrics": {
      "enabled": false,
      "trackPopulation": 1000
    }
  },
  "environment": {
    "parallelism": {
      "numThreadPools": 6,
      "threadsPerPool": 8
    },
    "logging": {
      "enabled": true,
      "prefix": "[config.full]"
    },
    "isExperimental": false
  },
  "output": {
    "includeGeojson": true
  }
}
</code></pre>
</p></details>
<p>All main parameters are optional and can be omitted to stick with defaults. Check the source code for details.</p>
<h2 id="intermediate-solutions"><a class="header" href="#intermediate-solutions">Intermediate solutions</a></h2>
<p>You can record parameters of intermediate solutions if you enable <code>telemetry</code> via configuration file.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="concepts"><a class="header" href="#concepts">Concepts</a></h1>
<p>This section describes the ways how VRP problem can be specified in order to run the solver. At the moment, there are
two options:</p>
<ul>
<li><strong>pragmatic</strong>: a json format used to model a real world VRP problems</li>
<li><strong>scientific</strong> a set of text formats used to benchmark various algorithms in scientific literature.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="pragmatic"><a class="header" href="#pragmatic">Pragmatic</a></h1>
<p>Pragmatic format aims to model a multiple VRP variants through single problem and solution model schemas which are
described in details in next sections.</p>
<h2 id="performance"><a class="header" href="#performance">Performance</a></h2>
<p>There is no limit on problem size, solver should be able to solve problems with thousands of jobs in fairly reasonable
amount of time depending on your termination criteria (e.g. time or amount of iterations/generations). However, exact
performance depends on VRP variant (e.g. <em>VRPPD</em> is slower than <em>CVRPTW</em>).</p>
<h2 id="quality-of-results"><a class="header" href="#quality-of-results">Quality of results</a></h2>
<p>Although results seems to be comparable with alternative solutions, default metaheuristic still can be improved.</p>
<h2 id="examples"><a class="header" href="#examples">Examples</a></h2>
<p>A various examples can be found in <a href="concepts/pragmatic/../../examples/pragmatic/index.html">pragmatic examples section</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="problem-model"><a class="header" href="#problem-model">Problem model</a></h1>
<p>In general a pragmatic problem is split into two required and one optional parts:</p>
<ul>
<li><code>plan</code> (required) models a work to be performed by vehicles taking into account all related constraints, such as time windows,
demand, skills, etc.</li>
<li><code>fleet</code> (required) models available resources defined by vehicle types.</li>
<li><code>objectives</code> (optional) defines objective functions as goal of whole optimization.</li>
</ul>
<h2 id="modeling-jobs"><a class="header" href="#modeling-jobs">Modeling jobs</a></h2>
<p>A work which has to be done is model by list of jobs defined in <code>plan</code>.</p>
<p>Check next <a href="concepts/pragmatic/problem/./jobs.html">job</a> section for detailed explanation.</p>
<h2 id="modeling-vehicles"><a class="header" href="#modeling-vehicles">Modeling vehicles</a></h2>
<p>Vehicles are defined by <code>fleet.vehicles</code> property which specifies array of vehicle types, not specific vehicles.</p>
<p>More details can be found in <a href="concepts/pragmatic/problem/./vehicles.html">vehicle type section</a>.</p>
<h2 id="relation-between-jobs-and-vehicles"><a class="header" href="#relation-between-jobs-and-vehicles">Relation between jobs and vehicles</a></h2>
<p>An optional <code>plan.relations</code> property specifies relations between multiple jobs and single vehicle. It is useful to
lock jobs to a specific vehicle in any or predefined order.</p>
<p>Check <a href="concepts/pragmatic/problem/./relations.html">relations section</a> for more details.</p>
<h2 id="job-and-vehicle-constraints"><a class="header" href="#job-and-vehicle-constraints">Job and vehicle constraints</a></h2>
<p>There are multiple strict constraints that should be matched on jobs and vehicles.</p>
<h3 id="demand-and-capacity"><a class="header" href="#demand-and-capacity">Demand and capacity</a></h3>
<p>Each job should have <code>demand</code> property which models a <em>good</em> size in abstract integral units:</p>
<pre><code class="language-json">            "demand": [
              1
            ]
</code></pre>
<p>It is required, but you can set demand to zero in case it is not needed. It can be multidimensional array.</p>
<p>A <code>capacity</code> property is a vehicle characteristic which constraints amount of jobs can be served by vehicle of specific
type based on accumulated demand value. Total demand should not exceed capacity value.</p>
<h3 id="time-windows"><a class="header" href="#time-windows">Time windows</a></h3>
<p>Optionally, each job can have one or more time window:</p>
<pre><code class="language-json">                "times": [
                  [
                    "2019-07-04T09:00:00Z",
                    "2019-07-04T18:00:00Z"
                  ],
                  [
                    "2019-07-05T09:00:00Z",
                    "2019-07-05T18:00:00Z"
                  ]
                ]
</code></pre>
<p>Time windows are strict: if no vehicle can visit a job in given time ranges, then the job is considered as unassigned.</p>
<p>Vehicle time is limited per each shift and has required start optional end time:</p>
<pre><code class="language-json">            "start": {
              "earliest": "2019-07-04T09:00:00Z",
              "location": {
                "lat": 52.5316,
                "lng": 13.3884
              }
            },
            "end": {
              "latest": "2019-07-04T18:00:00Z",
              "location": {
                "lat": 52.5316,
                "lng": 13.3884
              }
            }
</code></pre>
<p>More details about <code>shift</code> property can be found in <a href="concepts/pragmatic/problem/./vehicles.html">vehicle type section</a>.</p>
<h3 id="clustering"><a class="header" href="#clustering">Clustering</a></h3>
<p>Some jobs can be clustered together to have more realistic ETA, check <a href="concepts/pragmatic/problem/./clustering.html">vicinity clustering section</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="job"><a class="header" href="#job">Job</a></h1>
<p>A job is used to model customer demand, additionally, with different constraints, such as time, skills, etc. A job schema
consists of the following properties:</p>
<ul>
<li><strong>id</strong> (required): an unique job id</li>
<li><strong>pickups</strong> (optional): a list of pickup tasks</li>
<li><strong>deliveries</strong> (optional): a list of delivery tasks</li>
<li><strong>replacements</strong> (optional): a list of replacement tasks</li>
<li><strong>services</strong> (optional): a list of service tasks</li>
<li><strong>skills</strong> (optional): job skills defined by <code>allOf</code>, <code>oneOf</code> or <code>noneOf</code> conditions:
<pre><code class="language-json">        "skills": {
      "allOf": [
        "fridge"
      ],
      "noneOf": [
        "washing_machine"
      ]
    }
</code></pre>
These conditions are tested against vehicle's skills.</li>
<li><strong>value</strong> (optional): a value associated with the job. With <code>maximize-value</code> objective, it is used to prioritize assignment
of specific jobs. The difference between value and order (see in <code>Tasks</code> below) is that order related logic tries to assign
jobs with lower order in the beginning of the tour. In contrast, value related logic tries to maximize total solution value
by prioritizing assignment value scored jobs in any position of a tour.
See <a href="concepts/pragmatic/problem/../../../examples/pragmatic/basics/job-priorities.html">job priorities</a> example.</li>
<li><strong>group</strong> (optional): a group name. Jobs with the same groups are scheduled in the same tour or left unassigned.</li>
<li><strong>compatibility</strong> (optional): compatibility class. Jobs with different compatibility classes cannot be assigned in
the same tour. This is useful to avoid mixing cargo, such as hazardous goods and food.</li>
</ul>
<p>A job should have at least one task property specified.</p>
<h2 id="tasks"><a class="header" href="#tasks">Tasks</a></h2>
<p>A delivery, pickup, replacement and service lists specify multiple job <code>tasks</code> and at least one of such tasks has to be
defined. Each task has the following properties:</p>
<ul>
<li><strong>places</strong> (required): list of possible places from which only one has to be visited</li>
<li><strong>demand</strong> (optional/required): a task demand. It is required for all job types, except service</li>
<li><strong>order</strong> (optional): a job task assignment order which makes preferable to serve some jobs before others in the tour.
The order property is represented as integer greater than 1, where the lower value means higher priority. By default
its value is set to maximum.</li>
</ul>
<h2 id="places"><a class="header" href="#places">Places</a></h2>
<p>Each <code>place</code> consists of the following properties:</p>
<ul>
<li><strong>location</strong> (required): a place location</li>
<li><strong>duration</strong> (required): service (operational) time to serve task here (in seconds)</li>
<li><strong>times</strong> (optional): time windows</li>
<li><strong>tag</strong> (optional): a job place tag which will be returned within job's activity in result solution.</li>
</ul>
<p>Multiple places on single task can help model variable job location, e.g. visit customer at different location
depending on time of the day.</p>
<h2 id="pickup-job"><a class="header" href="#pickup-job">Pickup job</a></h2>
<p>Pickup job is a job with <code>job.pickups</code> property specified,   without <code>job.deliveries</code>:</p>
<pre><code class="language-json">      {
        "id": "job2",
        "pickups": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5225,
                  "lng": 13.4095
                },
                "duration": 240.0,
                "times": [
                  [
                    "2019-07-04T10:00:00Z",
                    "2019-07-04T16:00:00Z"
                  ]
                ]
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
</code></pre>
<p>The vehicle picks some <code>good</code> at pickup locations, which leads to capacity consumption growth according to <code>job.pickups.demand</code>
value, and brings it till the end of the tour (or next reload). Each pickup task has its own properties such as <code>demand</code> and <code>places</code>.</p>
<h2 id="delivery-job"><a class="header" href="#delivery-job">Delivery job</a></h2>
<p>Delivery job is a job with <code>job.deliveries</code> property specified, without <code>job.pickups</code>:</p>
<pre><code class="language-json">      {
        "id": "job1",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.52599,
                  "lng": 13.45413
                },
                "duration": 300.0,
                "times": [
                  [
                    "2019-07-04T09:00:00Z",
                    "2019-07-04T18:00:00Z"
                  ],
                  [
                    "2019-07-05T09:00:00Z",
                    "2019-07-05T18:00:00Z"
                  ]
                ]
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
</code></pre>
<p>The vehicle picks some <code>goods</code> at the start stop, which leads to initial capacity consumption growth, and brings it to
job's locations, where capacity consumption is decreased based on <code>job.deliveries.demand</code> values. Each delivery task has
its own properties such as <code>demand</code> and <code>places</code>.</p>
<h2 id="pickup-and-delivery-job"><a class="header" href="#pickup-and-delivery-job">Pickup and delivery job</a></h2>
<p>Pickup and delivery job is a job with both <code>job.pickups</code> and <code>job.deliveries</code> properties specified:</p>
<pre><code class="language-json">      {
        "id": "job3",
        "pickups": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5225,
                  "lng": 13.4095
                },
                "duration": 300.0,
                "tag": "p1"
              }
            ],
            "demand": [
              1
            ]
          }
        ],
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5165,
                  "lng": 13.3808
                },
                "duration": 300.0,
                "tag": "d1"
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      }
</code></pre>
<p>The vehicle picks some <code>goods</code> at one or multiple <code>job.pickups.location</code>, which leads to capacity growth, and brings
them to one or many <code>job.deliveries.location</code>. The job has the following rules:</p>
<ul>
<li>all pickup/delivery tasks should be done or none of them.</li>
<li>assignment order is not defined except all pickups should be assigned before any of deliveries.</li>
<li>sum of pickup demand should be equal to sum of delivery demand</li>
</ul>
<p>A good example of such job is a job with more than two places with variable demand:</p>
<pre><code class="language-json">      {
        "id": "multi_job1",
        "pickups": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5622847,
                  "lng": 13.4023099
                },
                "duration": 240.0,
                "tag": "p1"
              }
            ],
            "demand": [
              1
            ]
          },
          {
            "places": [
              {
                "location": {
                  "lat": 52.5330881,
                  "lng": 13.3973059
                },
                "duration": 240.0,
                "tag": "p2"
              }
            ],
            "demand": [
              1
            ]
          }
        ],
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5252832,
                  "lng": 13.4188422
                },
                "duration": 240.0,
                "tag": "d1"
              }
            ],
            "demand": [
              2
            ]
          }
        ]
      },
</code></pre>
<p>This job contains two pickups and one delivery. Interpretation of such job can be "bring two parcels from two different
places to one single customer".</p>
<p>Another example is one pickup and two deliveries:</p>
<pre><code class="language-json">      {
        "id": "multi_job2",
        "pickups": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.52599,
                  "lng": 13.45413
                },
                "duration": 240.0,
                "tag": "p1"
              }
            ],
            "demand": [
              2
            ]
          }
        ],
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4928,
                  "lng": 13.4597
                },
                "duration": 240.0,
                "tag": "d1"
              }
            ],
            "demand": [
              1
            ]
          },
          {
            "places": [
              {
                "location": {
                  "lat": 52.4989,
                  "lng": 13.3917
                },
                "duration": 240.0,
                "tag": "d2"
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      }
    ]
  },
</code></pre>
<h2 id="replacement-job"><a class="header" href="#replacement-job">Replacement job</a></h2>
<p>A replacement job is a job with <code>job.replacement</code> property specified:</p>
<pre><code class="language-json">      {
        "id": "simple_replacement_job",
        "replacements": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5622847,
                  "lng": 13.4023099
                },
                "duration": 3600.0,
                "times": [
                  [
                    "2019-07-04T09:00:00Z",
                    "2019-07-04T18:00:00Z"
                  ]
                ]
              }
            ],
            "demand": [
              3
            ]
          }
        ]
      },
</code></pre>
<p>It models an use case when something big has to be replaced at the customer's location. This task requires a new <code>good</code>
to be loaded at the beginning of the journey and old replaced one brought to journey's end.</p>
<h2 id="service-job"><a class="header" href="#service-job">Service job</a></h2>
<p>A service job is a job with <code>job.service</code> property specified:</p>
<pre><code class="language-json">      {
        "id": "simple_service_job",
        "services": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5330881,
                  "lng": 13.3973059
                },
                "duration": 3600.0,
                "times": [
                  [
                    "2019-07-04T08:00:00Z",
                    "2019-07-04T12:00:00Z"
                  ],
                  [
                    "2019-07-04T14:00:00Z",
                    "2019-07-04T18:00:00Z"
                  ]
                ]
              }
            ]
          }
        ]
      },
</code></pre>
<p>This job models some work without demand (e.g. handyman visit).</p>
<h2 id="mixing-job-tasks"><a class="header" href="#mixing-job-tasks">Mixing job tasks</a></h2>
<p>You can specify multiple tasks properties to get some mixed job:</p>
<pre><code class="language-json">      {
        "id": "mixed_job",
        "pickups": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5252832,
                  "lng": 13.4188422
                },
                "duration": 240.0,
                "tag": "p1"
              }
            ],
            "demand": [
              1
            ]
          }
        ],
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.52599,
                  "lng": 13.45413
                },
                "duration": 240.0,
                "tag": "d1"
              }
            ],
            "demand": [
              1
            ]
          }
        ],
        "replacements": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4928,
                  "lng": 13.4597
                },
                "duration": 2400.0,
                "tag": "r1"
              }
            ],
            "demand": [
              2
            ]
          }
        ],
        "services": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4989,
                  "lng": 13.3917
                },
                "duration": 1800.0,
                "tag": "s1"
              }
            ]
          }
        ]
      }
</code></pre>
<p>Similar pickup and delivery job, all these tasks has to be executed or none of them. The order is not specified except
pickups must be scheduled before any delivery, replacement or service.</p>
<p>Hint</p>
<p>Use <code>tag</code> property on each job place if you want to use initial solution or checker features.</p>
<h2 id="related-errors"><a class="header" href="#related-errors">Related errors</a></h2>
<ul>
<li><a href="concepts/pragmatic/problem/../errors/index.html#e1100">E1100 duplicated job ids</a></li>
<li><a href="concepts/pragmatic/problem/../errors/index.html#e1101">E1101 invalid job task demand</a></li>
<li><a href="concepts/pragmatic/problem/../errors/index.html#e1102">E1102 invalid pickup and delivery demand</a></li>
<li><a href="concepts/pragmatic/problem/../errors/index.html#e1103">E1103 invalid time windows in jobs</a></li>
<li><a href="concepts/pragmatic/problem/../errors/index.html#e1104">E1104 reserved job id is used</a></li>
<li><a href="concepts/pragmatic/problem/../errors/index.html#e1105">E1105 empty job</a></li>
<li><a href="concepts/pragmatic/problem/../errors/index.html#e1106">E1106 job has negative duration</a></li>
<li><a href="concepts/pragmatic/problem/../errors/index.html#e1107">E1107 job has negative demand</a></li>
</ul>
<h2 id="examples-1"><a class="header" href="#examples-1">Examples</a></h2>
<p>Please refer to <a href="concepts/pragmatic/problem/../../../examples/pragmatic/basics/job-types.html">basic job usage examples</a> to see how to specify problem with
different job types.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="vehicle-types"><a class="header" href="#vehicle-types">Vehicle types</a></h1>
<p>A vehicle types are defined by <code>fleet.vehicles</code> property and their schema has the following properties:</p>
<ul>
<li><strong>typeId</strong> (required): a vehicle type id</li>
</ul>
<pre><code class="language-json">        "typeId": "vehicle",
</code></pre>
<ul>
<li><strong>vehicleIds</strong> (required): a list of concrete vehicle ids available for usage.</li>
</ul>
<pre><code class="language-json">        "vehicleIds": [
          "vehicle_1"
        ],
</code></pre>
<ul>
<li><strong>profile</strong> (required): a vehicle profile which is defined by two properties:
<ul>
<li><strong>matrix</strong> (required) : a name of matrix profile</li>
<li><strong>scale</strong> (optional): duration scale applied to all travelling times (default is 1.0)</li>
</ul>
</li>
</ul>
<pre><code class="language-json">        "profile": {
          "matrix": "normal_car"
        },
</code></pre>
<ul>
<li>
<p><strong>costs</strong> (required): specifies how expensive is vehicle usage. It has three properties:</p>
<ul>
<li><strong>fixed</strong>: a fixed cost per vehicle tour</li>
<li><strong>time</strong>: a cost per time unit</li>
<li><strong>distance</strong>: a cost per distance unit</li>
</ul>
</li>
<li>
<p><strong>shifts</strong> (required): specify one or more vehicle shift. See detailed description below.</p>
</li>
<li>
<p><strong>capacity</strong> (required): specifies vehicle capacity symmetric to job demand</p>
</li>
</ul>
<pre><code class="language-json">        "capacity": [
          10
        ]
</code></pre>
<ul>
<li><strong>skills</strong> (optional): vehicle skills needed by some jobs</li>
</ul>
<pre><code class="language-json">        "skills": [
          "handyman"
        ]
</code></pre>
<ul>
<li>
<p><strong>limits</strong> (optional): vehicle limits. There are two:</p>
<ul>
<li><strong>maxDuration</strong> (optional): max tour duration</li>
<li><strong>maxDistance</strong> (optional): max tour distance</li>
<li><strong>tourSize</strong> (optional): max amount of activities in the tour (without departure/arrival). Please note, that
clustered activities are counted as one in case of vicinity clustering.</li>
</ul>
</li>
</ul>
<p>An example:</p>
<pre><code class="language-json">      {
        "typeId": "vehicle",
        "vehicleIds": [
          "vehicle_1"
        ],
        "profile": {
          "matrix": "normal_car"
        },
        "costs": {
          "fixed": 22.0,
          "distance": 0.0002,
          "time": 0.004806
        },
        "shifts": [
          {
            "start": {
              "earliest": "2019-07-04T09:00:00Z",
              "location": {
                "lat": 52.5316,
                "lng": 13.3884
              }
            },
            "end": {
              "latest": "2019-07-04T18:00:00Z",
              "location": {
                "lat": 52.5316,
                "lng": 13.3884
              }
            }
          }
        ],
        "capacity": [
          10
        ]
      }
</code></pre>
<h2 id="shift"><a class="header" href="#shift">Shift</a></h2>
<p>Essentially, shift specifies vehicle constraints such as time, start/end locations, etc.:</p>
<pre><code class="language-json">        "shifts": [
          {
            "start": {
              "earliest": "2019-07-04T09:00:00Z",
              "location": {
                "lat": 52.5316,
                "lng": 13.3884
              }
            },
            "end": {
              "latest": "2019-07-04T18:00:00Z",
              "location": {
                "lat": 52.5316,
                "lng": 13.3884
              }
            }
          }
        ],
</code></pre>
<p>At least one shift has to be specified. More than one vehicle shift with different times means that this vehicle can be
used more than once. This is useful for multi day scenarios. An example can be found <a href="concepts/pragmatic/problem/../../../examples/pragmatic/basics/multi-day.html">here</a>.</p>
<p>Each shift can have the following properties:</p>
<ul>
<li>
<p><strong>start</strong> (required) specifies vehicle start place defined via location, earliest (required) and latest (optional) departure time</p>
</li>
<li>
<p><strong>end</strong> (optional) specifies vehicle end place defined via location, earliest (reserved) and latest (required) arrival time.
When omitted, then vehicle ends on last job location</p>
</li>
<li>
<p><strong>breaks</strong> (optional) a list of vehicle breaks. There are two types of breaks:</p>
<ul>
<li><strong>required</strong>: this break is guaranteed to be assigned at cost of flexibility. It has the following properties:
<ul>
<li><code>time</code> (required): a fixed time or time offset interval when the break should happen specified by <code>earliest</code> and <code>latest</code> properties.
The break will be assigned not earlier, and not later than the range specified.</li>
<li><code>duration</code> (required): duration of the break</li>
</ul>
</li>
<li><strong>optional</strong>: although such break is not guaranteed for assignment, it has some advantages over required break:
<ul>
<li>arbitrary break location is supported</li>
<li>the algorithm has more flexibility for assignment
It is specified by:</li>
<li><code>time</code> (required): time window or time offset interval after which a break should happen (e.g. between 3 or 4 hours after start).</li>
<li><code>places</code>: list of alternative places defined by <code>location</code> (optional), <code>duration</code> (required) and <code>tag</code> (optional).
If location of a break is omitted then break is stick to location of a job served before break.</li>
<li><code>policy</code> (optional): a break skip policy. Possible values:
<ul>
<li><code>skip-if-no-intersection</code>: allows to skip break if actual tour schedule doesn't intersect with vehicle time window (default)</li>
<li><code>skip-if-arrival-before-end</code>: allows to skip break if vehicle arrives before break's time window end.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Please note that optional break is a soft constraint and can be unassigned in some cases due to other hard constraints, such
as time windows. You can control its unassignment weight using specific property on <code>minimize-unassigned</code> objective.
See example <a href="concepts/pragmatic/problem/../../../examples/pragmatic/basics/break.html">here</a></p>
<p>Additionally, offset time interval requires departure time optimization to be disabled explicitly (see <a href="concepts/pragmatic/problem/../errors/index.html#e1307">E1307</a>).</p>
</li>
<li>
<p><strong>reloads</strong> (optional) a list of vehicle reloads. A reload is a place where vehicle can load new deliveries and unload
pickups. It can be used to model multi trip routes.
Each reload has optional and required fields:</p>
<ul>
<li>location (required): an actual place where reload activity happens</li>
<li>duration (required): duration of reload activity</li>
<li>times (optional): reload time windows</li>
<li>tag (optional): a tag which will be propagated back within the corresponding reload activity in solution</li>
<li>resourceId (optional): a shared reload resource id. It is used to limit amount of deliveries loaded at this reload.
See examples <a href="concepts/pragmatic/problem/../../../examples/pragmatic/basics/reload.html">here</a>.</li>
</ul>
</li>
<li>
<p><strong>recharges</strong> (optional, experimental) specifies recharging stations and max distance limit before recharge should happen.
See examples <a href="concepts/pragmatic/problem/../../../examples/pragmatic/basics/recharge.html">here</a>.</p>
</li>
</ul>
<h2 id="related-errors-1"><a class="header" href="#related-errors-1">Related errors</a></h2>
<ul>
<li><a href="concepts/pragmatic/problem/../errors/index.html#e1300">E1300 duplicated vehicle type ids</a></li>
<li><a href="concepts/pragmatic/problem/../errors/index.html#e1301">E1301 duplicated vehicle ids</a></li>
<li><a href="concepts/pragmatic/problem/../errors/index.html#e1302">E1302 invalid start or end times in vehicle shift</a></li>
<li><a href="concepts/pragmatic/problem/../errors/index.html#e1303">E1303 invalid break time windows in vehicle shift</a></li>
<li><a href="concepts/pragmatic/problem/../errors/index.html#e1304">E1304 invalid reload time windows in vehicle shift</a></li>
<li><a href="concepts/pragmatic/problem/../errors/index.html#e1306">E1306 time and duration costs are zeros</a></li>
<li><a href="concepts/pragmatic/problem/../errors/index.html#e1307">E1307 time offset interval for break  is used with departure rescheduling</a></li>
<li><a href="concepts/pragmatic/problem/../errors/index.html#e1308">E1308 invalid vehicle reload resource</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="shared-resources"><a class="header" href="#shared-resources">Shared resources</a></h1>
<p>A <code>fleet.resources</code> specifies an optional section which goal is to control distribution of limited shared resource
between different vehicles.</p>
<h2 id="reload-resource"><a class="header" href="#reload-resource">Reload resource</a></h2>
<p>An idea of reload resource is to put limit on amount of deliveries in total loaded to the multiple vehicles on specific
reload place. A good example is some warehouse which can be visited by multiple vehicles in the middle of their tours,
but it has only limited amount of deliveries.</p>
<p>The reload resource definition has the following properties:</p>
<ul>
<li><code>type</code> (required): should be set to <code>reload</code></li>
<li><code>id</code> (required): an unique resource id. Put this id in vehicle reload's <code>resourceId</code> property to trigger shared resource behavior</li>
<li><code>capacity</code> (required): total amount of resource. It has the same type as vehicle's <code>capacity</code> property.</li>
</ul>
<p>An example of a reload resource definition:</p>
<pre><code class="language-json">    "resources": [
      {
        "type": "reload",
        "id": "warehouse_a",
        "capacity": [1]
      }
    ]
</code></pre>
<p>An example of a vehicle reload with a reference to the resource definition:</p>
<pre><code class="language-json">            "reloads": [
              {
                "location": {
                  "lat": 52.5103,
                  "lng": 13.3898
                },
                "duration": 600.0,
                "resourceId": "warehouse_a"
              }
            ]
</code></pre>
<p>The full example can be found <a href="concepts/pragmatic/problem/../../../examples/pragmatic/basics/reload.html#Shared-reload-resource">here</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="relations"><a class="header" href="#relations">Relations</a></h1>
<p>Relation is a mechanism to lock jobs to specific vehicles. List of relations is a part of <code>plan</code> schema and each relation
has the following properties:</p>
<ul>
<li><strong>type</strong> (required): one of three relation types: tour, fixed, or sequence. See description below.</li>
<li><strong>vehicleId</strong> (required): a specific vehicle id</li>
<li><strong>jobs</strong> (required): list of job ids including reserved: <code>departure</code>, <code>arrival</code>, <code>break</code> and <code>reload</code></li>
<li><strong>shiftIndex</strong> (optional): a vehicle shift index. If not specified, a first, zero indexed, shift assumed</li>
</ul>
<p>You can use more than one relation per vehicle.</p>
<h2 id="any-type"><a class="header" href="#any-type">Any type</a></h2>
<p>A <code>any</code> relation is used to lock specific jobs to certain vehicle in any order:</p>
<pre><code class="language-json">      {
        "type": "any",
        "jobs": [
          "job1",
          "job3"
        ],
        "vehicleId": "vehicle_1"
      }
</code></pre>
<h2 id="sequence-type"><a class="header" href="#sequence-type">Sequence type</a></h2>
<p>A <code>sequence</code> relation is used to lock specific jobs to certain vehicle in fixed order allowing insertion of new jobs in
between.</p>
<h2 id="strict-type"><a class="header" href="#strict-type">Strict type</a></h2>
<p>In contrast to <code>sequence</code> relation, <code>strict</code> locks jobs to certain vehicle without ability to insert new jobs in between:</p>
<pre><code class="language-json">      {
        "type": "strict",
        "jobs": [
          "departure",
          "job4",
          "job1"
        ],
        "vehicleId": "vehicle_1"
      }
</code></pre>
<p>In this example, new jobs can be inserted only after job with id <code>job1</code>.</p>
<h2 id="important-notes"><a class="header" href="#important-notes">Important notes</a></h2>
<p>Please consider the following notes:</p>
<ul>
<li>jobs specified in relations are not checked for constraint violations. This might lead to non-feasible solutions
(e.g. routes with capacity or time window violation).</li>
<li>relation with jobs which have multiple pickups or deliveries places are not yet supported</li>
</ul>
<h2 id="related-errors-2"><a class="header" href="#related-errors-2">Related errors</a></h2>
<ul>
<li><a href="concepts/pragmatic/problem/../errors/index.html#e1200">E1200 relation has job id which does not present in the plan</a></li>
<li><a href="concepts/pragmatic/problem/../errors/index.html#e1201">E1201 relation has vehicle id which does not present in the fleet</a></li>
<li><a href="concepts/pragmatic/problem/../errors/index.html#e1202">E1202 relation has empty job id list</a></li>
<li><a href="concepts/pragmatic/problem/../errors/index.html#e1203">E1203 strict or sequence relation has job with multiple places or time windows</a></li>
<li><a href="concepts/pragmatic/problem/../errors/index.html#e1204">E1204 job is assigned to different vehicles in relations</a></li>
<li><a href="concepts/pragmatic/problem/../errors/index.html#e1205">E1205 relation has invalid shift index</a></li>
<li><a href="concepts/pragmatic/problem/../errors/index.html#e1206">E1206 relation has special job id which is not defined on vehicle shift</a></li>
</ul>
<h2 id="examples-2"><a class="header" href="#examples-2">Examples</a></h2>
<p>Please refer to <a href="concepts/pragmatic/problem/../../../examples/pragmatic/basics/relations.html">complete example</a> to see how to specify problem with relations.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="job-clustering"><a class="header" href="#job-clustering">Job clustering</a></h1>
<p>Sometimes, the problem definition has jobs which are close to each other, so it makes sense to serve them together at
the same stop. However, typically, job's service time includes extra time costs such as parking, loading/unloading,
which should be considered only once in the stop. A clustering algorithm supposed to help to schedule jobs realistically
in such scenarios and even in some others like delivery with drones.</p>
<h2 id="vicinity-clustering"><a class="header" href="#vicinity-clustering">Vicinity clustering</a></h2>
<p>An experimental <code>vicinity</code> clustering algorithm is designed to cluster close jobs together and serve them at the same
stop considering such aspects of last mile delivery as parking costs, traveling distance/duration between each job in
the cluster, service time reduction, etc. To use it, specify <code>clustering</code> property inside the <code>plan</code> with the following
properties:</p>
<ul>
<li><code>type</code>: a clustering algorithm name. At the moment, only <code>vicinity</code> is supported</li>
<li><code>profile</code>: specifies routing profile used to calculate commute durations and distances. It has the same properties as
profile on vehicle type.</li>
<li><code>threshold</code>: specifies various parameters which can control how clusters are built. It has the following properties:
<ul>
<li><code>duration</code>: moving duration limit</li>
<li><code>distance</code>: moving distance limit</li>
<li><code>minSharedTime</code> (optional): minimum shared time for jobs (non-inclusive)</li>
<li><code>smallestTimeWindow</code> (optional): the smallest time window of the cluster after service time shrinking</li>
<li><code>maxJobsPerCluster</code> (optional): the maximum amount of jobs per cluster</li>
</ul>
</li>
<li><code>visiting</code>: specifies job visiting policy type:
<ul>
<li><code>return</code>: after each job visit, driver has to return to stop location</li>
<li><code>continue</code>: starting from stop location, driver visits each job one by one, returns to it in the end</li>
</ul>
</li>
<li><code>serving</code>: specifies a policy for job's service time in the single stop. All policies have a <code>parking</code> property
which specifies how much time has to be reserved at initial parking at stop location. Three policy types are available:
<ul>
<li><code>original</code>: keep original service time</li>
<li><code>multiplier</code>: multiplies original service time by fixed <code>value</code></li>
<li><code>fixed</code>: uses a new fixed <code>value</code> instead of original service time</li>
</ul>
</li>
<li><code>filtering</code>: specifies job filtering properties. At the moment, it has a single property:
<ul>
<li><code>excludeJobIds</code>: ids of the jobs which should not be clustered with others</li>
</ul>
</li>
</ul>
<p>An example:</p>
<pre><code class="language-json">    "clustering": {
      "type": "vicinity",
      "profile": {
        "matrix": "car",
        "scale": 10
      },
      "threshold": {
        "duration": 120,
        "distance": 100
      },
      "visiting": "continue",
      "serving": {
        "type": "fixed",
        "value": 180,
        "parking": 120
      }
    }
</code></pre>
<p>In the solution, clustered jobs will have extra properties:</p>
<ul>
<li><code>tour.stop.parking</code>: specifies time of the parking</li>
<li><code>tour.stop.activity.commute</code>: specifies job commute information. It has two properties, <code>forward</code> and <code>backward</code> which
specify information about activity place visit:
<ul>
<li><code>location</code>: a location before/after place visit</li>
<li><code>distance</code>: travelled distance</li>
<li><code>time</code>: time when commute occurs</li>
</ul>
</li>
</ul>
<p>An example:</p>
<pre><code class="language-json">              "commute": {
                "forward": {
                  "location": {
                    "lat": 52.5254256,
                    "lng": 13.4527159
                  },
                  "distance": 14.0,
                  "time": {
                    "start": "2020-05-01T09:12:01Z",
                    "end": "2020-05-01T09:12:11Z"
                  }
                },
                "backward": {
                  "location": {
                    "lat": 52.5253342,
                    "lng": 13.4533489
                  },
                  "distance": 54.0,
                  "time": {
                    "start": "2020-05-01T09:15:11Z",
                    "end": "2020-05-01T09:16:01Z"
                  }
                }
              }
</code></pre>
<h2 id="limitations-1"><a class="header" href="#limitations-1">Limitations</a></h2>
<p>The vicinity clustering functionality has some limitations:</p>
<ul>
<li>only jobs with single task can be clustered, but their type, such as pickup or delivery, doesn't matter</li>
<li>clusters are pre-built using a greedy algorithm which picks the closest by duration job first</li>
<li>extra constraints puts extra limitations: e.g. priority, order, skills defined on jobs should match in the cluster</li>
<li>jobs with value are not clustered with job without value</li>
<li>commute distance is not included into statistics</li>
</ul>
<h2 id="examples-3"><a class="header" href="#examples-3">Examples</a></h2>
<p>Please refer to <a href="concepts/pragmatic/problem/../../../examples/pragmatic/clustering/index.html">examples section</a> to see examples.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="objectives"><a class="header" href="#objectives">Objectives</a></h1>
<p>A classical objective function (or simply objective) for VRP is minimization of total cost. However, real life scenarios
require different objective function or even more than one considered simultaneously. That's why the solver has a concept
of multi objective.</p>
<h2 id="understanding-multi-objective-structure"><a class="header" href="#understanding-multi-objective-structure">Understanding multi objective structure</a></h2>
<p>A multi objective is defined by <code>objectives</code> property which has array of objectives and defines lexicographical ordered
objective function. Here, priority of objectives decreases from first to the last element of the array. For the same
priority (or in other words, competitive) objectives, a special <code>multi-objective</code> type can be used.</p>
<h2 id="available-objectives"><a class="header" href="#available-objectives">Available objectives</a></h2>
<p>The solver already provides multiple built-in objectives distinguished by their <code>type</code>. All these objectives can be
split into the following groups.</p>
<h3 id="cost-objectives"><a class="header" href="#cost-objectives">Cost objectives</a></h3>
<p>These objectives specify how "total" cost of job insertion is calculated:</p>
<ul>
<li><code>minimize-cost</code>: minimizes total transport cost calculated for all routes. Here, total transport cost is seen as linear
combination of total time and distance</li>
<li><code>minimize-distance</code>: minimizes total distance of all routes</li>
<li><code>minimize-duration</code>: minimizes total duration of all routes</li>
</ul>
<p>One of these objectives has to be set and only one.</p>
<h3 id="scalar-objectives"><a class="header" href="#scalar-objectives">Scalar objectives</a></h3>
<p>Besides cost objectives, there are other objectives which are targeting for some scalar characteristic of solution:</p>
<ul>
<li><code>minimize-unassigned</code>: minimizes amount of unassigned jobs. Although, solver tries to minimize amount of
unassigned jobs all the time, it is possible that solution, discovered during refinement, has more unassigned jobs than
previously accepted. The reason of that can be conflicting objective (e.g. minimize tours) and restrictive
constraints such as time windows. The objective has the following optional parameter:
<ul>
<li><code>breaks</code>: a multiplicative coefficient to make breaks more preferable for assignment. Default value is 1. Setting
this parameter to a value bigger than 1 is useful when it is highly desirable to have break assigned but its
assignment leads to more jobs unassigned.</li>
</ul>
</li>
<li><code>minimize-tours</code>: minimizes total amount of tours present in solution</li>
<li><code>maximize-tours</code>: maximizes total amount of tours present in solution</li>
<li><code>minimize-arrival-time</code>: prefers solutions where work is finished earlier</li>
<li><code>fast-service</code>: prefers solutions when jobs are served early in tours. Optional parameter:
<ul>
<li><code>tolerance</code>: an objective tolerance specifies how different objective values have to be to consider them different.
Relative distance metric is used.</li>
</ul>
</li>
</ul>
<h3 id="job-distribution-objectives"><a class="header" href="#job-distribution-objectives">Job distribution objectives</a></h3>
<p>These objectives provide some extra control on job assignment:</p>
<ul>
<li><code>maximize-value</code>: maximizes total value of served jobs. It has optional parameters:
<ul>
<li><code>reductionFactor</code>: a factor to reduce value cost compared to max routing costs</li>
<li><code>breaks</code>: a value penalty for skipping a break. Default value is 100.</li>
</ul>
</li>
<li><code>tour-order</code>: controls desired activity order in tours
<ul>
<li><code>isConstrained</code>: violating order is not allowed, even if it leads to less assigned jobs (default is true).</li>
</ul>
</li>
<li><code>compact-tour</code>: controls how tour is shaped by limiting amount of shared jobs, assigned in different routes,
for a given job' neighbourhood. It has the following mandatory parameters:
<ul>
<li><code>options</code>: options to relax objective:
<ul>
<li><code>jobRadius</code>: a radius of neighbourhood, minimum is 1</li>
<li><code>threshold</code>: a minimum shared jobs to count</li>
<li><code>distance</code>:  a minimum relative distance between counts when comparing different solutions.
This objective is supposed to be on the same level within cost ones.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="work-balance-objectives"><a class="header" href="#work-balance-objectives">Work balance objectives</a></h3>
<p>There are four work balance objectives available:</p>
<ul>
<li><code>balance-max-load</code>: balances max load in tour</li>
<li><code>balance-activities</code>: balances amount of activities performed in tour</li>
<li><code>balance-distance</code>: balances travelled distance per tour</li>
<li><code>balance-duration</code>: balances tour durations</li>
</ul>
<p>Typically, you need to use these objective with one from the cost group combined under single <code>multi-objective</code>.</p>
<p>An usage example:</p>
<pre><code class="language-json">    {
      "type": "multi-objective",
      "strategy": {
        "name": "sum"
      },
      "objectives": [
        {
          "type": "minimize-cost"
        },
        {
          "type": "balance-max-load"
        }
      ]
    }
</code></pre>
<h2 id="default-behaviour"><a class="header" href="#default-behaviour">Default behaviour</a></h2>
<p>By default, decision maker minimizes the number of unassigned jobs, routes and then total cost. This is equal to the
following definition:</p>
<pre><code class="language-json">  "objectives": [
    {
      "type": "minimize-unassigned"
    },
    {
      "type": "minimize-tours"
    },
    {
      "type": "minimize-cost"
    }
  ]
</code></pre>
<p>Here, cost minimization is a secondary objective that corresponds to a classical hierarchical objective used, for example,
by <code>Solomon</code> benchmark.</p>
<p>If at least one job has non-zero value associated, then the following objective is used:</p>
<pre><code class="language-json">  "objectives": [
    {
      "type": "maximize-value",
      "reductionFactor": 0.1
    },
    {
      "type": "minimize-unassigned"
    },
    {
      "type": "minimize-tours"
    },
    {
      "type": "minimize-cost"
    }
</code></pre>
<p>If order on job task is specified, then it is also added to the list of objectives after <code>minimize-tours</code> objective.</p>
<h2 id="hints"><a class="header" href="#hints">Hints</a></h2>
<ul>
<li>pay attention to the order of objectives</li>
<li>if you're using balancing objective and getting high cost or non-realistic, but balanced routes, try to use multi-objective:</li>
</ul>
<pre><code class="language-json">"objectives": [
  {
    "type": "minimize-unassigned"
  },
  {
    "type": "minimize-tours"
  },
  {
    "type": "multi-objective",
    "strategy": {
      "name": "sum"
    },
    "objectives": [
      {
        "type": "minimize-cost"
      },
      {
        "type": "balance-max-load"
      }
    ]
  }
]
</code></pre>
<h2 id="related-errors-3"><a class="header" href="#related-errors-3">Related errors</a></h2>
<ul>
<li><a href="concepts/pragmatic/problem/../errors/index.html#e1600">E1600 an empty objective specified</a></li>
<li><a href="concepts/pragmatic/problem/../errors/index.html#e1601">E1601 duplicate objective specified</a></li>
<li><a href="concepts/pragmatic/problem/../errors/index.html#e1602">E1602 missing one of cost objectives</a></li>
<li><a href="concepts/pragmatic/problem/../errors/index.html#e1603">E1603 redundant value objective</a></li>
<li><a href="concepts/pragmatic/problem/../errors/index.html#e1604">E1604 redundant tour order objective</a></li>
<li><a href="concepts/pragmatic/problem/../errors/index.html#e1605">E1605 value or order of a job should be greater than zero</a></li>
<li><a href="concepts/pragmatic/problem/../errors/index.html#e1606">E1606 multiple cost objectives specified</a></li>
<li><a href="concepts/pragmatic/problem/../errors/index.html#e1607">E1607 missing value objective</a></li>
</ul>
<h2 id="examples-4"><a class="header" href="#examples-4">Examples</a></h2>
<p>Please refer to <a href="concepts/pragmatic/problem/../../../examples/pragmatic/objectives/index.html">examples section</a> to see more examples.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="routing-data"><a class="header" href="#routing-data">Routing data</a></h1>
<p>In order to solve real life VRP, you need to provide routing information, such as distances and durations between all
locations in the problem. Getting this data is not a part of the solver, you need to use some external service to get it.
Once received, it has to be passed within VRP definition in specific routing matrix format.</p>
<p>When no routing matrix information supplied, the solver uses haversine distance approximation. See more information
about such behavior <a href="concepts/pragmatic/routing/../../../getting-started/routing.html">here</a>.</p>
<h2 id="location-format"><a class="header" href="#location-format">Location format</a></h2>
<p>Location can be represented as one of two types:</p>
<ul>
<li>location as geocoodinate</li>
</ul>
<pre><code class="language-json">                "location": {
                  "lat": 52.52599,
                  "lng": 13.45413
                },
</code></pre>
<ul>
<li>location as index reference in routing matrix</li>
</ul>
<pre><code class="language-json">                "location": {
                  "index": 0
                },
</code></pre>
<p>Please note, that you cannot mix these types in one problem definition. Also routing approximation cannot be used with
location indices.</p>
<h2 id="related-errors-4"><a class="header" href="#related-errors-4">Related errors</a></h2>
<ul>
<li><a href="concepts/pragmatic/routing/../errors/index.html#e0002">E0002 cannot create transport costs</a></li>
<li><a href="concepts/pragmatic/routing/../errors/index.html#e1500">E1500 duplicate profile names</a></li>
<li><a href="concepts/pragmatic/routing/../errors/index.html#e1501">E1501 empty profile collection</a></li>
<li><a href="concepts/pragmatic/routing/../errors/index.html#e1502">E1502 mixing different location types</a></li>
<li><a href="concepts/pragmatic/routing/../errors/index.html#e1503">E1503 location indices requires routing matrix to be specified</a></li>
<li><a href="concepts/pragmatic/routing/../errors/index.html#e1504">E1504 amount of locations does not match matrix dimension</a></li>
<li><a href="concepts/pragmatic/routing/../errors/index.html#e1505">E1505 unknown matrix profile name in vehicle or vicinity clustering profile</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="routing-matrix-format"><a class="header" href="#routing-matrix-format">Routing matrix format</a></h1>
<p>In general, routing matrix has the following schema:</p>
<ul>
<li><code>profile</code> (required for time dependent VRP) is name of vehicle profile</li>
<li><code>timestamp</code> (optional) a date in RFC3999 for which routing info is applicable. Can be used for time dependent VRP.</li>
<li><code>travelTimes</code> (required) is square matrix of durations in abstract time units represented via single dimensional array</li>
<li><code>distances</code> (required) is square matrix of distances in abstract distance unit represented via single dimensional array</li>
<li><code>errorCodes</code> (optional): must be present if there is no route between some locations. Non-zero value signalizes about
routing error.</li>
</ul>
<p>Both durations and distances are mapped to the list of unique locations generated from the problem definition. In this
list, locations are specified in the order they defined. For example, if you have two jobs with locations A and B, one
vehicle type with depot location C, then you have the following location list: A,B,C. It corresponds to the matrix (durations
or distances):</p>
<div class="table-wrapper"><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody>
<tr><td>0</td><td>AB</td><td>AC</td></tr>
<tr><td>BA</td><td>0</td><td>BC</td></tr>
<tr><td>CA</td><td>CB</td><td>0</td></tr>
</tbody></table>
</div>
<p>where</p>
<ul>
<li><code>0</code>: zero duration or distance</li>
<li><code>XY</code>: distance or duration from X location to Y</li>
</ul>
<p>As single dimensional array it looks like:</p>
<pre><code>[0,AB,AC,BA,0,BC,CA,CB,0]
</code></pre>
<p><code>vrp-cli</code> command provides a helper command to get it as well as <code>pragmatic</code> lib exposes method to get the list
pragmatically:</p>
<pre><code>vrp-cli solve pragmatic problem.json --get-locations -o locations.json
</code></pre>
<p>The output format is a simply array of unique geo locations:</p>
<pre><code class="language-json">[
  {
    "lat": 52.52599,
    "lng": 13.45413
  },
  {
    "lat": 52.5225,
    "lng": 13.4095
  },
  {
    "lat": 52.5165,
    "lng": 13.3808
  },
  {
    "lat": 52.5316,
    "lng": 13.3884
  }
]
</code></pre>
<p>You can use it to get a routing matrix from any of routing services of your choice, but the order in resulting matrix
should be kept as expected.</p>
<p>Routing matrix example:</p>
<pre><code class="language-json">{
  "profile": "normal_car",
  "travelTimes": [
    0,
    609,
    981,
    906,
    813,
    0,
    371,
    590,
    1055,
    514,
    0,
    439,
    948,
    511,
    463,
    0
  ],
  "distances": [
    0,
    3840,
    5994,
    5333,
    4696,
    0,
    2154,
    3226,
    5763,
    2674,
    0,
    2145,
    5112,
    2470,
    2152,
    0
  ]
}
</code></pre>
<p>If you have already your routing matrix, you can use location indices instead of geocoordinates as described
<a href="concepts/pragmatic/routing/../routing/index.html#location-format">here</a>.</p>
<h2 id="experimental"><a class="header" href="#experimental">Experimental</a></h2>
<p>Additionally, you can use a custom type of location with <code>type</code>=<code>unknown</code> to model a zero distance/duration to
any other location. This could be useful to model unknown location for vehicle start.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="routing-matrix-profiles"><a class="header" href="#routing-matrix-profiles">Routing matrix profiles</a></h1>
<p>In order to solve VRP, you need to specify at least one routing matrix profile.</p>
<h2 id="usage"><a class="header" href="#usage">Usage</a></h2>
<p>Routing matrix profiles are defined in <code>fleet.profiles</code>:</p>
<pre><code class="language-json">    "profiles": [
      {
        "name": "normal_car"
      }
    ]
</code></pre>
<p>The <code>name</code> must be unique for each matrix profile and it should referenced by <code>profile.matrix</code> property defined on vehicle:</p>
<pre><code class="language-json">        "profile": {
          "matrix": "normal_car"
        },
</code></pre>
<p>Use <code>-m</code> option to pass the matrix:</p>
<pre><code>vrp-cli solve pragmatic problem.json -m routing_matrix.json -o solution.json
</code></pre>
<p>If you don't pass any routing matrix, then <a href="https://en.wikipedia.org/wiki/Haversine_formula">haversine formula</a> is used to
calculate distances between geo locations. Durations are calculated using speed value defined via <code>speed</code> property in
each profile. It is optional, default value is <code>10</code> which corresponds to <code>10m/s</code>.</p>
<h2 id="multiple-profiles"><a class="header" href="#multiple-profiles">Multiple profiles</a></h2>
<p>In general, you're not limited to one single routing profile. You can define multiple ones and pass their matrices
to the solver:</p>
<pre><code>vrp-cli solve pragmatic problem.json -m routing_matrix_car.json -m routing_matrix_truck.json
</code></pre>
<p>Make sure that for all profile names in <code>fleet.profiles</code> you have the corresponding matrix specified.</p>
<p>See <a href="concepts/pragmatic/routing/../../../examples/pragmatic/basics/profiles.html">multiple profiles example</a>.</p>
<h2 id="time-dependent-routing"><a class="header" href="#time-dependent-routing">Time dependent routing</a></h2>
<p>In order to use this feature, specify more than one routing matrix for each profile with timestamp property set.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="pragmatic-solution"><a class="header" href="#pragmatic-solution">Pragmatic solution</a></h1>
<p>A pragmatic solution is a result of metaheuristic work and, essentially, consists of three main parts:</p>
<ul>
<li>statistic</li>
<li>list of tours</li>
<li>list of unassigned jobs</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tour-list"><a class="header" href="#tour-list">Tour list</a></h1>
<p>List of tours is essentially individual vehicle routes. Each tour consists of the following properties:</p>
<ul>
<li><strong>typeId</strong>: id of vehicle type
<pre><code class="language-json">      "typeId": "vehicle",
</code></pre>
</li>
<li><strong>vehicleId</strong>: id of used vehicle. Id of the vehicle is generated from the tour using pattern <code>$typeId_sequenceIndex</code>:
<pre><code class="language-json">      "vehicleId": "vehicle_1",
</code></pre>
</li>
<li><strong>shiftIndex</strong>: vehicle's shift index:
<pre><code class="language-json">      "shiftIndex": 0,
</code></pre>
</li>
<li><strong>stops</strong>: list of stops. See stop structure below</li>
<li><strong>statistic</strong>: statistic of the tour.
<pre><code class="language-json">      "statistic": {
    "cost": 41.504842000000004,
    "distance": 13251,
    "duration": 3507,
    "times": {
      "driving": 2367,
      "serving": 1140,
      "waiting": 0,
      "break": 0,
      "commuting": 0,
      "parking": 0
    }
</code></pre>
</li>
</ul>
<h2 id="stop-structure"><a class="header" href="#stop-structure">Stop structure</a></h2>
<p>Stop represents a location vehicle has to visit within activities to be performed. It has the following properties:</p>
<ul>
<li><strong>location</strong>: a stop location</li>
<li><strong>time</strong> (required): arrival and departure time from the stop</li>
<li><strong>distance</strong>: distance traveled since departure from start location</li>
<li><strong>load</strong>: (required) vehicle capacity after departure from the stop</li>
<li><strong>parking</strong> (optional): parking time. Used only with vicinity clustering.</li>
<li><strong>activities</strong> (required): list of activities to be performed at the stop. Each stop can have more than one activity.
See activity structure below.</li>
</ul>
<p>Please note, that <code>location</code> and <code>distance</code> are not required: they are omitted in case of the stop for a required break
which during traveling.</p>
<p>Please check examples <a href="concepts/pragmatic/solution/../../../examples/pragmatic/basics/break.html">here</a>.</p>
<h2 id="activity-structure"><a class="header" href="#activity-structure">Activity structure</a></h2>
<p>An activity specifies work to be done and has the following structure:</p>
<ul>
<li><strong>jobId</strong> (required): id of the job or special id (<code>departure</code>, <code>arrival</code>, <code>break</code>, <code>reload</code>)</li>
<li><strong>type</strong> (required):  activity type: <code>departure</code>, <code>arrival</code>, <code>break</code>, <code>reload</code>, <code>pickup</code> or <code>delivery</code></li>
<li><strong>location</strong> (optional): activity location. Omitted if stop list has one activity</li>
<li><strong>time</strong> (optional): start and end time of activity. Omitted if stop list has one activity</li>
<li><strong>jobTag</strong> (optional): a job place tag</li>
<li><strong>commute</strong> (optional): commute information. Used only with vicinity clustering.</li>
</ul>
<h2 id="examples-5"><a class="header" href="#examples-5">Examples</a></h2>
<p>An example of stop with one activity:</p>
<pre><code class="language-json">        {
          "location": {
            "lat": 52.5316,
            "lng": 13.3884
          },
          "time": {
            "arrival": "2019-07-04T09:00:00Z",
            "departure": "2019-07-04T09:51:29Z"
          },
          "distance": 0,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
</code></pre>
<p>An example of stop with two activities:</p>
<pre><code class="language-json">        {
          "location": {
            "lat": 52.5225,
            "lng": 13.4095
          },
          "time": {
            "arrival": "2019-07-04T10:22:26Z",
            "departure": "2019-07-04T10:31:26Z"
          },
          "distance": 8952,
          "load": [
            2
          ],
          "activities": [
            {
              "jobId": "job2",
              "type": "pickup",
              "location": {
                "lat": 52.5225,
                "lng": 13.4095
              },
              "time": {
                "start": "2019-07-04T10:22:26Z",
                "end": "2019-07-04T10:26:26Z"
              }
            },
            {
              "jobId": "job3",
              "type": "pickup",
              "location": {
                "lat": 52.5225,
                "lng": 13.4095
              },
              "time": {
                "start": "2019-07-04T10:26:26Z",
                "end": "2019-07-04T10:31:26Z"
              },
              "jobTag": "p1"
            }
          ]
        },
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="statistic"><a class="header" href="#statistic">Statistic</a></h1>
<p>A statistic entity represents total statistic for the whole solution or one tour. It has the following structure:</p>
<ul>
<li><strong>cost</strong>: a cost in abstract units</li>
<li><strong>distance</strong>: a total distance in distance units</li>
<li><strong>duration</strong>: a total duration in duration units</li>
<li><strong>times</strong>: a duration split into specific groups:
<ul>
<li><strong>driving</strong>: a total driving duration</li>
<li><strong>serving</strong>: a total serving jobs duration</li>
<li><strong>waiting</strong>: a total waiting time for time windows</li>
<li><strong>break</strong>: a total break duration</li>
<li><strong>commuting</strong>: a total commute duration (used only by vicinity clustering)</li>
<li><strong>parking</strong>: a total parking time (used only by vicinity clustering)</li>
</ul>
</li>
</ul>
<p>A solution statistic example:</p>
<pre><code class="language-json">  "statistic": {
   "cost": 41.504842000000004,
   "distance": 13251,
   "duration": 3507,
   "times": {
     "driving": 2367,
     "serving": 1140,
     "waiting": 0,
     "break": 0,
     "commuting": 0,
     "parking": 0
   }
 },
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="unassigned-jobs"><a class="header" href="#unassigned-jobs">Unassigned jobs</a></h1>
<p>When job cannot be assigned, it goes to the list of unassigned jobs:</p>
<pre><code class="language-json">  "unassigned": [
    {
      "jobId": "job2",
      "reasons": [
        {
          "code": "TIME_WINDOW_CONSTRAINT",
          "description": "cannot be visited within time window",
          "details": [
            {
              "vehicle_id": "vehicle_1",
              "shift_index": 0
            }
          ]
        }
      ]
</code></pre>
<p>Each item in this list has job id, reason code, description and, optionally, some extra details like vehicle id and
shift index. You will get as many reasons as tours in the solution. This information can be used to understand why the
job was not added to the existing tours.</p>
<h2 id="reasons-of-unassigned-jobs"><a class="header" href="#reasons-of-unassigned-jobs">Reasons of unassigned jobs</a></h2>
<div class="table-wrapper"><table><thead><tr><th>code</th><th>description</th><th>possible action</th></tr></thead><tbody>
<tr><td>NO_REASON_FOUND</td><td><code>unknown</code></td><td></td></tr>
<tr><td>SKILL_CONSTRAINT</td><td><code>cannot serve required skill</code></td><td>allocate more vehicles with given skill?</td></tr>
<tr><td>TIME_WINDOW_CONSTRAINT</td><td><code>cannot be visited within time window</code></td><td>allocate more vehicles, relax time windows, etc.?</td></tr>
<tr><td>CAPACITY_CONSTRAINT</td><td><code>does not fit into any vehicle due to capacity</code></td><td>allocate more vehicles?</td></tr>
<tr><td>REACHABLE_CONSTRAINT</td><td><code>location unreachable</code></td><td>change job location to routable place?</td></tr>
<tr><td>MAX_DISTANCE_CONSTRAINT</td><td><code>cannot be assigned due to max distance constraint of vehicle</code></td><td>allocate more vehicles?</td></tr>
<tr><td>MAX_DURATION_CONSTRAINT</td><td><code>cannot be assigned due to max duration constraint of vehicle</code></td><td>allocate more vehicles?</td></tr>
<tr><td>BREAK_CONSTRAINT</td><td><code>break is not assignable</code></td><td>correct break location or/and time window?</td></tr>
<tr><td>LOCKING_CONSTRAINT</td><td><code>cannot be served due to relation lock</code></td><td>review relations?</td></tr>
<tr><td>AREA_CONSTRAINT</td><td><code>cannot be assigned due to area constraint</code></td><td>make sure that jobs inside allowed areas</td></tr>
<tr><td>TOUR_SIZE_CONSTRAINT</td><td><code>cannot be assigned due to tour size constraint of vehicle</code></td><td>make sure that there are enough vehicles to serve jobs</td></tr>
<tr><td>TOUR_ORDER_CONSTRAINT</td><td><code>cannot be assigned due to tour order constraint</code></td><td>tour order might be too strict or not vehicles enough</td></tr>
<tr><td>GROUP_CONSTRAINT</td><td><code>cannot be assigned due to group constraint</code></td><td>try to reduce amount of jobs in the group?</td></tr>
<tr><td>COMPATIBILITY_CONSTRAINT</td><td><code>cannot be assigned due to compatibility constraint</code></td><td>review job's compatibilities</td></tr>
<tr><td>RELOAD_RESOURCE_CONSTRAINT</td><td><code>cannot be assigned due to reload resource constraint</code></td><td>review shared resource allocation for vehicle reloads</td></tr>
</tbody></table>
</div>
<h2 id="example"><a class="header" href="#example">Example</a></h2>
<p>An example of problem with unassigned jobs can be found <a href="concepts/pragmatic/solution/../../../examples/pragmatic/basics/unassigned.html">here</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="violations"><a class="header" href="#violations">Violations</a></h1>
<p>Some of the constraints, specified by the problem, are considered as soft and can be violated under certain circumstances.
Violations are listed in <code>violations</code> collection and divided in to specific groups.</p>
<h2 id="vehicle-break-violation"><a class="header" href="#vehicle-break-violation">Vehicle Break violation</a></h2>
<p>A vehicle break is considered as soft constraint and can be violated if the solver is not able to assign it. When it is
violated, the following object is returned:</p>
<pre><code class="language-json">{
  "type": "break",
  "vehicleId": "my_vehicle_id",
  "shiftIndex": 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="error-index"><a class="header" href="#error-index">Error Index</a></h1>
<p>This page lists errors produced by the solver.</p>
<h2 id="e0xxx-error"><a class="header" href="#e0xxx-error">E0xxx Error</a></h2>
<p>Errors from E0xxx range are generic.</p>
<h3 id="e0000"><a class="header" href="#e0000">E0000</a></h3>
<p><code>cannot deserialize problem</code> is returned when problem definition cannot be deserialized from the input stream.</p>
<h3 id="e0001"><a class="header" href="#e0001">E0001</a></h3>
<p><code>cannot deserialize matrix</code> is returned when routing matrix definition cannot be deserialized from the input stream.</p>
<h3 id="e0002"><a class="header" href="#e0002">E0002</a></h3>
<p><code>cannot create transport costs</code> is returned when problem cannot be matched within routing matrix data passed.</p>
<p>There are two options to consider, when specifying routing matrix data:</p>
<ul>
<li><em>time dependent VRP</em> requires all matrices to have <code>profile</code> and <code>timestamp</code> properties to be se</li>
<li><em>time agnostic VRP</em> requires <code>timestamp</code> property to be omitted, <code>profile</code> property either set or skipped for all matrices</li>
</ul>
<h3 id="e0003"><a class="header" href="#e0003">E0003</a></h3>
<p><code>cannot find any solution</code> is returned when no solution is found. In this case, please submit a bug and share original
problem and routing matrix.</p>
<h3 id="e0004"><a class="header" href="#e0004">E0004</a></h3>
<p><code>cannot read config</code> is returned when algorithm configuration cannot be created. To fix it, make sure that config has
a valid json schema and valid parameters.</p>
<h2 id="e1xxx-validation-errors"><a class="header" href="#e1xxx-validation-errors">E1xxx: Validation errors</a></h2>
<p>Errors from E1xxx range are used by validation engine which checks logical correctness of the rich VRP definition.</p>
<h3 id="e11xx-jobs"><a class="header" href="#e11xx-jobs">E11xx: Jobs</a></h3>
<p>These errors are related to <code>plan.jobs</code> property definition.</p>
<h4 id="e1100"><a class="header" href="#e1100">E1100</a></h4>
<p><code>duplicated job ids</code> error is returned when <code>plan.jobs</code> has jobs with the same ids:</p>
<pre><code class="language-json">{
  "plan": {
    "jobs": [
      {
        "id": "job1",
        /** omitted **/
      },
      {
        /** Error: this id is already used by another job **/
        "id": "job1",
        /** omitted **/
      }
      /** omitted **/
    ]
  }
}
</code></pre>
<p>Duplicated job ids are not allowed, so you need to remove all duplicates in order to fix the error.</p>
<h4 id="e1101"><a class="header" href="#e1101">E1101</a></h4>
<p><code>invalid job task demand</code> error is returned when job has invalid demand: <code>pickup</code>, <code>delivery</code>, <code>replacement</code> job types should
have demand specified on each job task, <code>service</code> type should have no demand specified:</p>
<pre><code class="language-json">{
  "id": "job1",
  "deliveries": [
    {
      /** omitted **/
      /** Error: delivery task should have demand set**/
      "demand": null
    }
 ],
 "services": [
   {
     /** omitted **/
     /** Error: service task should have no demand specified**/
     "demand": [1]
   }
 ]
}
</code></pre>
<p>To fix the error, make sure that each job task has proper demand.</p>
<h4 id="e1102"><a class="header" href="#e1102">E1102</a></h4>
<p><code>invalid pickup and delivery demand</code> error code is returned when job has both pickups and deliveries, but the sum of
pickups demand does not match to the sum of deliveries demand:</p>
<pre><code class="language-json">{
  "id": "job",
  "pickups": [
    {
      "places": [/** omitted **/],
      "demand": [1],
    },
    {
      "places": [/** omitted **/],
      "demand": [1]
    }
  ],
  "deliveries": [
    {
      "places": [/** omitted **/],
      /** Error: should be 2 as the sum of pickups is 2 **/
      "demand": [1]
    }
  ]
}
</code></pre>
<h4 id="e1103"><a class="header" href="#e1103">E1103</a></h4>
<p><code>invalid time windows in jobs</code> error is returned when there is a job which has invalid time windows, e.g.:</p>
<pre><code class="language-json">{
  /** Error: end time is one hour earlier than start time**/
  "times": [
    [
      "2020-07-04T12:00:00Z",
      "2020-07-04T11:00:00Z"
    ]
  ]
}
</code></pre>
<p>Each time window must satisfy the following criteria:</p>
<ul>
<li>array of two strings each of these specifies date in RFC3339 format. The first is considered as start,
the second - as end</li>
<li>start date is earlier than end date</li>
<li>if multiple time windows are specified, they must not intersect, e.g.:</li>
</ul>
<pre><code class="language-json">{
  /** Error: second time window intersects with first one: [13:00, 14:00] **/
  "times": [
    [
      "2020-07-04T10:00:00Z",
      "2020-07-04T14:00:00Z"
    ],
    [
      "2020-07-04T13:00:00Z",
      "2020-07-04T17:00:00Z"
    ]
  ]
}
</code></pre>
<h4 id="e1104"><a class="header" href="#e1104">E1104</a></h4>
<p><code>reserved job id is used</code> error is returned when there is a job which has reserved job id:</p>
<pre><code class="language-json">{
  /** Error: 'departure' is reserved job id **/
  "id": "departure"
}
</code></pre>
<p>To avoid confusion, the following ids are reserved: <code>departure</code>, <code>arrival</code>, <code>break</code>, and <code>reload</code>. These
ids are not allowed to be used within <code>job.id</code> property.</p>
<h4 id="e1105"><a class="header" href="#e1105">E1105</a></h4>
<p><code>empty job</code> error is returned when there is a job which has no or empty job tasks:</p>
<pre><code class="language-json">{
  /** Error: at least one job task has to be defined **/
  "id": "job1",
  "pickups": null,
  "deliveries": []
}
</code></pre>
<p>To fix the error, remove job from the plan or add at least one job task to it.</p>
<h4 id="e1106"><a class="header" href="#e1106">E1106</a></h4>
<p><code>job has negative duration</code> error is returned when there is a job place with negative duration:</p>
<pre><code class="language-json">{
  "id": "job",
  "pickups": [
    {
      "places": [{
        /** Error: negative duration does not make sense **/
        "duration": -10,
        "location": {/* omitted */}
       }]
       /* omitted */
    }
  ]
}
</code></pre>
<p>To fix the error, make sure that all durations are non negative.</p>
<h4 id="e1107"><a class="header" href="#e1107">E1107</a></h4>
<p><code>job has negative demand</code> error is returned when there is a job with negative demand in any of dimensions:</p>
<pre><code class="language-json">{
  "id": "job",
  "pickups": [
    {
      "places": [/* omitted */],
      /** Error: negative demand is not allowed **/
      "demand": [10, -1]
    }
  ]
}
</code></pre>
<p>To fix the error, make sure that all demand values are non negative.</p>
<h3 id="e12xx-relations"><a class="header" href="#e12xx-relations">E12xx: Relations</a></h3>
<p>These errors are related to <code>plan.relations</code> property definition.</p>
<h4 id="e1200"><a class="header" href="#e1200">E1200</a></h4>
<p><code>relation has job id which does not present in the plan</code> error is returned when <code>plan.relations</code> has relations with
job ids, not present in <code>plan.jobs</code>.</p>
<h4 id="e1201"><a class="header" href="#e1201">E1201</a></h4>
<p><code>relation has vehicle id which does not present in the fleet</code> error is returned when <code>plan.relations</code> has relations with
vehicle ids, not present in <code>plan.fleet</code>.</p>
<h4 id="e1202"><a class="header" href="#e1202">E1202</a></h4>
<p><code>relation has empty job id list</code> error is returned when <code>plan.relations</code> has relations with empty <code>jobs</code> list or it has
only reserved ids such as <code>departure</code>, <code>arrival</code>, <code>break</code>, <code>reload</code>.</p>
<h4 id="e1203"><a class="header" href="#e1203">E1203</a></h4>
<p><code>strict or sequence relation has job with multiple places or time windows</code> error is returned when <code>plan.relations</code> has
strict or sequence relation which refers one or many jobs with multiple places and/or time windows.</p>
<p>This is currently not allowed due to matching problem.</p>
<h4 id="e1204"><a class="header" href="#e1204">E1204</a></h4>
<p><code>job is assigned to different vehicles in relations</code> error is returned when <code>plan.relations</code> has a job assigned to several
relations with different vehicle ids:</p>
<pre><code class="language-json">{
  "plan": {
    "relations": [
      {
        "vehicleId": "vehicle_1",
        "jobs": ["job1"],
        /** omitted **/
      },
      {
        /** Error: this job id is already assigned to another vehicle **/
        "vehicleId": "vehicle_2",
        "jobs": ["job1"],
        /** omitted **/
      }
    ]
  }
}
</code></pre>
<p>To fix this, remove job id from one of relations.</p>
<h4 id="e1205"><a class="header" href="#e1205">E1205</a></h4>
<p><code>relation has invalid shift index</code> error is returned when <code>plan.relations</code> has <code>shiftIndex</code> value and no corresponding
<code>shift</code> is present in list of shifts.</p>
<h4 id="e1206"><a class="header" href="#e1206">E1206</a></h4>
<p><code>relation has special job id which is not defined on vehicle shift</code> error is returned when <code>plan.relations</code> has reserved
job id and corresponding property on <code>fleet.vehicles.shifts</code> is not defined. Reserved ids are <code>break</code>, <code>reload</code> and <code>arrival</code>.</p>
<h4 id="e1207"><a class="header" href="#e1207">E1207</a></h4>
<p><code>some relations have incomplete job definitions</code> error is returned when <code>plan.relations</code> has relation with incomplete
job definitions: e.g. job has two pickups, but in relation its job id is specified only once. To fix the issue, either
remove job ids completely or add missing ones.</p>
<h3 id="e13xx-vehicles"><a class="header" href="#e13xx-vehicles">E13xx: Vehicles</a></h3>
<p>These errors are related to <code>fleet.vehicles</code> property definition.</p>
<h4 id="e1300"><a class="header" href="#e1300">E1300</a></h4>
<p><code>duplicated vehicle type ids</code> error is returned when <code>fleet.vehicles</code> has vehicle types with the same <code>typeId</code>:</p>
<pre><code class="language-json">{
  "fleet": {
    "vehicles": [
      {
        "typeId": "vehicle_1",
        /** omitted **/
      },
      {
        /** Error: this id is already used by another vehicle type **/
        "typeId": "vehicle_1",
        /** omitted **/
      }
      /** omitted **/
    ]
  }
}
</code></pre>
<h4 id="e1301"><a class="header" href="#e1301">E1301</a></h4>
<p><code>duplicated vehicle ids</code> error is returned when <code>fleet.vehicles</code> has vehicle types with the same <code>vehicleIds</code>:</p>
<pre><code class="language-json">{
  "fleet": {
    "vehicles": [
      {
        "typeId": "vehicle_1",
        "vehicleIds": [
          "vehicle_1_a",
          "vehicle_1_b",
          /** Error: vehicle_1_b is used second time **/
          "vehicle_1_b"
        ],
        /** omitted **/
      },
      {
        "typeId": "vehicle_2",
        "vehicleIds": [
          /** Error: vehicle_1_a is used second time **/
          "vehicle_1_a",
          "vehicle_2_b"
        ],
        /** omitted **/
      }
      /** omitted **/
    ]
  }
}
</code></pre>
<p>Please note that vehicle id should be unique across all vehicle types.</p>
<h4 id="e1302"><a class="header" href="#e1302">E1302</a></h4>
<p><code>invalid start or end times in vehicle shift</code> error is returned when vehicle has start/end shift times violating one of
time windows rules defined for jobs in E1103.</p>
<h4 id="e1303"><a class="header" href="#e1303">E1303</a></h4>
<p><code>invalid break time windows in vehicle shift</code> error is returned when vehicle has invalid time window of a break. List of
break should follow time window rules defined for jobs in E1103. Additionally, break time should be inside vehicle shift
it is specified:</p>
<pre><code class="language-json">{
  "start": {
    "time": "2019-07-04T08:00:00Z",
    /** omitted **/
  },
  "end": {
    "time": "2019-07-04T15:00:00Z",
    /** omitted **/
  },
  "breaks": [
    {
      /** Error: break is outside of vehicle shift times **/
      "times": [
        [
          "2019-07-04T17:00:00Z",
          "2019-07-04T18:00:00Z"
        ]
      ],
      "duration": 3600.0
    }
  ]
}
</code></pre>
<h4 id="e1304"><a class="header" href="#e1304">E1304</a></h4>
<p><code>invalid reload time windows in vehicle shift</code> error is returned when vehicle has invalid time window of a reload. Reload
list should follow time window rules defined for jobs in E1003 except multiple reloads can have time window intersections.
Additionally, reload time should be inside vehicle shift it is specified:</p>
<pre><code class="language-json">{
  "start": {
    "time": "2019-07-04T08:00:00Z",
    /** omitted **/
  },
  "end": {
    "time": "2019-07-04T15:00:00Z",
    /** omitted **/
  },
  "reloads": [
    {
      /** Error: reload is outside of vehicle shift times **/
      "times": [
        [
          "2019-07-04T17:00:00Z",
          "2019-07-04T18:00:00Z"
        ]
      ],
      "location": { /** omitted **/ },
      "duration": 3600.0
    }
  ]
}
</code></pre>
<h4 id="e1306"><a class="header" href="#e1306">E1306</a></h4>
<p><code>time and duration costs are zeros</code> is returned when both time and duration costs are zeros in vehicle type definition:</p>
<pre><code class="language-json">{
  "typeId": "vehicle",
  "vehicleIds": [
    "vehicle_1"
  ],
  "profile": {
    "matrix": "car"
  },
  "costs": {
    "fixed": 20.0,
    /** Error: distance and time are zero **/
    "distance": 0,
    "time": 0
  },
  /** omitted **/
}
</code></pre>
<p>You can fix the error by defining a small value (e.g. 0.0000001) for duration or time costs.</p>
<h4 id="e1307"><a class="header" href="#e1307">E1307</a></h4>
<p><code>time offset interval for break is used with departure rescheduling</code> is returned when time offset interval is specified for break,
but <code>start.latest</code> is not set equal to <code>start.earliest</code> in the shift.</p>
<pre><code class="language-json">  {
    "start": {
      "earliest": "2019-07-04T09:00:00Z",
      /** Error: need to set latest to  "2019-07-04T09:00:00Z" explicitely **/
      "location": { "lat": 52.5316, "lng": 13.3884 }
    },
    "breaks": [{
        /** Note: offset time is used here **/
        "time": [3600, 4000],
        "places": [{ "duration": 1800 } ]
     }]
  }
</code></pre>
<p>Alternatively, you can switch to time window definition and keep <code>start.latest</code> property as you wish.</p>
<h4 id="e1308"><a class="header" href="#e1308">E1308</a></h4>
<p><code>invalid vehicle reload resource</code> is returned when:</p>
<ul>
<li><code>fleet.resources</code> has vehicle reloads with the same <code>id</code></li>
<li>required vehicle reload is used with resource id, which is not specified in <code>fleet.resources</code></li>
</ul>
<h3 id="e15xx-routing-profiles"><a class="header" href="#e15xx-routing-profiles">E15xx: Routing profiles</a></h3>
<p>These errors are related to routing locations and <code>fleet.profiles</code> property definitions.</p>
<h4 id="e1500"><a class="header" href="#e1500">E1500</a></h4>
<p><code>duplicate profile names</code> error is returned when <code>fleet.profiles</code> has more than one profile with the same name:</p>
<pre><code class="language-json">{
  "profiles": [
    {
      "name": "vehicle_profile",
      "type": "car"
    },
    {
      "name": "vehicle_profile",
      "type": "truck"
    }
  ]
}
</code></pre>
<p>To fix the issue, remove all duplicates.</p>
<h4 id="e1501"><a class="header" href="#e1501">E1501</a></h4>
<p><code>empty profile collection</code> error is returned when <code>fleet.profiles</code> is empty:</p>
<pre><code class="language-json">{
  "profiles": []
}
</code></pre>
<h4 id="e1502"><a class="header" href="#e1502">E1502</a></h4>
<p><code>mixing different location types</code> error is returned when problem contains locations in different formats. In order to
fix the issue, change the problem definition to use one specific location type: index reference or geocoordinate.</p>
<h4 id="e1503"><a class="header" href="#e1503">E1503</a></h4>
<p><code>location indices requires routing matrix to be specified</code> is returned when location indices are used, but no
routing matrix provided.</p>
<h4 id="e1504"><a class="header" href="#e1504">E1504</a></h4>
<p><code>amount of locations does not match matrix dimension</code> is returned when:</p>
<ul>
<li>location indices are used and max index is greater than matrix size</li>
<li>amount of total locations is higher than matrix size</li>
</ul>
<p>Check locations in problem definition and matrix size.</p>
<h4 id="e1505"><a class="header" href="#e1505">E1505</a></h4>
<p><code>unknown matrix profile name in vehicle or vicinity clustering profile</code> is returned when vehicle has in <code>fleet.vehicles.profile.matrix</code>
or <code>plan.clustering.profile</code> value which is not specified in <code>fleet.profiles</code> collection. To fix issue, either change
value to one specified or add a corresponding profile in profiles collection.</p>
<h3 id="e16xx-objectives"><a class="header" href="#e16xx-objectives">E16xx: Objectives</a></h3>
<p>These errors are related to <code>objectives</code> property definition.</p>
<h4 id="e1600"><a class="header" href="#e1600">E1600</a></h4>
<p><code>an empty objective specified</code> error is returned when objective property is present in the problem, but no single
objective is set, e.g.:</p>
<pre><code class="language-json">{
  "objectives": []
}
</code></pre>
<p><code>objectives</code> property is optional, just remove it to fix the problem and use default objectives.</p>
<h4 id="e1601"><a class="header" href="#e1601">E1601</a></h4>
<p><code>duplicate objective specified</code> error is returned when objective of specific type specified more than once:</p>
<pre><code class="language-json">{
  "objectives": [
    {
      "type": "minimize-unassigned"
    },
    {
      "type": "minimize-unassigned"
    },
    {
      "type": "minimize-cost"
    }
  ]
}
</code></pre>
<p>To fix this issue, just remove one, e.g. <code>minimize-unassigned</code>.</p>
<h4 id="e1602"><a class="header" href="#e1602">E1602</a></h4>
<p><code>missing one of cost objectives</code> error is returned when no cost objective specified:</p>
<pre><code class="language-json">{
  "objectives": [
    {
      "type": "minimize-unassigned"
    }
  ]
}
</code></pre>
<p>To solve it, specify one of the cost objectives: <code>minimize-cost</code>, <code>minimize-distance</code> or <code>minimize-duration</code>.</p>
<h4 id="e1603"><a class="header" href="#e1603">E1603</a></h4>
<p><code>redundant value objective</code> error is returned when objectives definition is overridden with <code>maximize-value</code>, but
there is no jobs with non-zero value specified. To fix the issue, specify at least one non-zero valued job or simply
delete 'maximize-value' objective.</p>
<h4 id="e1604"><a class="header" href="#e1604">E1604</a></h4>
<p><code>redundant tour order objective</code> error is returned when objectives definition is overridden with <code>tour-order</code>, but
there is no jobs with non-zero order specified. To fix the issue, specify at least one job with non-zero order or simply
delete 'tour-order' objective.</p>
<h4 id="e1605"><a class="header" href="#e1605">E1605</a></h4>
<p><code>value or order of a job should be greater than zero</code> error is returned when job's order or value is less than 1. To
fix the issue, make sure that value or order of all jobs are greater than zero.</p>
<h4 id="e1606"><a class="header" href="#e1606">E1606</a></h4>
<p><code>multiple cost objectives specified</code> error is returned when more than one cost objective is specified. To fix the issue,
keep only one cost objective in the list of objectives.</p>
<h4 id="e1607"><a class="header" href="#e1607">E1607</a></h4>
<p><code>missing value objective</code> error is returned when plan has jobs with value set, but user defined objective doesn't
include the <code>maximize-value</code> objective.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="scientific-formats"><a class="header" href="#scientific-formats">Scientific formats</a></h1>
<p>The project supports two text formats widely used for benchmarking various a algorithms in scientific papers:</p>
<ul>
<li><strong>Solomon</strong>: specifies CVRPTW</li>
<li><strong>Li&amp;Lim</strong>: specifies VRPPD</li>
<li><strong>tsplib</strong> specifies CVRPTW</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="solomon-problems"><a class="header" href="#solomon-problems">Solomon problems</a></h1>
<p>To run the problem from <code>solomon</code> set, simply specify <em>solomon</em> as a type. The following command solves solomon problem
defined in <em>RC1_10_1.txt</em> and stores solution in <em>RC1_10_1_solution.txt</em>:</p>
<pre><code>vrp-cli solve solomon RC1_10_1.txt -o RC1_10_1_solution.txt
</code></pre>
<p>Optionally, you can specify initial solution to start with:</p>
<pre><code>vrp-cli solve solomon RC1_10_1.txt --init-solution RC1_10_1_solution_initial.txt -o RC1_10_1_solution_improved.txt
</code></pre>
<p>For details see <a href="https://www.sintef.no/projectweb/top/vrptw/solomon-benchmark">Solomon benchmark</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="lilim"><a class="header" href="#lilim">Li&amp;Lim</a></h1>
<p>To run the problem from Li&amp;Lim set, simply specify <em>lilim</em> as a type:</p>
<pre><code>vrp-cli solve lilim LC1_10_2.txt -o LC1_10_2_solution.txt
</code></pre>
<p>For details see <a href="https://www.sintef.no/projectweb/top/pdptw/li-lim-benchmark">Li&amp;Lim benchmark</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tsplib-problems"><a class="header" href="#tsplib-problems">TSPLIB problems</a></h1>
<p>To run the problem from <code>tsplib</code> data set, simply specify <em>tsplib</em> as a type. Please note, only few features of the
format are supported.</p>
<p>Some benchmarks can be found <a href="http://vrp.atd-lab.inf.puc-rio.br/index.php/en/">here</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="examples-6"><a class="header" href="#examples-6">Examples</a></h1>
<p>This section contains data and code examples.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="pragmatic-examples"><a class="header" href="#pragmatic-examples">Pragmatic examples</a></h1>
<p>Here you can find multiple examples how to use different features such as break, reload, multi job, etc.</p>
<p>Each example consists of:</p>
<ul>
<li><strong>problem definition</strong>: a json file with complete problem definition.</li>
<li><strong>solution</strong>: a json file with one of the possible solutions</li>
</ul>
<p>For selected examples:</p>
<ul>
<li><strong>geojson</strong> visualization with <code>leaflet</code></li>
<li><strong>ordered list of unique locations</strong>: a json file with list of locations in specific order which can be used to
request a routing matrix. More info can be found <a href="examples/pragmatic/../../concepts/pragmatic/routing/format.html">here</a></li>
<li><strong>routing matrix</strong>: a json file with routing matrix described <a href="examples/pragmatic/../../concepts/pragmatic/routing/index.html">here</a></li>
<li><strong>CLI command</strong> command line which can be used to reproduce results locally using <code>vrp-cli</code> tool. Original data can be
found in <code>examples</code> folder or copy-pasted from example pages and stored locally.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="basic-usage"><a class="header" href="#basic-usage">Basic usage</a></h1>
<p>This section contains minimalistic examples to demonstrate how to use various features.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="basic-job-usage"><a class="header" href="#basic-job-usage">Basic job usage</a></h1>
<p>This section demonstrates how to use different job task types.</p>
<p>You can find more details about job type schema on <a href="examples/pragmatic/basics/../../../concepts/pragmatic/problem/jobs.html">job concept section</a>.</p>
<h2 id="basic-pickup-and-delivery-usage"><a class="header" href="#basic-pickup-and-delivery-usage">Basic pickup and delivery usage</a></h2>
<p>In this example, there is one delivery, one pickup, and one pickup and delivery job with one dimensional demand.</p>
<details>
    <summary>Problem</summary><p>
<pre><code class="language-json">{
  "plan": {
    "jobs": [
      {
        "id": "job1",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.52599,
                  "lng": 13.45413
                },
                "duration": 300.0,
                "times": [
                  [
                    "2019-07-04T09:00:00Z",
                    "2019-07-04T18:00:00Z"
                  ],
                  [
                    "2019-07-05T09:00:00Z",
                    "2019-07-05T18:00:00Z"
                  ]
                ]
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job2",
        "pickups": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5225,
                  "lng": 13.4095
                },
                "duration": 240.0,
                "times": [
                  [
                    "2019-07-04T10:00:00Z",
                    "2019-07-04T16:00:00Z"
                  ]
                ]
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job3",
        "pickups": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5225,
                  "lng": 13.4095
                },
                "duration": 300.0,
                "tag": "p1"
              }
            ],
            "demand": [
              1
            ]
          }
        ],
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5165,
                  "lng": 13.3808
                },
                "duration": 300.0,
                "tag": "d1"
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      }
    ]
  },
  "fleet": {
    "vehicles": [
      {
        "typeId": "vehicle",
        "vehicleIds": [
          "vehicle_1"
        ],
        "profile": {
          "matrix": "normal_car"
        },
        "costs": {
          "fixed": 22.0,
          "distance": 0.0002,
          "time": 0.004806
        },
        "shifts": [
          {
            "start": {
              "earliest": "2019-07-04T09:00:00Z",
              "location": {
                "lat": 52.5316,
                "lng": 13.3884
              }
            },
            "end": {
              "latest": "2019-07-04T18:00:00Z",
              "location": {
                "lat": 52.5316,
                "lng": 13.3884
              }
            }
          }
        ],
        "capacity": [
          10
        ]
      }
    ],
    "profiles": [
      {
        "name": "normal_car"
      }
    ]
  }
}
</code></pre>
</p></details>
<details>
    <summary>Solution</summary><p>
<pre><code class="language-json">{
  "statistic": {
    "cost": 41.504842000000004,
    "distance": 13251,
    "duration": 3507,
    "times": {
      "driving": 2367,
      "serving": 1140,
      "waiting": 0,
      "break": 0,
      "commuting": 0,
      "parking": 0
    }
  },
  "tours": [
    {
      "vehicleId": "vehicle_1",
      "typeId": "vehicle",
      "shiftIndex": 0,
      "stops": [
        {
          "location": {
            "lat": 52.5316,
            "lng": 13.3884
          },
          "time": {
            "arrival": "2019-07-04T09:00:00Z",
            "departure": "2019-07-04T09:51:29Z"
          },
          "distance": 0,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "location": {
            "lat": 52.52599,
            "lng": 13.45413
          },
          "time": {
            "arrival": "2019-07-04T10:07:17Z",
            "departure": "2019-07-04T10:12:17Z"
          },
          "distance": 5112,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "job1",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5225,
            "lng": 13.4095
          },
          "time": {
            "arrival": "2019-07-04T10:22:26Z",
            "departure": "2019-07-04T10:31:26Z"
          },
          "distance": 8952,
          "load": [
            2
          ],
          "activities": [
            {
              "jobId": "job2",
              "type": "pickup",
              "location": {
                "lat": 52.5225,
                "lng": 13.4095
              },
              "time": {
                "start": "2019-07-04T10:22:26Z",
                "end": "2019-07-04T10:26:26Z"
              }
            },
            {
              "jobId": "job3",
              "type": "pickup",
              "location": {
                "lat": 52.5225,
                "lng": 13.4095
              },
              "time": {
                "start": "2019-07-04T10:26:26Z",
                "end": "2019-07-04T10:31:26Z"
              },
              "jobTag": "p1"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5165,
            "lng": 13.3808
          },
          "time": {
            "arrival": "2019-07-04T10:37:37Z",
            "departure": "2019-07-04T10:42:37Z"
          },
          "distance": 11106,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "job3",
              "type": "delivery",
              "jobTag": "d1"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5316,
            "lng": 13.3884
          },
          "time": {
            "arrival": "2019-07-04T10:49:56Z",
            "departure": "2019-07-04T10:49:56Z"
          },
          "distance": 13251,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "arrival",
              "type": "arrival"
            }
          ]
        }
      ],
      "statistic": {
        "cost": 41.504842000000004,
        "distance": 13251,
        "duration": 3507,
        "times": {
          "driving": 2367,
          "serving": 1140,
          "waiting": 0,
          "break": 0,
          "commuting": 0,
          "parking": 0
        }
      }
    }
  ]
}
</code></pre>
</p></details>
</br>
<div id="geojson" hidden>
{
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "0",
        "stop_idx": "0",
        "marker-symbol": "warehouse",
        "jobs_ids": "departure",
        "marker-color": "#e6194b",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3884,
          52.5316
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "1",
        "marker-symbol": "marker",
        "marker-size": "medium",
        "marker-color": "#e6194b",
        "jobs_ids": "job1",
        "tour_idx": "0"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.45413,
          52.52599
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job3,job2",
        "marker-symbol": "marker",
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "tour_idx": "0",
        "stop_idx": "2"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4095,
          52.5225
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#e6194b",
        "marker-symbol": "marker",
        "tour_idx": "0",
        "marker-size": "medium",
        "stop_idx": "3",
        "jobs_ids": "job3"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3808,
          52.5165
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "4",
        "jobs_ids": "arrival",
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "marker-symbol": "warehouse",
        "tour_idx": "0"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3884,
          52.5316
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "shift_idx": "0",
        "stroke-width": "4",
        "stroke": "#e6194b",
        "tour_idx": "0",
        "activities:": "6",
        "vehicle_id": "vehicle_1"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.3884,
            52.5316
          ],
          [
            13.45413,
            52.52599
          ],
          [
            13.4095,
            52.5225
          ],
          [
            13.3808,
            52.5165
          ],
          [
            13.3884,
            52.5316
          ]
        ]
      }
    }
  ]
}
</div>
<div id="map"></div>
<p>As problem has two job task places with exactly same location, solution contains one stop with two activities.</p>
<h2 id="multiple-pickups-and-deliveries"><a class="header" href="#multiple-pickups-and-deliveries">Multiple pickups and deliveries</a></h2>
<p>This example contains two multi jobs with slightly different parameters.</p>
 <details>
     <summary>Problem</summary><p>
<pre><code class="language-json">{
 "plan": {
   "jobs": [
     {
       "id": "multi_job1",
       "pickups": [
         {
           "places": [
             {
               "location": {
                 "lat": 52.5622847,
                 "lng": 13.4023099
               },
               "duration": 240.0,
               "tag": "p1"
             }
           ],
           "demand": [
             1
           ]
         },
         {
           "places": [
             {
               "location": {
                 "lat": 52.5330881,
                 "lng": 13.3973059
               },
               "duration": 240.0,
               "tag": "p2"
             }
           ],
           "demand": [
             1
           ]
         }
       ],
       "deliveries": [
         {
           "places": [
             {
               "location": {
                 "lat": 52.5252832,
                 "lng": 13.4188422
               },
               "duration": 240.0,
               "tag": "d1"
             }
           ],
           "demand": [
             2
           ]
         }
       ]
     },
     {
       "id": "multi_job2",
       "pickups": [
         {
           "places": [
             {
               "location": {
                 "lat": 52.52599,
                 "lng": 13.45413
               },
               "duration": 240.0,
               "tag": "p1"
             }
           ],
           "demand": [
             2
           ]
         }
       ],
       "deliveries": [
         {
           "places": [
             {
               "location": {
                 "lat": 52.4928,
                 "lng": 13.4597
               },
               "duration": 240.0,
               "tag": "d1"
             }
           ],
           "demand": [
             1
           ]
         },
         {
           "places": [
             {
               "location": {
                 "lat": 52.4989,
                 "lng": 13.3917
               },
               "duration": 240.0,
               "tag": "d2"
             }
           ],
           "demand": [
             1
           ]
         }
       ]
     }
   ]
 },
 "fleet": {
   "vehicles": [
     {
       "typeId": "vehicle",
       "vehicleIds": [
         "vehicle_1"
       ],
       "profile": {
         "matrix": "normal_car"
       },
       "costs": {
         "fixed": 22.0,
         "distance": 0.0002,
         "time": 0.004806
       },
       "shifts": [
         {
           "start": {
             "earliest": "2019-07-04T09:00:00Z",
             "location": {
               "lat": 52.4664257,
               "lng": 13.2812488
             }
           },
           "end": {
             "latest": "2019-07-04T18:00:00Z",
             "location": {
               "lat": 52.4664257,
               "lng": 13.2812488
             }
           }
         }
       ],
       "capacity": [
         10
       ]
     }
   ],
   "profiles": [
     {
       "name": "normal_car"
     }
   ]
 }
}
</code></pre>
 </p></details>
 <details>
     <summary>Solution</summary><p>
<pre><code class="language-json">{
 "statistic": {
   "cost": 74.412666,
   "distance": 52738,
   "duration": 8711,
   "times": {
     "driving": 7271,
     "serving": 1440,
     "waiting": 0,
     "break": 0
   }
 },
 "tours": [
   {
     "vehicleId": "vehicle_1",
     "typeId": "vehicle",
     "shiftIndex": 0,
     "stops": [
       {
         "location": {
           "lat": 52.4664257,
           "lng": 13.2812488
         },
         "time": {
           "arrival": "2019-07-04T09:00:00Z",
           "departure": "2019-07-04T09:00:00Z"
         },
         "distance": 0,
         "load": [
           0
         ],
         "activities": [
           {
             "jobId": "departure",
             "type": "departure"
           }
         ]
       },
       {
         "location": {
           "lat": 52.5622847,
           "lng": 13.4023099
         },
         "time": {
           "arrival": "2019-07-04T09:32:24Z",
           "departure": "2019-07-04T09:36:24Z"
         },
         "distance": 17547,
         "load": [
           1
         ],
         "activities": [
           {
             "jobId": "multi_job1",
             "type": "pickup",
             "tag": "p1"
           }
         ]
       },
       {
         "location": {
           "lat": 52.5330881,
           "lng": 13.3973059
         },
         "time": {
           "arrival": "2019-07-04T09:49:48Z",
           "departure": "2019-07-04T09:53:48Z"
         },
         "distance": 22014,
         "load": [
           2
         ],
         "activities": [
           {
             "jobId": "multi_job1",
             "type": "pickup",
             "tag": "p2"
           }
         ]
       },
       {
         "location": {
           "lat": 52.5252832,
           "lng": 13.4188422
         },
         "time": {
           "arrival": "2019-07-04T10:00:48Z",
           "departure": "2019-07-04T10:04:48Z"
         },
         "distance": 23849,
         "load": [
           0
         ],
         "activities": [
           {
             "jobId": "multi_job1",
             "type": "delivery",
             "tag": "d1"
           }
         ]
       },
       {
         "location": {
           "lat": 52.52599,
           "lng": 13.45413
         },
         "time": {
           "arrival": "2019-07-04T10:12:17Z",
           "departure": "2019-07-04T10:16:17Z"
         },
         "distance": 26552,
         "load": [
           2
         ],
         "activities": [
           {
             "jobId": "multi_job2",
             "type": "pickup",
             "tag": "p1"
           }
         ]
       },
       {
         "location": {
           "lat": 52.4928,
           "lng": 13.4597
         },
         "time": {
           "arrival": "2019-07-04T10:38:25Z",
           "departure": "2019-07-04T10:42:25Z"
         },
         "distance": 35242,
         "load": [
           1
         ],
         "activities": [
           {
             "jobId": "multi_job2",
             "type": "delivery",
             "tag": "d1"
           }
         ]
       },
       {
         "location": {
           "lat": 52.4989,
           "lng": 13.3917
         },
         "time": {
           "arrival": "2019-07-04T10:57:57Z",
           "departure": "2019-07-04T11:01:57Z"
         },
         "distance": 40617,
         "load": [
           0
         ],
         "activities": [
           {
             "jobId": "multi_job2",
             "type": "delivery",
             "tag": "d2"
           }
         ]
       },
       {
         "location": {
           "lat": 52.4664257,
           "lng": 13.2812488
         },
         "time": {
           "arrival": "2019-07-04T11:25:11Z",
           "departure": "2019-07-04T11:25:11Z"
         },
         "distance": 52738,
         "load": [
           0
         ],
         "activities": [
           {
             "jobId": "arrival",
             "type": "arrival"
           }
         ]
       }
     ],
     "statistic": {
       "cost": 74.412666,
       "distance": 52738,
       "duration": 8711,
       "times": {
         "driving": 7271,
         "serving": 1440,
         "waiting": 0,
         "break": 0
       }
     }
   }
 ],
 "unassigned": []
}
</code></pre>
 </p></details>
<h2 id="mixing-job-task-types"><a class="header" href="#mixing-job-task-types">Mixing job task types</a></h2>
<p>You can mix job task types in one job:</p>
 <details>
     <summary>Problem</summary><p>
<pre><code class="language-json">{
 "plan": {
   "jobs": [
     {
       "id": "simple_replacement_job",
       "replacements": [
         {
           "places": [
             {
               "location": {
                 "lat": 52.5622847,
                 "lng": 13.4023099
               },
               "duration": 3600.0,
               "times": [
                 [
                   "2019-07-04T09:00:00Z",
                   "2019-07-04T18:00:00Z"
                 ]
               ]
             }
           ],
           "demand": [
             3
           ]
         }
       ]
     },
     {
       "id": "simple_service_job",
       "services": [
         {
           "places": [
             {
               "location": {
                 "lat": 52.5330881,
                 "lng": 13.3973059
               },
               "duration": 3600.0,
               "times": [
                 [
                   "2019-07-04T08:00:00Z",
                   "2019-07-04T12:00:00Z"
                 ],
                 [
                   "2019-07-04T14:00:00Z",
                   "2019-07-04T18:00:00Z"
                 ]
               ]
             }
           ]
         }
       ]
     },
     {
       "id": "mixed_job",
       "pickups": [
         {
           "places": [
             {
               "location": {
                 "lat": 52.5252832,
                 "lng": 13.4188422
               },
               "duration": 240.0,
               "tag": "p1"
             }
           ],
           "demand": [
             1
           ]
         }
       ],
       "deliveries": [
         {
           "places": [
             {
               "location": {
                 "lat": 52.52599,
                 "lng": 13.45413
               },
               "duration": 240.0,
               "tag": "d1"
             }
           ],
           "demand": [
             1
           ]
         }
       ],
       "replacements": [
         {
           "places": [
             {
               "location": {
                 "lat": 52.4928,
                 "lng": 13.4597
               },
               "duration": 2400.0,
               "tag": "r1"
             }
           ],
           "demand": [
             2
           ]
         }
       ],
       "services": [
         {
           "places": [
             {
               "location": {
                 "lat": 52.4989,
                 "lng": 13.3917
               },
               "duration": 1800.0,
               "tag": "s1"
             }
           ]
         }
       ]
     }
   ]
 },
 "fleet": {
   "vehicles": [
     {
       "typeId": "vehicle",
       "vehicleIds": [
         "vehicle_1"
       ],
       "profile": {
         "matrix": "normal_car"
       },
       "costs": {
         "fixed": 22.0,
         "distance": 0.0002,
         "time": 0.004806
       },
       "shifts": [
         {
           "start": {
             "earliest": "2019-07-04T09:00:00Z",
             "location": {
               "lat": 52.4664257,
               "lng": 13.2812488
             }
           },
           "end": {
             "latest": "2019-07-04T18:00:00Z",
             "location": {
               "lat": 52.4664257,
               "lng": 13.2812488
             }
           }
         }
       ],
       "capacity": [
         10
       ]
     }
   ],
   "profiles": [
     {
       "name": "normal_car"
     }
   ]
 }
}
</code></pre>
 </p></details>
 <details>
     <summary>Solution</summary><p>
<pre><code class="language-json">{
 "statistic": {
   "cost": 124.587306,
   "distance": 52738,
   "duration": 19151,
   "times": {
     "driving": 7271,
     "serving": 11880,
     "waiting": 0,
     "break": 0
   }
 },
 "tours": [
   {
     "vehicleId": "vehicle_1",
     "typeId": "vehicle",
     "shiftIndex": 0,
     "stops": [
       {
         "location": {
           "lat": 52.4664257,
           "lng": 13.2812488
         },
         "time": {
           "arrival": "2019-07-04T09:00:00Z",
           "departure": "2019-07-04T09:00:00Z"
         },
         "distance": 0,
         "load": [
           5
         ],
         "activities": [
           {
             "jobId": "departure",
             "type": "departure"
           }
         ]
       },
       {
         "location": {
           "lat": 52.5622847,
           "lng": 13.4023099
         },
         "time": {
           "arrival": "2019-07-04T09:32:24Z",
           "departure": "2019-07-04T10:32:24Z"
         },
         "distance": 17547,
         "load": [
           5
         ],
         "activities": [
           {
             "jobId": "simple_replacement_job",
             "type": "replacement"
           }
         ]
       },
       {
         "location": {
           "lat": 52.5330881,
           "lng": 13.3973059
         },
         "time": {
           "arrival": "2019-07-04T10:45:48Z",
           "departure": "2019-07-04T11:45:48Z"
         },
         "distance": 22014,
         "load": [
           5
         ],
         "activities": [
           {
             "jobId": "simple_service_job",
             "type": "service"
           }
         ]
       },
       {
         "location": {
           "lat": 52.5252832,
           "lng": 13.4188422
         },
         "time": {
           "arrival": "2019-07-04T11:52:48Z",
           "departure": "2019-07-04T11:56:48Z"
         },
         "distance": 23849,
         "load": [
           6
         ],
         "activities": [
           {
             "jobId": "mixed_job",
             "type": "pickup",
             "tag": "p1"
           }
         ]
       },
       {
         "location": {
           "lat": 52.52599,
           "lng": 13.45413
         },
         "time": {
           "arrival": "2019-07-04T12:04:17Z",
           "departure": "2019-07-04T12:08:17Z"
         },
         "distance": 26552,
         "load": [
           5
         ],
         "activities": [
           {
             "jobId": "mixed_job",
             "type": "delivery",
             "tag": "d1"
           }
         ]
       },
       {
         "location": {
           "lat": 52.4928,
           "lng": 13.4597
         },
         "time": {
           "arrival": "2019-07-04T12:30:25Z",
           "departure": "2019-07-04T13:10:25Z"
         },
         "distance": 35242,
         "load": [
           5
         ],
         "activities": [
           {
             "jobId": "mixed_job",
             "type": "replacement",
             "tag": "r1"
           }
         ]
       },
       {
         "location": {
           "lat": 52.4989,
           "lng": 13.3917
         },
         "time": {
           "arrival": "2019-07-04T13:25:57Z",
           "departure": "2019-07-04T13:55:57Z"
         },
         "distance": 40617,
         "load": [
           5
         ],
         "activities": [
           {
             "jobId": "mixed_job",
             "type": "service",
             "tag": "s1"
           }
         ]
       },
       {
         "location": {
           "lat": 52.4664257,
           "lng": 13.2812488
         },
         "time": {
           "arrival": "2019-07-04T14:19:11Z",
           "departure": "2019-07-04T14:19:11Z"
         },
         "distance": 52738,
         "load": [
           0
         ],
         "activities": [
           {
             "jobId": "arrival",
             "type": "arrival"
           }
         ]
       }
     ],
     "statistic": {
       "cost": 124.587306,
       "distance": 52738,
       "duration": 19151,
       "times": {
         "driving": 7271,
         "serving": 11880,
         "waiting": 0,
         "break": 0
       }
     }
   }
 ],
 "unassigned": []
}
</code></pre>
 </p></details>
<div style="break-before: page; page-break-before: always;"></div><h1 id="job-priorities"><a class="header" href="#job-priorities">Job priorities</a></h1>
<p>There are two types of job priorities:</p>
<ul>
<li><strong>assignment priority</strong>: the solver tries to avoid such jobs to be unassigned by maximizing their total value.
Assignment priority is modeled by <em>value</em> property on the job and used within the <em>maximize-value</em> objective.</li>
<li><strong>order priority</strong>: the solver tries to assign such jobs prior others, close to beginning of the route.
Order priority is modeled by <em>order</em> property on the job.</li>
</ul>
<h2 id="basic-job-value-example"><a class="header" href="#basic-job-value-example">Basic job value example</a></h2>
<p>The example below demonstrates how to use assignment priority by defining <em>value</em> on the jobs. The source problem has a
single vehicle with limited capacity, therefore one job has to be unassigned. The solver is forced to skip the cheapest
one as it has no value associated with it.</p>
<p>Please note, that there is no need to redefine objective to include <code>maximize-value</code> one as it will be added automatically
on top of default.</p>
<details>
    <summary>Problem</summary><p>
<pre><code class="language-json">{
  "plan": {
    "jobs": [
      {
        "id": "job1",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.52599,
                  "lng": 13.45413
                },
                "duration": 300
              }
            ],
            "demand": [
              1
            ]
          }
        ],
        "value": 50
      },
      {
        "id": "job2",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5225,
                  "lng": 13.4095
                },
                "duration": 240
              }
            ],
            "demand": [
              1
            ]
          }
        ],
        "value": 100
      },
      {
        "id": "job3",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5320,
                  "lng": 13.3950
                },
                "duration": 60
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      }
    ]
  },
  "fleet": {
    "vehicles": [
      {
        "typeId": "vehicle",
        "vehicleIds": [
          "vehicle_1"
        ],
        "profile": {
          "matrix": "normal_car"
        },
        "costs": {
          "fixed": 22.0,
          "distance": 0.0002,
          "time": 0.005
        },
        "shifts": [
          {
            "start": {
              "earliest": "2019-07-04T09:00:00Z",
              "location": {
                "lat": 52.5316,
                "lng": 13.3884
              }
            }
          }
        ],
        "capacity": [
          2
        ]
      }
    ],
    "profiles": [
      {
        "name": "normal_car"
      }
    ]
  }
}
</code></pre>
</p></details>
<details>
    <summary>Solution</summary><p>
<pre><code class="language-json">{
  "statistic": {
    "cost": 28.060000000000002,
    "distance": 4800,
    "duration": 1020,
    "times": {
      "driving": 480,
      "serving": 540,
      "waiting": 0,
      "break": 0
    }
  },
  "tours": [
    {
      "vehicleId": "vehicle_1",
      "typeId": "vehicle",
      "shiftIndex": 0,
      "stops": [
        {
          "location": {
            "lat": 52.5316,
            "lng": 13.3884
          },
          "time": {
            "arrival": "2019-07-04T09:00:00Z",
            "departure": "2019-07-04T09:00:00Z"
          },
          "distance": 0,
          "load": [
            2
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5225,
            "lng": 13.4095
          },
          "time": {
            "arrival": "2019-07-04T09:02:55Z",
            "departure": "2019-07-04T09:06:55Z"
          },
          "distance": 1752,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "job2",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.52599,
            "lng": 13.45413
          },
          "time": {
            "arrival": "2019-07-04T09:12:00Z",
            "departure": "2019-07-04T09:17:00Z"
          },
          "distance": 4800,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "job1",
              "type": "delivery"
            }
          ]
        }
      ],
      "statistic": {
        "cost": 28.060000000000002,
        "distance": 4800,
        "duration": 1020,
        "times": {
          "driving": 480,
          "serving": 540,
          "waiting": 0,
          "break": 0
        }
      }
    }
  ],
  "unassigned": [
    {
      "jobId": "job3",
      "reasons": [
        {
          "code": "CAPACITY_CONSTRAINT",
          "description": "does not fit into any vehicle due to capacity"
        }
      ]
    }
  ]
}
</code></pre>
</p></details>
</br>
<div id="geojson" hidden>
{
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "0",
        "arrival": "2019-07-04T09:00:00Z",
        "marker-symbol": "warehouse",
        "marker-size": "medium",
        "tour_idx": "0",
        "departure": "2019-07-04T09:00:00Z",
        "marker-color": "#e6194b",
        "jobs_ids": "departure"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3884,
          52.5316
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "0",
        "stop_idx": "1",
        "departure": "2019-07-04T09:06:55Z",
        "marker-size": "medium",
        "jobs_ids": "job2",
        "marker-color": "#e6194b",
        "marker-symbol": "marker",
        "arrival": "2019-07-04T09:02:55Z"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4095,
          52.5225
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#e6194b",
        "departure": "2019-07-04T09:17:00Z",
        "marker-size": "medium",
        "arrival": "2019-07-04T09:12:00Z",
        "marker-symbol": "marker",
        "tour_idx": "0",
        "stop_idx": "2",
        "jobs_ids": "job1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.45413,
          52.52599
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "vehicle_id": "vehicle_1",
        "activities": "3",
        "departure": "2019-07-04T09:00:00Z",
        "distance": "4800",
        "stroke-width": "4",
        "arrival": "2019-07-04T09:12:00Z",
        "shift_idx": "0",
        "tour_idx": "0",
        "stroke": "#e6194b"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.3884,
            52.5316
          ],
          [
            13.4095,
            52.5225
          ],
          [
            13.45413,
            52.52599
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "roadblock",
        "marker-color": "#e6194b",
        "reasons": "CAPACITY_CONSTRAINT:does not fit into any vehicle due to capacity",
        "job_id": "job3",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.395,
          52.532
        ]
      }
    }
  ]
}
</div>
<div id="map"></div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="multi-dayshift"><a class="header" href="#multi-dayshift">Multi day/shift</a></h1>
<p>This example demonstrates how to simulate multi day/shift planning scenario. The problem has jobs with time windows of
different days and one vehicle type with two shifts on different days.</p>
<details>
    <summary>Problem</summary><p>
<pre><code class="language-json">{
  "plan": {
    "jobs": [
      {
        "id": "job1",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.52599,
                  "lng": 13.45413
                },
                "duration": 300.0,
                "times": [
                  [
                    "2019-07-04T09:00:00Z",
                    "2019-07-04T18:00:00Z"
                  ],
                  [
                    "2019-07-05T09:00:00Z",
                    "2019-07-05T18:00:00Z"
                  ]
                ]
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job2",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5225,
                  "lng": 13.4095
                },
                "duration": 240.0,
                "times": [
                  [
                    "2019-07-04T10:00:00Z",
                    "2019-07-04T16:00:00Z"
                  ]
                ]
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job3",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5165,
                  "lng": 13.3808
                },
                "duration": 300.0,
                "times": [
                  [
                    "2019-07-04T10:00:00Z",
                    "2019-07-04T16:00:00Z"
                  ]
                ]
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job4",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5145,
                  "lng": 13.3513
                },
                "duration": 300.0,
                "times": [
                  [
                    "2019-07-05T10:00:00Z",
                    "2019-07-05T16:00:00Z"
                  ]
                ]
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      }
    ]
  },
  "fleet": {
    "vehicles": [
      {
        "typeId": "vehicle",
        "vehicleIds": [
          "vehicle_1"
        ],
        "profile": {
          "matrix": "normal_car"
        },
        "costs": {
          "fixed": 22.0,
          "distance": 0.0002,
          "time": 0.004806
        },
        "shifts": [
          {
            "start": {
              "earliest": "2019-07-04T09:00:00Z",
              "location": {
                "lat": 52.5316,
                "lng": 13.3884
              }
            },
            "end": {
              "latest": "2019-07-04T18:00:00Z",
              "location": {
                "lat": 52.5316,
                "lng": 13.3884
              }
            }
          },
          {
            "start": {
              "earliest": "2019-07-05T09:00:00Z",
              "location": {
                "lat": 52.5316,
                "lng": 13.3884
              }
            },
            "end": {
              "latest": "2019-07-05T18:00:00Z",
              "location": {
                "lat": 52.5316,
                "lng": 13.3884
              }
            }
          }
        ],
        "capacity": [
          2
        ]
      }
    ],
    "profiles": [
      {
        "name": "normal_car"
      }
    ]
  }
}
</code></pre>
</p></details>
<details>
    <summary>Solution</summary><p>
<pre><code class="language-json">{
  "statistic": {
    "cost": 75.30316200000001,
    "distance": 26105,
    "duration": 5427,
    "times": {
      "driving": 4287,
      "serving": 1140,
      "waiting": 0,
      "break": 0
    }
  },
  "tours": [
    {
      "vehicleId": "vehicle_1",
      "typeId": "vehicle",
      "shiftIndex": 1,
      "stops": [
        {
          "location": {
            "lat": 52.5316,
            "lng": 13.3884
          },
          "time": {
            "arrival": "2019-07-05T09:00:00Z",
            "departure": "2019-07-05T09:48:41Z"
          },
          "distance": 0,
          "load": [
            2
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5145,
            "lng": 13.3513
          },
          "time": {
            "arrival": "2019-07-05T10:00:00Z",
            "departure": "2019-07-05T10:05:00Z"
          },
          "distance": 5245,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "job4",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.52599,
            "lng": 13.45413
          },
          "time": {
            "arrival": "2019-07-05T10:26:14Z",
            "departure": "2019-07-05T10:31:14Z"
          },
          "distance": 14053,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "job1",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5316,
            "lng": 13.3884
          },
          "time": {
            "arrival": "2019-07-05T10:47:22Z",
            "departure": "2019-07-05T10:47:22Z"
          },
          "distance": 19336,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "arrival",
              "type": "arrival"
            }
          ]
        }
      ],
      "statistic": {
        "cost": 42.789126,
        "distance": 19336,
        "duration": 3521,
        "times": {
          "driving": 2921,
          "serving": 600,
          "waiting": 0,
          "break": 0
        }
      }
    },
    {
      "vehicleId": "vehicle_1",
      "typeId": "vehicle",
      "shiftIndex": 0,
      "stops": [
        {
          "location": {
            "lat": 52.5316,
            "lng": 13.3884
          },
          "time": {
            "arrival": "2019-07-04T09:00:00Z",
            "departure": "2019-07-04T09:51:52Z"
          },
          "distance": 0,
          "load": [
            2
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5225,
            "lng": 13.4095
          },
          "time": {
            "arrival": "2019-07-04T10:00:00Z",
            "departure": "2019-07-04T10:04:00Z"
          },
          "distance": 2470,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "job2",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5165,
            "lng": 13.3808
          },
          "time": {
            "arrival": "2019-07-04T10:10:58Z",
            "departure": "2019-07-04T10:15:58Z"
          },
          "distance": 4624,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "job3",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5316,
            "lng": 13.3884
          },
          "time": {
            "arrival": "2019-07-04T10:23:38Z",
            "departure": "2019-07-04T10:23:38Z"
          },
          "distance": 6769,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "arrival",
              "type": "arrival"
            }
          ]
        }
      ],
      "statistic": {
        "cost": 32.514036000000004,
        "distance": 6769,
        "duration": 1906,
        "times": {
          "driving": 1366,
          "serving": 540,
          "waiting": 0,
          "break": 0
        }
      }
    }
  ],
  "unassigned": []
}
</code></pre>
</p></details>
<div style="break-before: page; page-break-before: always;"></div><h1 id="vehicle-break"><a class="header" href="#vehicle-break">Vehicle break</a></h1>
<p>In general, there are two break types: optional and required.</p>
<h2 id="optional-break"><a class="header" href="#optional-break">Optional break</a></h2>
<p>This example demonstrates how to use optional vehicle break with time window and omitted location.</p>
<details>
    <summary>Problem</summary><p>
<pre><code class="language-json">{
  "plan": {
    "jobs": [
      {
        "id": "job1",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.52599,
                  "lng": 13.45413
                },
                "duration": 300.0,
                "times": [
                  [
                    "2019-07-04T09:00:00Z",
                    "2019-07-04T12:00:00Z"
                  ]
                ]
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job2",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5225,
                  "lng": 13.4095
                },
                "duration": 240.0,
                "times": [
                  [
                    "2019-07-04T12:00:00Z",
                    "2019-07-04T14:00:00Z"
                  ]
                ]
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job3",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5165,
                  "lng": 13.3808
                },
                "duration": 300.0,
                "times": [
                  [
                    "2019-07-04T16:00:00Z",
                    "2019-07-04T18:00:00Z"
                  ]
                ]
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      }
    ]
  },
  "fleet": {
    "vehicles": [
      {
        "typeId": "vehicle",
        "vehicleIds": [
          "vehicle_1"
        ],
        "profile": {
          "matrix": "normal_car"
        },
        "costs": {
          "fixed": 22.0,
          "distance": 0.0002,
          "time": 0.004806
        },
        "shifts": [
          {
            "start": {
              "earliest": "2019-07-04T09:00:00Z",
              "location": {
                "lat": 52.5316,
                "lng": 13.3884
              }
            },
            "end": {
              "latest": "2019-07-04T18:00:00Z",
              "location": {
                "lat": 52.5316,
                "lng": 13.3884
              }
            },
            "breaks": [
              {
                "time": [
                  "2019-07-04T12:00:00Z",
                  "2019-07-04T14:00:00Z"
                ],
                "places": [
                  {
                    "duration": 3600.0
                  }
                ]
              }
            ]
          }
        ],
        "capacity": [
          10
        ]
      }
    ],
    "profiles": [
      {
        "name": "normal_car"
      }
    ]
  }
}
</code></pre>
</p></details>
<details>
    <summary>Solution</summary><p>
<pre><code class="language-json">{
  "statistic": {
    "cost": 101.964322,
    "distance": 13251,
    "duration": 16087,
    "times": {
      "driving": 2367,
      "serving": 840,
      "waiting": 9280,
      "break": 3600
    }
  },
  "tours": [
    {
      "vehicleId": "vehicle_1",
      "typeId": "vehicle",
      "shiftIndex": 0,
      "stops": [
        {
          "location": {
            "lat": 52.5316,
            "lng": 13.3884
          },
          "time": {
            "arrival": "2019-07-04T09:00:00Z",
            "departure": "2019-07-04T11:44:12Z"
          },
          "distance": 0,
          "load": [
            3
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "location": {
            "lat": 52.52599,
            "lng": 13.45413
          },
          "time": {
            "arrival": "2019-07-04T12:00:00Z",
            "departure": "2019-07-04T13:05:00Z"
          },
          "distance": 5112,
          "load": [
            2
          ],
          "activities": [
            {
              "jobId": "job1",
              "type": "delivery",
              "location": {
                "lat": 52.52599,
                "lng": 13.45413
              },
              "time": {
                "start": "2019-07-04T12:00:00Z",
                "end": "2019-07-04T12:05:00Z"
              }
            },
            {
              "jobId": "break",
              "type": "break",
              "location": {
                "lat": 52.52599,
                "lng": 13.45413
              },
              "time": {
                "start": "2019-07-04T12:05:00Z",
                "end": "2019-07-04T13:05:00Z"
              }
            }
          ]
        },
        {
          "location": {
            "lat": 52.5225,
            "lng": 13.4095
          },
          "time": {
            "arrival": "2019-07-04T13:15:09Z",
            "departure": "2019-07-04T13:19:09Z"
          },
          "distance": 8952,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "job2",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5165,
            "lng": 13.3808
          },
          "time": {
            "arrival": "2019-07-04T13:25:20Z",
            "departure": "2019-07-04T16:05:00Z"
          },
          "distance": 11106,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "job3",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5316,
            "lng": 13.3884
          },
          "time": {
            "arrival": "2019-07-04T16:12:19Z",
            "departure": "2019-07-04T16:12:19Z"
          },
          "distance": 13251,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "arrival",
              "type": "arrival"
            }
          ]
        }
      ],
      "statistic": {
        "cost": 101.964322,
        "distance": 13251,
        "duration": 16087,
        "times": {
          "driving": 2367,
          "serving": 840,
          "waiting": 9280,
          "break": 3600
        }
      }
    }
  ],
  "unassigned": []
}
</code></pre>
</p></details>
<h2 id="required-break-experimental"><a class="header" href="#required-break-experimental">Required break (experimental)</a></h2>
<p>This example demonstrates how to use required vehicle break which has to be scheduled at specific time during travel
between two stops.</p>
<details>
    <summary>Problem</summary><p>
<pre><code class="language-json">{
  "plan": {
    "jobs": [
      {
        "id": "job1",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 51.06251,
                  "lng": 13.72133
                },
                "duration": 300
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      }
    ]
  },
  "fleet": {
    "vehicles": [
      {
        "typeId": "vehicle",
        "vehicleIds": [
          "vehicle_1"
        ],
        "profile": {
          "matrix": "normal_car"
        },
        "costs": {
          "fixed": 22,
          "distance": 0.0002,
          "time": 0.005
        },
        "shifts": [
          {
            "start": {
              "earliest": "2019-07-04T09:00:00Z",
              "latest": "2019-07-04T09:00:00Z",
              "location": {
                "lat": 52.5316,
                "lng": 13.3884
              }
            },
            "breaks": [
              {
                "time": {
                  "earliest": 7200,
                  "latest": 7200
                },
                "duration": 1800
              }
            ]
          }
        ],
        "capacity": [
          10
        ]
      }
    ],
    "profiles": [
      {
        "name": "normal_car"
      }
    ]
  }
}
</code></pre>
</p></details>
<details>
    <summary>Solution</summary><p>
<pre><code class="language-json">{
  "statistic": {
    "cost": 148.0972,
    "distance": 165136,
    "duration": 18614,
    "times": {
      "driving": 16514,
      "serving": 300,
      "waiting": 0,
      "break": 1800,
      "commuting": 0,
      "parking": 0
    }
  },
  "tours": [
    {
      "vehicleId": "vehicle_1",
      "typeId": "vehicle",
      "shiftIndex": 0,
      "stops": [
        {
          "location": {
            "lat": 52.5316,
            "lng": 13.3884
          },
          "time": {
            "arrival": "2019-07-04T09:00:00Z",
            "departure": "2019-07-04T09:00:00Z"
          },
          "distance": 0,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "time": {
            "arrival": "2019-07-04T11:00:00Z",
            "departure": "2019-07-04T11:30:00Z"
          },
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "break",
              "type": "break"
            }
          ]
        },
        {
          "location": {
            "lat": 51.06251,
            "lng": 13.72133
          },
          "time": {
            "arrival": "2019-07-04T14:05:14Z",
            "departure": "2019-07-04T14:10:14Z"
          },
          "distance": 165136,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "job1",
              "type": "delivery"
            }
          ]
        }
      ],
      "statistic": {
        "cost": 148.0972,
        "distance": 165136,
        "duration": 18614,
        "times": {
          "driving": 16514,
          "serving": 300,
          "waiting": 0,
          "break": 1800,
          "commuting": 0,
          "parking": 0
        }
      }
    }
  ]
}
</code></pre>
</p></details>
<p>Please note, that departure rescheduling is disabled by setting <code>shift.start.earliest</code> equal to <code>shift.start.latest</code>.
At the moment, this is a hard requirement when such break type is used.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="multiple-trips"><a class="header" href="#multiple-trips">Multiple trips</a></h1>
<p>These examples demonstrate how to use vehicle reload feature which is designed to overcome vehicle capacity limitation
in order to perform multiple trips (tours).</p>
<p>Essentially, reload is a place where vehicle can unload <code>static</code> pickups and load new <code>static</code> deliveries. Here, static
correspond to <code>static demand</code> concept which is defined via standalone pickup or delivery jobs, not by single pickup and
delivery job.</p>
<h2 id="same-location-reload"><a class="header" href="#same-location-reload">Same location reload</a></h2>
<p>In this scenario, once some jobs are delivered, the vehicle returns to the original depot to load next goods.</p>
<details>
    <summary>Problem</summary><p>
<pre><code class="language-json">{
  "plan": {
    "jobs": [
      {
        "id": "job1",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.52599,
                  "lng": 13.45413
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job2",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5225,
                  "lng": 13.4095
                },
                "duration": 240.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job3",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5165,
                  "lng": 13.3808
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job4",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5145,
                  "lng": 13.3513
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      }
    ]
  },
  "fleet": {
    "vehicles": [
      {
        "typeId": "vehicle",
        "vehicleIds": [
          "vehicle_1"
        ],
        "profile": {
          "matrix": "normal_car"
        },
        "costs": {
          "fixed": 22.0,
          "distance": 0.0002,
          "time": 0.004806
        },
        "shifts": [
          {
            "start": {
              "earliest": "2019-07-04T09:00:00Z",
              "location": {
                "lat": 52.5316,
                "lng": 13.3884
              }
            },
            "end": {
              "latest": "2019-07-04T18:00:00Z",
              "location": {
                "lat": 52.5316,
                "lng": 13.3884
              }
            },
            "reloads": [
              {
                "location": {
                  "lat": 52.5316,
                  "lng": 13.3884
                },
                "duration": 600.0
              }
            ]
          }
        ],
        "capacity": [
          2
        ]
      }
    ],
    "profiles": [
      {
        "name": "normal_car"
      }
    ]
  }
}
</code></pre>
</p></details>
<details>
    <summary>Solution</summary><p>
<pre><code class="language-json">{
  "statistic": {
    "cost": 52.651224000000006,
    "distance": 20995,
    "duration": 5504,
    "times": {
      "driving": 3764,
      "serving": 1740,
      "waiting": 0,
      "break": 0
    }
  },
  "tours": [
    {
      "vehicleId": "vehicle_1",
      "typeId": "vehicle",
      "shiftIndex": 0,
      "stops": [
        {
          "location": {
            "lat": 52.5316,
            "lng": 13.3884
          },
          "time": {
            "arrival": "2019-07-04T09:00:00Z",
            "departure": "2019-07-04T09:00:00Z"
          },
          "distance": 0,
          "load": [
            2
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "location": {
            "lat": 52.52599,
            "lng": 13.45413
          },
          "time": {
            "arrival": "2019-07-04T09:14:49Z",
            "departure": "2019-07-04T09:19:49Z"
          },
          "distance": 5090,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "job1",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5225,
            "lng": 13.4095
          },
          "time": {
            "arrival": "2019-07-04T09:31:22Z",
            "departure": "2019-07-04T09:35:22Z"
          },
          "distance": 8930,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "job2",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5316,
            "lng": 13.3884
          },
          "time": {
            "arrival": "2019-07-04T09:45:02Z",
            "departure": "2019-07-04T09:55:02Z"
          },
          "distance": 12156,
          "load": [
            2
          ],
          "activities": [
            {
              "jobId": "reload",
              "type": "reload"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5165,
            "lng": 13.3808
          },
          "time": {
            "arrival": "2019-07-04T10:02:31Z",
            "departure": "2019-07-04T10:07:31Z"
          },
          "distance": 14308,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "job3",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5145,
            "lng": 13.3513
          },
          "time": {
            "arrival": "2019-07-04T10:15:03Z",
            "departure": "2019-07-04T10:20:03Z"
          },
          "distance": 17092,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "job4",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5316,
            "lng": 13.3884
          },
          "time": {
            "arrival": "2019-07-04T10:31:44Z",
            "departure": "2019-07-04T10:31:44Z"
          },
          "distance": 20995,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "arrival",
              "type": "arrival"
            }
          ]
        }
      ],
      "statistic": {
        "cost": 52.651224000000006,
        "distance": 20995,
        "duration": 5504,
        "times": {
          "driving": 3764,
          "serving": 1740,
          "waiting": 0,
          "break": 0
        }
      }
    }
  ],
  "unassigned": []
}
</code></pre>
</p></details>
<h2 id="multiple-reloads-with-different-locations"><a class="header" href="#multiple-reloads-with-different-locations">Multiple reloads with different locations</a></h2>
<p>In this scenario, vehicle picks goods and flushes them on two different locations during single tour. This can be used
to model <em>waste collection</em> use case.</p>
<details>
    <summary>Problem</summary><p>
<pre><code class="language-json">{
  "plan": {
    "jobs": [
      {
        "id": "job1",
        "pickups": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.52599,
                  "lng": 13.45413
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job2",
        "pickups": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5225,
                  "lng": 13.4095
                },
                "duration": 240.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job3",
        "pickups": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5165,
                  "lng": 13.3808
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job4",
        "pickups": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5145,
                  "lng": 13.3513
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job5",
        "pickups": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4922,
                  "lng": 13.4593
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job6",
        "pickups": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4989,
                  "lng": 13.3917
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      }
    ]
  },
  "fleet": {
    "vehicles": [
      {
        "typeId": "vehicle",
        "vehicleIds": [
          "vehicle_1"
        ],
        "profile": {
          "matrix": "normal_car"
        },
        "costs": {
          "fixed": 22.0,
          "distance": 0.0002,
          "time": 0.004806
        },
        "shifts": [
          {
            "start": {
              "earliest": "2019-07-04T09:00:00Z",
              "location": {
                "lat": 52.5316,
                "lng": 13.3884
              }
            },
            "end": {
              "latest": "2019-07-04T18:00:00Z",
              "location": {
                "lat": 52.5316,
                "lng": 13.3884
              }
            },
            "reloads": [
              {
                "location": {
                  "lat": 52.5103,
                  "lng": 13.3898
                },
                "duration": 600.0
              },
              {
                "location": {
                  "lat": 52.5043,
                  "lng": 13.4091
                },
                "duration": 600.0
              }
            ]
          }
        ],
        "capacity": [
          2
        ]
      }
    ],
    "profiles": [
      {
        "name": "normal_car"
      }
    ]
  }
}
</code></pre>
</p></details>
<details>
    <summary>Solution</summary><p>
<pre><code class="language-json">{
  "statistic": {
    "cost": 52.38156800000001,
    "distance": 23876,
    "duration": 5328,
    "times": {
      "driving": 2388,
      "serving": 2940,
      "waiting": 0,
      "break": 0
    }
  },
  "tours": [
    {
      "vehicleId": "vehicle_1",
      "typeId": "vehicle",
      "shiftIndex": 0,
      "stops": [
        {
          "location": {
            "lat": 52.5316,
            "lng": 13.3884
          },
          "time": {
            "arrival": "2019-07-04T09:00:00Z",
            "departure": "2019-07-04T09:00:00Z"
          },
          "distance": 0,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5225,
            "lng": 13.4095
          },
          "time": {
            "arrival": "2019-07-04T09:02:55Z",
            "departure": "2019-07-04T09:06:55Z"
          },
          "distance": 1752,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "job2",
              "type": "pickup"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5165,
            "lng": 13.3808
          },
          "time": {
            "arrival": "2019-07-04T09:10:21Z",
            "departure": "2019-07-04T09:15:21Z"
          },
          "distance": 3808,
          "load": [
            2
          ],
          "activities": [
            {
              "jobId": "job3",
              "type": "pickup"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5103,
            "lng": 13.3898
          },
          "time": {
            "arrival": "2019-07-04T09:16:53Z",
            "departure": "2019-07-04T09:26:53Z"
          },
          "distance": 4729,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "reload",
              "type": "reload"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5145,
            "lng": 13.3513
          },
          "time": {
            "arrival": "2019-07-04T09:31:18Z",
            "departure": "2019-07-04T09:36:18Z"
          },
          "distance": 7379,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "job4",
              "type": "pickup"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4989,
            "lng": 13.3917
          },
          "time": {
            "arrival": "2019-07-04T09:41:42Z",
            "departure": "2019-07-04T09:46:42Z"
          },
          "distance": 10621,
          "load": [
            2
          ],
          "activities": [
            {
              "jobId": "job6",
              "type": "pickup"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5043,
            "lng": 13.4091
          },
          "time": {
            "arrival": "2019-07-04T09:48:54Z",
            "departure": "2019-07-04T09:58:54Z"
          },
          "distance": 11944,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "reload",
              "type": "reload"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4922,
            "lng": 13.4593
          },
          "time": {
            "arrival": "2019-07-04T10:05:00Z",
            "departure": "2019-07-04T10:10:00Z"
          },
          "distance": 15603,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "job5",
              "type": "pickup"
            }
          ]
        },
        {
          "location": {
            "lat": 52.52599,
            "lng": 13.45413
          },
          "time": {
            "arrival": "2019-07-04T10:16:18Z",
            "departure": "2019-07-04T10:21:18Z"
          },
          "distance": 19381,
          "load": [
            2
          ],
          "activities": [
            {
              "jobId": "job1",
              "type": "pickup"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5316,
            "lng": 13.3884
          },
          "time": {
            "arrival": "2019-07-04T10:28:48Z",
            "departure": "2019-07-04T10:28:48Z"
          },
          "distance": 23876,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "arrival",
              "type": "arrival"
            }
          ]
        }
      ],
      "statistic": {
        "cost": 52.38156800000001,
        "distance": 23876,
        "duration": 5328,
        "times": {
          "driving": 2388,
          "serving": 2940,
          "waiting": 0,
          "break": 0
        }
      }
    }
  ],
  "unassigned": []
}
</code></pre>
</p></details>
<div id="geojson" hidden>
{
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "warehouse",
        "tour_idx": "0",
        "marker-size": "medium",
        "jobs_ids": "departure",
        "marker-color": "#e6194b",
        "stop_idx": "0"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3884,
          52.5316
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "tour_idx": "0",
        "stop_idx": "1",
        "marker-symbol": "marker",
        "jobs_ids": "job2"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4095,
          52.5225
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "0",
        "stop_idx": "2",
        "jobs_ids": "job3",
        "marker-size": "medium",
        "marker-color": "#e6194b",
        "marker-symbol": "marker"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3808,
          52.5165
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "reload",
        "tour_idx": "0",
        "marker-size": "medium",
        "stop_idx": "3",
        "marker-color": "#e6194b",
        "marker-symbol": "warehouse"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3898,
          52.5103
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "4",
        "jobs_ids": "job4",
        "tour_idx": "0",
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "marker-symbol": "marker"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3513,
          52.5145
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "0",
        "marker-symbol": "marker",
        "marker-size": "medium",
        "stop_idx": "5",
        "jobs_ids": "job6",
        "marker-color": "#e6194b"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3917,
          52.4989
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "reload",
        "marker-size": "medium",
        "marker-color": "#e6194b",
        "tour_idx": "0",
        "marker-symbol": "warehouse",
        "stop_idx": "6"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4091,
          52.5043
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "0",
        "marker-size": "medium",
        "marker-color": "#e6194b",
        "marker-symbol": "marker",
        "stop_idx": "7",
        "jobs_ids": "job5"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4593,
          52.4922
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#e6194b",
        "marker-symbol": "marker",
        "jobs_ids": "job1",
        "marker-size": "medium",
        "tour_idx": "0",
        "stop_idx": "8"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.45413,
          52.52599
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "9",
        "jobs_ids": "arrival",
        "marker-symbol": "warehouse",
        "marker-size": "medium",
        "tour_idx": "0",
        "marker-color": "#e6194b"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3884,
          52.5316
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stroke": "#e6194b",
        "stroke-width": "4",
        "vehicle_id": "vehicle_1",
        "shift_idx": "0",
        "activities:": "10",
        "tour_idx": "0"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.3884,
            52.5316
          ],
          [
            13.4095,
            52.5225
          ],
          [
            13.3808,
            52.5165
          ],
          [
            13.3898,
            52.5103
          ],
          [
            13.3513,
            52.5145
          ],
          [
            13.3917,
            52.4989
          ],
          [
            13.4091,
            52.5043
          ],
          [
            13.4593,
            52.4922
          ],
          [
            13.45413,
            52.52599
          ],
          [
            13.3884,
            52.5316
          ]
        ]
      }
    }
  ]
}
</div>
<div id="map"></div>
<h2 id="shared-reload-resource"><a class="header" href="#shared-reload-resource">Shared reload resource</a></h2>
<p>In this scenario, there are two vehicles with limited capacity <code>[2]</code> with reload which has shared resource constraint <code>[1]</code>.
The problem has 6 delivery jobs in total.</p>
<details>
    <summary>Problem</summary><p>
<pre><code class="language-json">{
  "plan": {
    "jobs": [
      {
        "id": "job1",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.52599,
                  "lng": 13.45413
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job2",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5225,
                  "lng": 13.4095
                },
                "duration": 240.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job3",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5165,
                  "lng": 13.3808
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job4",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5145,
                  "lng": 13.3513
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job5",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4922,
                  "lng": 13.4593
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job6",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4989,
                  "lng": 13.3917
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      }
    ]
  },
  "fleet": {
    "vehicles": [
      {
        "typeId": "vehicle",
        "vehicleIds": [
          "vehicle_1",
          "vehicle_2"
        ],
        "profile": {
          "matrix": "normal_car"
        },
        "costs": {
          "fixed": 22.0,
          "distance": 0.0002,
          "time": 0.004806
        },
        "shifts": [
          {
            "start": {
              "earliest": "2019-07-04T09:00:00Z",
              "location": {
                "lat": 52.5316,
                "lng": 13.3884
              }
            },
            "end": {
              "latest": "2019-07-04T18:00:00Z",
              "location": {
                "lat": 52.5316,
                "lng": 13.3884
              }
            },
            "reloads": [
              {
                "location": {
                  "lat": 52.5103,
                  "lng": 13.3898
                },
                "duration": 600.0,
                "resourceId": "warehouse_a"
              }
            ]
          }
        ],
        "capacity": [
          2
        ]
      }
    ],
    "profiles": [
      {
        "name": "normal_car"
      }
    ],
    "resources": [
      {
        "type": "reload",
        "id": "warehouse_a",
        "capacity": [1]
      }
    ]
  }
}
</code></pre>
</p></details>
<p>As result, the solution has 5 jobs assigned and one is unassigned as there is not enough capacity and reload resource
constraint doesn't allow to reload more than 1 delivery in total for all vehicles.</p>
<details>
    <summary>Solution</summary><p>
<pre><code class="language-json">{
  "statistic": {
    "cost": 67.17683,
    "distance": 19644,
    "duration": 4005,
    "times": {
      "driving": 1965,
      "serving": 2040,
      "waiting": 0,
      "break": 0,
      "commuting": 0,
      "parking": 0
    }
  },
  "tours": [
    {
      "vehicleId": "vehicle_1",
      "typeId": "vehicle",
      "shiftIndex": 0,
      "stops": [
        {
          "location": {
            "lat": 52.5316,
            "lng": 13.3884
          },
          "time": {
            "arrival": "2019-07-04T09:00:00Z",
            "departure": "2019-07-04T09:00:00Z"
          },
          "distance": 0,
          "load": [
            2
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5145,
            "lng": 13.3513
          },
          "time": {
            "arrival": "2019-07-04T09:05:15Z",
            "departure": "2019-07-04T09:10:15Z"
          },
          "distance": 3152,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "job4",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4989,
            "lng": 13.3917
          },
          "time": {
            "arrival": "2019-07-04T09:15:39Z",
            "departure": "2019-07-04T09:20:39Z"
          },
          "distance": 6394,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "job6",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5103,
            "lng": 13.3898
          },
          "time": {
            "arrival": "2019-07-04T09:22:47Z",
            "departure": "2019-07-04T09:32:47Z"
          },
          "distance": 7670,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "reload",
              "type": "reload"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5165,
            "lng": 13.3808
          },
          "time": {
            "arrival": "2019-07-04T09:34:19Z",
            "departure": "2019-07-04T09:39:19Z"
          },
          "distance": 8591,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "job3",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5316,
            "lng": 13.3884
          },
          "time": {
            "arrival": "2019-07-04T09:42:15Z",
            "departure": "2019-07-04T09:42:15Z"
          },
          "distance": 10349,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "arrival",
              "type": "arrival"
            }
          ]
        }
      ],
      "statistic": {
        "cost": 36.25301,
        "distance": 10349,
        "duration": 2535,
        "times": {
          "driving": 1035,
          "serving": 1500,
          "waiting": 0,
          "break": 0,
          "commuting": 0,
          "parking": 0
        }
      }
    },
    {
      "vehicleId": "vehicle_2",
      "typeId": "vehicle",
      "shiftIndex": 0,
      "stops": [
        {
          "location": {
            "lat": 52.5316,
            "lng": 13.3884
          },
          "time": {
            "arrival": "2019-07-04T09:00:00Z",
            "departure": "2019-07-04T09:00:00Z"
          },
          "distance": 0,
          "load": [
            2
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "location": {
            "lat": 52.52599,
            "lng": 13.45413
          },
          "time": {
            "arrival": "2019-07-04T09:07:30Z",
            "departure": "2019-07-04T09:12:30Z"
          },
          "distance": 4495,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "job1",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5225,
            "lng": 13.4095
          },
          "time": {
            "arrival": "2019-07-04T09:17:35Z",
            "departure": "2019-07-04T09:21:35Z"
          },
          "distance": 7543,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "job2",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5316,
            "lng": 13.3884
          },
          "time": {
            "arrival": "2019-07-04T09:24:30Z",
            "departure": "2019-07-04T09:24:30Z"
          },
          "distance": 9295,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "arrival",
              "type": "arrival"
            }
          ]
        }
      ],
      "statistic": {
        "cost": 30.92382,
        "distance": 9295,
        "duration": 1470,
        "times": {
          "driving": 930,
          "serving": 540,
          "waiting": 0,
          "break": 0,
          "commuting": 0,
          "parking": 0
        }
      }
    }
  ],
  "unassigned": [
    {
      "jobId": "job5",
      "reasons": [
        {
          "code": "RELOAD_RESOURCE_CONSTRAINT",
          "description": "cannot be assigned due to reload resource constraint",
          "details": [
            {
              "vehicleId": "vehicle_1",
              "shiftIndex": 0
            }
          ]
        },
        {
          "code": "CAPACITY_CONSTRAINT",
          "description": "does not fit into any vehicle due to capacity",
          "details": [
            {
              "vehicleId": "vehicle_2",
              "shiftIndex": 0
            }
          ]
        }
      ]
    }
  ]
}
</code></pre>
</p></details>
<div style="break-before: page; page-break-before: always;"></div><h1 id="recharge-stations"><a class="header" href="#recharge-stations">Recharge stations</a></h1>
<p>This example demonstrates an <strong>experimental</strong> feature to model a simple scenario of <code>Electric VRP</code>. Here, the vehicles have
a distance limit (10km), so that they are forced to visit charging stations. Each station is defined by specific location,
charging duration and time windows.</p>
<details>
    <summary>Problem</summary><p>
<pre><code class="language-json">{
  "plan": {
    "jobs": [
      {
        "id": "job1",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.55770070807453,
                  "lng": 13.47831557890163
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job2",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.56043917150327,
                  "lng": 13.300632258878089
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job3",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.51645925211421,
                  "lng": 13.310531630245283
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job4",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.48382634966174,
                  "lng": 13.431958828477603
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job5",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.465611353026226,
                  "lng": 13.448598436078305
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job6",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.47033706718906,
                  "lng": 13.319996854028378
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job7",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.55268247887361,
                  "lng": 13.381458245337722
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job8",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.52515727139781,
                  "lng": 13.488275599400666
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job9",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5113790139571,
                  "lng": 13.508014352789077
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job10",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.50443783915422,
                  "lng": 13.490517138667146
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job11",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.53728559309784,
                  "lng": 13.384345955947186
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job12",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.560969920106366,
                  "lng": 13.347428870365968
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job13",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.46326762540066,
                  "lng": 13.426293829138386
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job14",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.533357673695875,
                  "lng": 13.487291894366974
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job15",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5603208042266,
                  "lng": 13.459275950620873
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job16",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.52330707366729,
                  "lng": 13.439791508009296
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job17",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.48354407179593,
                  "lng": 13.317361234494124
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job18",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.53636687412595,
                  "lng": 13.396692271118948
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job19",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.46220732686443,
                  "lng": 13.381890620781645
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job20",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.52862953792047,
                  "lng": 13.434017943525484
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      }
    ]
  },
  "fleet": {
    "vehicles": [
      {
        "typeId": "vehicle",
        "vehicleIds": [
          "vehicle_1",
          "vehicle_2"
        ],
        "profile": {
          "matrix": "car"
        },
        "costs": {
          "fixed": 25.0,
          "distance": 0.0002,
          "time": 0.005
        },
        "shifts": [
          {
            "start": {
              "earliest": "2020-05-01T09:00:00.00Z",
              "location": {
                "lat": 52.5189,
                "lng": 13.4011
              }
            },
            "end": {
              "latest": "2020-05-01T18:00:00.00Z",
              "location": {
                "lat": 52.5189,
                "lng": 13.4011
              }
            },
            "breaks": [
              {
                "time": [
                  "2020-05-01T12:30:00.00Z",
                  "2020-05-01T13:00:00.00Z"
                ],
                "places": [
                  {
                    "duration": 3600.0
                  }
                ]
              }
            ],
            "recharges": {
              "maxDistance": 10000,
              "stations": [
                {
                  "location": {
                    "lat": 52.5459,
                    "lng": 13.5058
                  },
                  "duration": 900
                },
                {
                  "location": {
                    "lat": 52.5502,
                    "lng": 13.3975
                  },
                  "duration": 900
                },
                {
                  "location": {
                    "lat": 52.5204,
                    "lng": 13.3243
                  },
                  "duration": 900
                },
                {
                  "location": {
                    "lat": 52.4936,
                    "lng": 13.4076
                  },
                  "duration": 900
                },
                {
                  "location": {
                    "lat": 52.5064,
                    "lng": 13.5011
                  },
                  "duration": 900
                }
              ]
            }
          }
        ],
        "capacity": [
          10
        ]
      }
    ],
    "profiles": [
      {
        "name": "car"
      }
    ]
  }
}
</code></pre>
</p></details>
<details>
    <summary>Solution</summary><p>
<pre><code class="language-json">{
  "statistic": {
    "cost": 134.25099999999998,
    "distance": 56055,
    "duration": 14608,
    "times": {
      "driving": 5608,
      "serving": 9000,
      "waiting": 0,
      "break": 0,
      "commuting": 0,
      "parking": 0
    }
  },
  "tours": [
    {
      "vehicleId": "vehicle_1",
      "typeId": "vehicle",
      "shiftIndex": 0,
      "stops": [
        {
          "location": {
            "lat": 52.5189,
            "lng": 13.4011
          },
          "time": {
            "arrival": "2020-05-01T09:00:00Z",
            "departure": "2020-05-01T09:00:00Z"
          },
          "distance": 0,
          "load": [
            5
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "location": {
            "lat": 52.51645925211421,
            "lng": 13.310531630245285
          },
          "time": {
            "arrival": "2020-05-01T09:10:14Z",
            "departure": "2020-05-01T09:15:14Z"
          },
          "distance": 6141,
          "load": [
            4
          ],
          "activities": [
            {
              "jobId": "job3",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5204,
            "lng": 13.3243
          },
          "time": {
            "arrival": "2020-05-01T09:16:57Z",
            "departure": "2020-05-01T09:31:57Z"
          },
          "distance": 7172,
          "load": [
            4
          ],
          "activities": [
            {
              "jobId": "recharge",
              "type": "recharge"
            }
          ]
        },
        {
          "location": {
            "lat": 52.560969920106366,
            "lng": 13.347428870365968
          },
          "time": {
            "arrival": "2020-05-01T09:39:55Z",
            "departure": "2020-05-01T09:44:55Z"
          },
          "distance": 11952,
          "load": [
            3
          ],
          "activities": [
            {
              "jobId": "job12",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.55268247887361,
            "lng": 13.381458245337722
          },
          "time": {
            "arrival": "2020-05-01T09:49:03Z",
            "departure": "2020-05-01T09:54:03Z"
          },
          "distance": 14433,
          "load": [
            2
          ],
          "activities": [
            {
              "jobId": "job7",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5502,
            "lng": 13.3975
          },
          "time": {
            "arrival": "2020-05-01T09:55:55Z",
            "departure": "2020-05-01T10:10:55Z"
          },
          "distance": 15553,
          "load": [
            2
          ],
          "activities": [
            {
              "jobId": "recharge",
              "type": "recharge"
            }
          ]
        },
        {
          "location": {
            "lat": 52.53728559309784,
            "lng": 13.384345955947186
          },
          "time": {
            "arrival": "2020-05-01T10:13:44Z",
            "departure": "2020-05-01T10:18:44Z"
          },
          "distance": 17244,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "job11",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.53636687412595,
            "lng": 13.396692271118948
          },
          "time": {
            "arrival": "2020-05-01T10:20:08Z",
            "departure": "2020-05-01T10:25:08Z"
          },
          "distance": 18086,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "job18",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5189,
            "lng": 13.4011
          },
          "time": {
            "arrival": "2020-05-01T10:28:25Z",
            "departure": "2020-05-01T10:28:25Z"
          },
          "distance": 20053,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "arrival",
              "type": "arrival"
            }
          ]
        }
      ],
      "statistic": {
        "cost": 55.5356,
        "distance": 20053,
        "duration": 5305,
        "times": {
          "driving": 2005,
          "serving": 3300,
          "waiting": 0,
          "break": 0,
          "commuting": 0,
          "parking": 0
        }
      }
    },
    {
      "vehicleId": "vehicle_2",
      "typeId": "vehicle",
      "shiftIndex": 0,
      "stops": [
        {
          "location": {
            "lat": 52.5189,
            "lng": 13.4011
          },
          "time": {
            "arrival": "2020-05-01T09:00:00Z",
            "departure": "2020-05-01T09:00:00Z"
          },
          "distance": 0,
          "load": [
            10
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "location": {
            "lat": 52.52862953792047,
            "lng": 13.434017943525484
          },
          "time": {
            "arrival": "2020-05-01T09:04:08Z",
            "departure": "2020-05-01T09:09:08Z"
          },
          "distance": 2479,
          "load": [
            9
          ],
          "activities": [
            {
              "jobId": "job20",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5603208042266,
            "lng": 13.459275950620873
          },
          "time": {
            "arrival": "2020-05-01T09:15:40Z",
            "departure": "2020-05-01T09:20:40Z"
          },
          "distance": 6399,
          "load": [
            8
          ],
          "activities": [
            {
              "jobId": "job15",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.55770070807453,
            "lng": 13.47831557890163
          },
          "time": {
            "arrival": "2020-05-01T09:22:52Z",
            "departure": "2020-05-01T09:27:52Z"
          },
          "distance": 7720,
          "load": [
            7
          ],
          "activities": [
            {
              "jobId": "job1",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5459,
            "lng": 13.5058
          },
          "time": {
            "arrival": "2020-05-01T09:31:40Z",
            "departure": "2020-05-01T09:46:40Z"
          },
          "distance": 9997,
          "load": [
            7
          ],
          "activities": [
            {
              "jobId": "recharge",
              "type": "recharge"
            }
          ]
        },
        {
          "location": {
            "lat": 52.533357673695875,
            "lng": 13.487291894366974
          },
          "time": {
            "arrival": "2020-05-01T09:49:48Z",
            "departure": "2020-05-01T09:54:48Z"
          },
          "distance": 11873,
          "load": [
            6
          ],
          "activities": [
            {
              "jobId": "job14",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.52515727139781,
            "lng": 13.488275599400666
          },
          "time": {
            "arrival": "2020-05-01T09:56:20Z",
            "departure": "2020-05-01T10:01:20Z"
          },
          "distance": 12788,
          "load": [
            5
          ],
          "activities": [
            {
              "jobId": "job8",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5113790139571,
            "lng": 13.508014352789075
          },
          "time": {
            "arrival": "2020-05-01T10:04:43Z",
            "departure": "2020-05-01T10:09:43Z"
          },
          "distance": 14823,
          "load": [
            4
          ],
          "activities": [
            {
              "jobId": "job9",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.50443783915422,
            "lng": 13.490517138667146
          },
          "time": {
            "arrival": "2020-05-01T10:12:05Z",
            "departure": "2020-05-01T10:17:05Z"
          },
          "distance": 16238,
          "load": [
            3
          ],
          "activities": [
            {
              "jobId": "job10",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5064,
            "lng": 13.5011
          },
          "time": {
            "arrival": "2020-05-01T10:18:20Z",
            "departure": "2020-05-01T10:33:20Z"
          },
          "distance": 16988,
          "load": [
            3
          ],
          "activities": [
            {
              "jobId": "recharge",
              "type": "recharge"
            }
          ]
        },
        {
          "location": {
            "lat": 52.465611353026226,
            "lng": 13.448598436078305
          },
          "time": {
            "arrival": "2020-05-01T10:42:57Z",
            "departure": "2020-05-01T10:47:57Z"
          },
          "distance": 22757,
          "load": [
            2
          ],
          "activities": [
            {
              "jobId": "job5",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4936,
            "lng": 13.4076
          },
          "time": {
            "arrival": "2020-05-01T10:54:55Z",
            "departure": "2020-05-01T11:09:55Z"
          },
          "distance": 26932,
          "load": [
            2
          ],
          "activities": [
            {
              "jobId": "recharge",
              "type": "recharge"
            }
          ]
        },
        {
          "location": {
            "lat": 52.48382634966174,
            "lng": 13.431958828477605
          },
          "time": {
            "arrival": "2020-05-01T11:13:13Z",
            "departure": "2020-05-01T11:18:13Z"
          },
          "distance": 28909,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "job4",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.52330707366729,
            "lng": 13.439791508009296
          },
          "time": {
            "arrival": "2020-05-01T11:25:36Z",
            "departure": "2020-05-01T11:30:36Z"
          },
          "distance": 33336,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "job16",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5189,
            "lng": 13.4011
          },
          "time": {
            "arrival": "2020-05-01T11:35:03Z",
            "departure": "2020-05-01T11:35:03Z"
          },
          "distance": 36002,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "arrival",
              "type": "arrival"
            }
          ]
        }
      ],
      "statistic": {
        "cost": 78.71539999999999,
        "distance": 36002,
        "duration": 9303,
        "times": {
          "driving": 3603,
          "serving": 5700,
          "waiting": 0,
          "break": 0,
          "commuting": 0,
          "parking": 0
        }
      }
    }
  ],
  "unassigned": [
    {
      "jobId": "job17",
      "reasons": [
        {
          "code": "RECHARGE_CONSTRAINT_CODE",
          "description": "cannot be assigned due to recharge constraint",
          "details": [
            {
              "vehicleId": "vehicle_1",
              "shiftIndex": 0
            }
          ]
        },
        {
          "code": "CAPACITY_CONSTRAINT",
          "description": "does not fit into any vehicle due to capacity",
          "details": [
            {
              "vehicleId": "vehicle_2",
              "shiftIndex": 0
            }
          ]
        }
      ]
    },
    {
      "jobId": "job19",
      "reasons": [
        {
          "code": "RECHARGE_CONSTRAINT_CODE",
          "description": "cannot be assigned due to recharge constraint",
          "details": [
            {
              "vehicleId": "vehicle_1",
              "shiftIndex": 0
            }
          ]
        },
        {
          "code": "CAPACITY_CONSTRAINT",
          "description": "does not fit into any vehicle due to capacity",
          "details": [
            {
              "vehicleId": "vehicle_2",
              "shiftIndex": 0
            }
          ]
        }
      ]
    },
    {
      "jobId": "job2",
      "reasons": [
        {
          "code": "RECHARGE_CONSTRAINT_CODE",
          "description": "cannot be assigned due to recharge constraint",
          "details": [
            {
              "vehicleId": "vehicle_1",
              "shiftIndex": 0
            }
          ]
        },
        {
          "code": "CAPACITY_CONSTRAINT",
          "description": "does not fit into any vehicle due to capacity",
          "details": [
            {
              "vehicleId": "vehicle_2",
              "shiftIndex": 0
            }
          ]
        }
      ]
    },
    {
      "jobId": "job13",
      "reasons": [
        {
          "code": "RECHARGE_CONSTRAINT_CODE",
          "description": "cannot be assigned due to recharge constraint",
          "details": [
            {
              "vehicleId": "vehicle_1",
              "shiftIndex": 0
            }
          ]
        },
        {
          "code": "CAPACITY_CONSTRAINT",
          "description": "does not fit into any vehicle due to capacity",
          "details": [
            {
              "vehicleId": "vehicle_2",
              "shiftIndex": 0
            }
          ]
        }
      ]
    },
    {
      "jobId": "job6",
      "reasons": [
        {
          "code": "RECHARGE_CONSTRAINT_CODE",
          "description": "cannot be assigned due to recharge constraint",
          "details": [
            {
              "vehicleId": "vehicle_1",
              "shiftIndex": 0
            }
          ]
        },
        {
          "code": "CAPACITY_CONSTRAINT",
          "description": "does not fit into any vehicle due to capacity",
          "details": [
            {
              "vehicleId": "vehicle_2",
              "shiftIndex": 0
            }
          ]
        }
      ]
    }
  ]
}
</code></pre>
</p></details>
<div id="geojson" hidden>
{
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {
        "arrival": "2020-05-01T09:00:00Z",
        "departure": "2020-05-01T09:00:00Z",
        "distance": "0",
        "jobs_ids": "departure",
        "marker-color": "#3cb44b",
        "marker-size": "medium",
        "marker-symbol": "warehouse",
        "stop_idx": "0",
        "tour_idx": "0"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4011,
          52.5189
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "arrival": "2020-05-01T09:10:14Z",
        "departure": "2020-05-01T09:15:14Z",
        "distance": "6141",
        "jobs_ids": "job3",
        "marker-color": "#3cb44b",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "stop_idx": "1",
        "tour_idx": "0"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.310531630245285,
          52.51645925211421
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "arrival": "2020-05-01T09:16:57Z",
        "departure": "2020-05-01T09:31:57Z",
        "distance": "7172",
        "jobs_ids": "recharge",
        "marker-color": "#3cb44b",
        "marker-size": "medium",
        "marker-symbol": "charging-station",
        "stop_idx": "2",
        "tour_idx": "0"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3243,
          52.5204
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "arrival": "2020-05-01T09:39:55Z",
        "departure": "2020-05-01T09:44:55Z",
        "distance": "11952",
        "jobs_ids": "job12",
        "marker-color": "#3cb44b",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "stop_idx": "3",
        "tour_idx": "0"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.347428870365968,
          52.560969920106366
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "arrival": "2020-05-01T09:49:03Z",
        "departure": "2020-05-01T09:54:03Z",
        "distance": "14433",
        "jobs_ids": "job7",
        "marker-color": "#3cb44b",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "stop_idx": "4",
        "tour_idx": "0"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.381458245337722,
          52.55268247887361
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "arrival": "2020-05-01T09:55:55Z",
        "departure": "2020-05-01T10:10:55Z",
        "distance": "15553",
        "jobs_ids": "recharge",
        "marker-color": "#3cb44b",
        "marker-size": "medium",
        "marker-symbol": "charging-station",
        "stop_idx": "5",
        "tour_idx": "0"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3975,
          52.5502
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "arrival": "2020-05-01T10:13:44Z",
        "departure": "2020-05-01T10:18:44Z",
        "distance": "17244",
        "jobs_ids": "job11",
        "marker-color": "#3cb44b",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "stop_idx": "6",
        "tour_idx": "0"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.384345955947186,
          52.53728559309784
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "arrival": "2020-05-01T10:20:08Z",
        "departure": "2020-05-01T10:25:08Z",
        "distance": "18086",
        "jobs_ids": "job18",
        "marker-color": "#3cb44b",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "stop_idx": "7",
        "tour_idx": "0"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.396692271118948,
          52.53636687412595
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "arrival": "2020-05-01T10:28:25Z",
        "departure": "2020-05-01T10:28:25Z",
        "distance": "20053",
        "jobs_ids": "arrival",
        "marker-color": "#3cb44b",
        "marker-size": "medium",
        "marker-symbol": "warehouse",
        "stop_idx": "8",
        "tour_idx": "0"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4011,
          52.5189
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "arrival": "2020-05-01T09:00:00Z",
        "departure": "2020-05-01T09:00:00Z",
        "distance": "0",
        "jobs_ids": "departure",
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "marker-symbol": "warehouse",
        "stop_idx": "0",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4011,
          52.5189
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "arrival": "2020-05-01T09:04:08Z",
        "departure": "2020-05-01T09:09:08Z",
        "distance": "2479",
        "jobs_ids": "job20",
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "stop_idx": "1",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.434017943525484,
          52.52862953792047
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "arrival": "2020-05-01T09:15:40Z",
        "departure": "2020-05-01T09:20:40Z",
        "distance": "6399",
        "jobs_ids": "job15",
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "stop_idx": "2",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.459275950620873,
          52.5603208042266
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "arrival": "2020-05-01T09:22:52Z",
        "departure": "2020-05-01T09:27:52Z",
        "distance": "7720",
        "jobs_ids": "job1",
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "stop_idx": "3",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.47831557890163,
          52.55770070807453
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "arrival": "2020-05-01T09:31:40Z",
        "departure": "2020-05-01T09:46:40Z",
        "distance": "9997",
        "jobs_ids": "recharge",
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "marker-symbol": "charging-station",
        "stop_idx": "4",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5058,
          52.5459
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "arrival": "2020-05-01T09:49:48Z",
        "departure": "2020-05-01T09:54:48Z",
        "distance": "11873",
        "jobs_ids": "job14",
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "stop_idx": "5",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.487291894366974,
          52.533357673695875
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "arrival": "2020-05-01T09:56:20Z",
        "departure": "2020-05-01T10:01:20Z",
        "distance": "12788",
        "jobs_ids": "job8",
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "stop_idx": "6",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.488275599400666,
          52.52515727139781
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "arrival": "2020-05-01T10:04:43Z",
        "departure": "2020-05-01T10:09:43Z",
        "distance": "14823",
        "jobs_ids": "job9",
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "stop_idx": "7",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.508014352789075,
          52.5113790139571
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "arrival": "2020-05-01T10:12:05Z",
        "departure": "2020-05-01T10:17:05Z",
        "distance": "16238",
        "jobs_ids": "job10",
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "stop_idx": "8",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.490517138667146,
          52.50443783915422
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "arrival": "2020-05-01T10:18:20Z",
        "departure": "2020-05-01T10:33:20Z",
        "distance": "16988",
        "jobs_ids": "recharge",
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "marker-symbol": "charging-station",
        "stop_idx": "9",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5011,
          52.5064
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "arrival": "2020-05-01T10:42:57Z",
        "departure": "2020-05-01T10:47:57Z",
        "distance": "22757",
        "jobs_ids": "job5",
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "stop_idx": "10",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.448598436078305,
          52.465611353026226
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "arrival": "2020-05-01T10:54:55Z",
        "departure": "2020-05-01T11:09:55Z",
        "distance": "26932",
        "jobs_ids": "recharge",
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "marker-symbol": "charging-station",
        "stop_idx": "11",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4076,
          52.4936
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "arrival": "2020-05-01T11:13:13Z",
        "departure": "2020-05-01T11:18:13Z",
        "distance": "28909",
        "jobs_ids": "job4",
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "stop_idx": "12",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.431958828477605,
          52.48382634966174
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "arrival": "2020-05-01T11:25:36Z",
        "departure": "2020-05-01T11:30:36Z",
        "distance": "33336",
        "jobs_ids": "job16",
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "stop_idx": "13",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.439791508009296,
          52.52330707366729
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "arrival": "2020-05-01T11:35:03Z",
        "departure": "2020-05-01T11:35:03Z",
        "distance": "36002",
        "jobs_ids": "arrival",
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "marker-symbol": "warehouse",
        "stop_idx": "14",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4011,
          52.5189
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "activities": "9",
        "arrival": "2020-05-01T10:28:25Z",
        "departure": "2020-05-01T09:00:00Z",
        "distance": "20053",
        "shift_idx": "0",
        "stroke": "#e6194b",
        "stroke-width": "4",
        "tour_idx": "0",
        "vehicle_id": "vehicle_1"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.4011,
            52.5189
          ],
          [
            13.310531630245285,
            52.51645925211421
          ],
          [
            13.3243,
            52.5204
          ],
          [
            13.347428870365968,
            52.560969920106366
          ],
          [
            13.381458245337722,
            52.55268247887361
          ],
          [
            13.3975,
            52.5502
          ],
          [
            13.384345955947186,
            52.53728559309784
          ],
          [
            13.396692271118948,
            52.53636687412595
          ],
          [
            13.4011,
            52.5189
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "activities": "15",
        "arrival": "2020-05-01T11:35:03Z",
        "departure": "2020-05-01T09:00:00Z",
        "distance": "36002",
        "shift_idx": "0",
        "stroke": "#3cb44b",
        "stroke-width": "4",
        "tour_idx": "1",
        "vehicle_id": "vehicle_2"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.4011,
            52.5189
          ],
          [
            13.434017943525484,
            52.52862953792047
          ],
          [
            13.459275950620873,
            52.5603208042266
          ],
          [
            13.47831557890163,
            52.55770070807453
          ],
          [
            13.5058,
            52.5459
          ],
          [
            13.487291894366974,
            52.533357673695875
          ],
          [
            13.488275599400666,
            52.52515727139781
          ],
          [
            13.508014352789075,
            52.5113790139571
          ],
          [
            13.490517138667146,
            52.50443783915422
          ],
          [
            13.5011,
            52.5064
          ],
          [
            13.448598436078305,
            52.465611353026226
          ],
          [
            13.4076,
            52.4936
          ],
          [
            13.431958828477605,
            52.48382634966174
          ],
          [
            13.439791508009296,
            52.52330707366729
          ],
          [
            13.4011,
            52.5189
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "job_id": "job17",
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "marker-symbol": "roadblock",
        "reasons": "RECHARGE_CONSTRAINT_CODE:cannot be assigned due to recharge constraint,CAPACITY_CONSTRAINT:does not fit into any vehicle due to capacity"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.317361234494124,
          52.48354407179593
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "job_id": "job19",
        "marker-color": "#3cb44b",
        "marker-size": "medium",
        "marker-symbol": "roadblock",
        "reasons": "CAPACITY_CONSTRAINT:does not fit into any vehicle due to capacity,RECHARGE_CONSTRAINT_CODE:cannot be assigned due to recharge constraint"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.381890620781643,
          52.46220732686443
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "job_id": "job2",
        "marker-color": "#4363d8",
        "marker-size": "medium",
        "marker-symbol": "roadblock",
        "reasons": "CAPACITY_CONSTRAINT:does not fit into any vehicle due to capacity,RECHARGE_CONSTRAINT_CODE:cannot be assigned due to recharge constraint"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.300632258878087,
          52.56043917150327
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "job_id": "job13",
        "marker-color": "#f58231",
        "marker-size": "medium",
        "marker-symbol": "roadblock",
        "reasons": "CAPACITY_CONSTRAINT:does not fit into any vehicle due to capacity,RECHARGE_CONSTRAINT_CODE:cannot be assigned due to recharge constraint"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.426293829138386,
          52.46326762540066
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "job_id": "job6",
        "marker-color": "#911eb4",
        "marker-size": "medium",
        "marker-symbol": "roadblock",
        "reasons": "CAPACITY_CONSTRAINT:does not fit into any vehicle due to capacity,RECHARGE_CONSTRAINT_CODE:cannot be assigned due to recharge constraint"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.319996854028378,
          52.47033706718906
        ]
      }
    }
  ]
}
</div>
<div id="map"></div>
<p><strong>NOTE</strong>: the feature is on early stage</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="relations-1"><a class="header" href="#relations-1">Relations</a></h1>
<p>These examples demonstrates how to use relation feature.</p>
<h2 id="relation-of-any-type"><a class="header" href="#relation-of-any-type">Relation of Any type</a></h2>
<p>In this example, <code>any</code> relation locks two jobs to specific vehicle in any order.</p>
<details>
    <summary>Problem</summary><p>
<pre><code class="language-json">{
  "plan": {
    "jobs": [
      {
        "id": "job1",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.52599,
                  "lng": 13.45413
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job2",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5225,
                  "lng": 13.4095
                },
                "duration": 240.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job3",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5165,
                  "lng": 13.3808
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job4",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5145,
                  "lng": 13.3513
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      }
    ],
    "relations": [
      {
        "type": "any",
        "jobs": [
          "job1",
          "job3"
        ],
        "vehicleId": "vehicle_1"
      }
    ]
  },
  "fleet": {
    "vehicles": [
      {
        "typeId": "vehicle",
        "vehicleIds": [
          "vehicle_1",
          "vehicle_2"
        ],
        "profile": {
          "matrix": "normal_car"
        },
        "costs": {
          "fixed": 22.0,
          "distance": 0.0002,
          "time": 0.004806
        },
        "shifts": [
          {
            "start": {
              "earliest": "2019-07-04T09:00:00Z",
              "location": {
                "lat": 52.4664257,
                "lng": 13.2812488
              }
            },
            "end": {
              "latest": "2019-07-04T18:00:00Z",
              "location": {
                "lat": 52.4664257,
                "lng": 13.2812488
              }
            }
          }
        ],
        "capacity": [
          2
        ]
      }
    ],
    "profiles": [
      {
        "name": "normal_car"
      }
    ]
  }
}
</code></pre>
</p></details>
<details>
    <summary>Solution</summary><p>
<pre><code class="language-json">{
  "statistic": {
    "cost": 107.17656600000001,
    "distance": 64505,
    "duration": 10461,
    "times": {
      "driving": 9321,
      "serving": 1140,
      "waiting": 0,
      "break": 0
    }
  },
  "tours": [
    {
      "vehicleId": "vehicle_2",
      "typeId": "vehicle",
      "shiftIndex": 0,
      "stops": [
        {
          "location": {
            "lat": 52.4664257,
            "lng": 13.2812488
          },
          "time": {
            "arrival": "2019-07-04T09:00:00Z",
            "departure": "2019-07-04T09:00:00Z"
          },
          "distance": 0,
          "load": [
            2
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5145,
            "lng": 13.3513
          },
          "time": {
            "arrival": "2019-07-04T09:21:41Z",
            "departure": "2019-07-04T09:26:41Z"
          },
          "distance": 8996,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "job4",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5225,
            "lng": 13.4095
          },
          "time": {
            "arrival": "2019-07-04T09:41:26Z",
            "departure": "2019-07-04T09:45:26Z"
          },
          "distance": 14028,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "job2",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4664257,
            "lng": 13.2812488
          },
          "time": {
            "arrival": "2019-07-04T10:18:32Z",
            "departure": "2019-07-04T10:18:32Z"
          },
          "distance": 27524,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "arrival",
              "type": "arrival"
            }
          ]
        }
      ],
      "statistic": {
        "cost": 50.150672,
        "distance": 27524,
        "duration": 4712,
        "times": {
          "driving": 4172,
          "serving": 540,
          "waiting": 0,
          "break": 0
        }
      }
    },
    {
      "vehicleId": "vehicle_1",
      "typeId": "vehicle",
      "shiftIndex": 0,
      "stops": [
        {
          "location": {
            "lat": 52.4664257,
            "lng": 13.2812488
          },
          "time": {
            "arrival": "2019-07-04T09:00:00Z",
            "departure": "2019-07-04T09:00:00Z"
          },
          "distance": 0,
          "load": [
            2
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "location": {
            "lat": 52.52599,
            "lng": 13.45413
          },
          "time": {
            "arrival": "2019-07-04T09:41:15Z",
            "departure": "2019-07-04T09:46:15Z"
          },
          "distance": 19648,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "job1",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5165,
            "lng": 13.3808
          },
          "time": {
            "arrival": "2019-07-04T10:02:31Z",
            "departure": "2019-07-04T10:07:31Z"
          },
          "distance": 25642,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "job3",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4664257,
            "lng": 13.2812488
          },
          "time": {
            "arrival": "2019-07-04T10:35:49Z",
            "departure": "2019-07-04T10:35:49Z"
          },
          "distance": 36981,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "arrival",
              "type": "arrival"
            }
          ]
        }
      ],
      "statistic": {
        "cost": 57.02589400000001,
        "distance": 36981,
        "duration": 5749,
        "times": {
          "driving": 5149,
          "serving": 600,
          "waiting": 0,
          "break": 0
        }
      }
    }
  ],
  "unassigned": []
}
</code></pre>
</p></details>
<h2 id="relation-of-strict-type"><a class="header" href="#relation-of-strict-type">Relation of Strict type</a></h2>
<p>In this example, <code>strict</code> relation locks two jobs to specific vehicle starting from departure.</p>
<details>
    <summary>Problem</summary><p>
<pre><code class="language-json">{
  "plan": {
    "jobs": [
      {
        "id": "job1",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.52599,
                  "lng": 13.45413
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job2",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5225,
                  "lng": 13.4095
                },
                "duration": 240.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job3",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5165,
                  "lng": 13.3808
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job4",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5145,
                  "lng": 13.3513
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      }
    ],
    "relations": [
      {
        "type": "strict",
        "jobs": [
          "departure",
          "job4",
          "job1"
        ],
        "vehicleId": "vehicle_1"
      }
    ]
  },
  "fleet": {
    "vehicles": [
      {
        "typeId": "vehicle",
        "vehicleIds": [
          "vehicle_1"
        ],
        "profile": {
          "matrix": "normal_car"
        },
        "costs": {
          "fixed": 22.0,
          "distance": 0.0002,
          "time": 0.004806
        },
        "shifts": [
          {
            "start": {
              "earliest": "2019-07-04T09:00:00Z",
              "location": {
                "lat": 52.4664257,
                "lng": 13.2812488
              }
            },
            "end": {
              "latest": "2019-07-04T18:00:00Z",
              "location": {
                "lat": 52.4664257,
                "lng": 13.2812488
              }
            }
          }
        ],
        "capacity": [
          10
        ]
      }
    ],
    "profiles": [
      {
        "name": "normal_car"
      }
    ]
  }
}
</code></pre>
</p></details>
<details>
    <summary>Solution</summary><p>
<pre><code class="language-json">{
  "statistic": {
    "cost": 60.354318000000006,
    "distance": 34303,
    "duration": 6553,
    "times": {
      "driving": 5413,
      "serving": 1140,
      "waiting": 0,
      "break": 0
    }
  },
  "tours": [
    {
      "vehicleId": "vehicle_1",
      "typeId": "vehicle",
      "shiftIndex": 0,
      "stops": [
        {
          "location": {
            "lat": 52.4664257,
            "lng": 13.2812488
          },
          "time": {
            "arrival": "2019-07-04T09:00:00Z",
            "departure": "2019-07-04T09:00:00Z"
          },
          "distance": 0,
          "load": [
            4
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5145,
            "lng": 13.3513
          },
          "time": {
            "arrival": "2019-07-04T09:22:23Z",
            "departure": "2019-07-04T09:27:23Z"
          },
          "distance": 8621,
          "load": [
            3
          ],
          "activities": [
            {
              "jobId": "job4",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.52599,
            "lng": 13.45413
          },
          "time": {
            "arrival": "2019-07-04T09:48:51Z",
            "departure": "2019-07-04T09:53:51Z"
          },
          "distance": 16956,
          "load": [
            2
          ],
          "activities": [
            {
              "jobId": "job1",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5225,
            "lng": 13.4095
          },
          "time": {
            "arrival": "2019-07-04T10:04:40Z",
            "departure": "2019-07-04T10:08:40Z"
          },
          "distance": 20810,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "job2",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5165,
            "lng": 13.3808
          },
          "time": {
            "arrival": "2019-07-04T10:14:29Z",
            "departure": "2019-07-04T10:19:29Z"
          },
          "distance": 22964,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "job3",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4664257,
            "lng": 13.2812488
          },
          "time": {
            "arrival": "2019-07-04T10:49:13Z",
            "departure": "2019-07-04T10:49:13Z"
          },
          "distance": 34303,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "arrival",
              "type": "arrival"
            }
          ]
        }
      ],
      "statistic": {
        "cost": 60.354318000000006,
        "distance": 34303,
        "duration": 6553,
        "times": {
          "driving": 5413,
          "serving": 1140,
          "waiting": 0,
          "break": 0
        }
      }
    }
  ],
  "unassigned": []
}
</code></pre>
</p></details>
<div style="break-before: page; page-break-before: always;"></div><h1 id="skills"><a class="header" href="#skills">Skills</a></h1>
<p>This example demonstrates how to use the skills feature with jobs and vehicles. In general, the skills feature is useful
for locking specific jobs to specific vehicles.</p>
<details>
    <summary>Complete problem json</summary><p>
<pre><code class="language-json">{
  "plan": {
    "jobs": [
      {
        "id": "job1",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.52599,
                  "lng": 13.45413
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ],
        "skills": {
          "allOf": [
            "fridge"
          ],
          "noneOf": [
            "washing_machine"
          ]
        }
      },
      {
        "id": "job2",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5225,
                  "lng": 13.4095
                },
                "duration": 240.0
              }
            ],
            "demand": [
              1
            ]
          }
        ],
        "skills": {
          "allOf": [
            "handyman"
          ]
        }
      }
    ]
  },
  "fleet": {
    "vehicles": [
      {
        "typeId": "vehicle_with_fridge",
        "vehicleIds": [
          "vehicle_with_fridge_1"
        ],
        "profile": {
          "matrix": "normal_car"
        },
        "costs": {
          "fixed": 22.0,
          "distance": 0.0002,
          "time": 0.004806
        },
        "shifts": [
          {
            "start": {
              "earliest": "2019-07-04T09:00:00Z",
              "location": {
                "lat": 52.5316,
                "lng": 13.3884
              }
            },
            "end": {
              "latest": "2019-07-04T18:00:00Z",
              "location": {
                "lat": 52.5316,
                "lng": 13.3884
              }
            }
          }
        ],
        "capacity": [
          2
        ],
        "skills": [
          "fridge"
        ]
      },
      {
        "typeId": "vehicle_with_handyman",
        "vehicleIds": [
          "vehicle_with_handyman_1"
        ],
        "profile": {
          "matrix": "normal_car"
        },
        "costs": {
          "fixed": 22.0,
          "distance": 0.0002,
          "time": 0.004806
        },
        "shifts": [
          {
            "start": {
              "earliest": "2019-07-04T09:00:00Z",
              "location": {
                "lat": 52.5316,
                "lng": 13.3884
              }
            },
            "end": {
              "latest": "2019-07-04T18:00:00Z",
              "location": {
                "lat": 52.5316,
                "lng": 13.3884
              }
            }
          }
        ],
        "capacity": [
          2
        ],
        "skills": [
          "handyman"
        ]
      }
    ],
    "profiles": [
      {
        "name": "normal_car"
      }
    ]
  }
}
</code></pre>
</p></details>
<details>
    <summary>Complete solution json</summary><p>
<pre><code class="language-json">{
  "statistic": {
    "cost": 64.31331800000001,
    "distance": 16188,
    "duration": 3553,
    "times": {
      "driving": 3013,
      "serving": 540,
      "waiting": 0,
      "break": 0
    }
  },
  "tours": [
    {
      "vehicleId": "vehicle_with_handyman_1",
      "typeId": "vehicle_with_handyman",
      "shiftIndex": 0,
      "stops": [
        {
          "location": {
            "lat": 52.5316,
            "lng": 13.3884
          },
          "time": {
            "arrival": "2019-07-04T09:00:00Z",
            "departure": "2019-07-04T09:00:00Z"
          },
          "distance": 0,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5225,
            "lng": 13.4095
          },
          "time": {
            "arrival": "2019-07-04T09:08:28Z",
            "departure": "2019-07-04T09:12:28Z"
          },
          "distance": 2470,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "job2",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5316,
            "lng": 13.3884
          },
          "time": {
            "arrival": "2019-07-04T09:22:06Z",
            "departure": "2019-07-04T09:22:06Z"
          },
          "distance": 5138,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "arrival",
              "type": "arrival"
            }
          ]
        }
      ],
      "statistic": {
        "cost": 29.400356000000002,
        "distance": 5138,
        "duration": 1326,
        "times": {
          "driving": 1086,
          "serving": 240,
          "waiting": 0,
          "break": 0
        }
      }
    },
    {
      "vehicleId": "vehicle_with_fridge_1",
      "typeId": "vehicle_with_fridge",
      "shiftIndex": 0,
      "stops": [
        {
          "location": {
            "lat": 52.5316,
            "lng": 13.3884
          },
          "time": {
            "arrival": "2019-07-04T09:00:00Z",
            "departure": "2019-07-04T09:00:00Z"
          },
          "distance": 0,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "location": {
            "lat": 52.52599,
            "lng": 13.45413
          },
          "time": {
            "arrival": "2019-07-04T09:15:12Z",
            "departure": "2019-07-04T09:20:12Z"
          },
          "distance": 5112,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "job1",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5316,
            "lng": 13.3884
          },
          "time": {
            "arrival": "2019-07-04T09:37:07Z",
            "departure": "2019-07-04T09:37:07Z"
          },
          "distance": 11050,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "arrival",
              "type": "arrival"
            }
          ]
        }
      ],
      "statistic": {
        "cost": 34.912962,
        "distance": 11050,
        "duration": 2227,
        "times": {
          "driving": 1927,
          "serving": 300,
          "waiting": 0,
          "break": 0
        }
      }
    }
  ],
  "unassigned": []
}
</code></pre>
</p></details>
<div style="break-before: page; page-break-before: always;"></div><h1 id="multiple-routing-profiles"><a class="header" href="#multiple-routing-profiles">Multiple routing profiles</a></h1>
<p>This example demonstrates how to use multiple routing profiles: <code>car</code> and <code>truck</code>.</p>
<details>
    <summary>List of problem locations</summary><p>
<pre><code class="language-json">[
  {
    "lat": 52.52599,
    "lng": 13.45413
  },
  {
    "lat": 52.5225,
    "lng": 13.4095
  },
  {
    "lat": 52.5316,
    "lng": 13.3884
  }
]
</code></pre>
</p></details>
<details>
    <summary>Routing matrix for car</summary><p>
<pre><code class="language-json">{
  "profile": "normal_car",
  "travelTimes": [
    0,
    681,
    905,
    750,
    0,
    546,
    891,
    502,
    0
  ],
  "distances": [
    0,
    3840,
    5283,
    4696,
    0,
    2668,
    5112,
    2470,
    0
  ]
}
</code></pre>
</p></details>
<details>
    <summary>Routing matrix for truck</summary><p>
<pre><code class="language-json">{
  "profile": "normal_truck",
  "travelTimes": [
    0,
    906,
    1218,
    970,
    0,
    750,
    1152,
    644,
    0
  ],
  "distances": [
    0,
    3840,
    5283,
    4482,
    0,
    2768,
    5112,
    2357,
    0
  ]
}
</code></pre>
</p></details>
<details>
    <summary>Problem</summary><p>
<pre><code class="language-json">{
  "plan": {
    "jobs": [
      {
        "id": "job1",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.52599,
                  "lng": 13.45413
                },
                "duration": 240.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job2",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5225,
                  "lng": 13.4095
                },
                "duration": 600.0
              }
            ],
            "demand": [
              10
            ]
          }
        ]
      }
    ]
  },
  "fleet": {
    "vehicles": [
      {
        "typeId": "my_car",
        "vehicleIds": [
          "my_car_1"
        ],
        "profile": {
          "matrix": "normal_car"
        },
        "costs": {
          "fixed": 22.0,
          "distance": 0.0002,
          "time": 0.004806
        },
        "shifts": [
          {
            "start": {
              "earliest": "2019-07-04T09:00:00Z",
              "location": {
                "lat": 52.5316,
                "lng": 13.3884
              }
            },
            "end": {
              "latest": "2019-07-04T18:00:00Z",
              "location": {
                "lat": 52.5316,
                "lng": 13.3884
              }
            }
          }
        ],
        "capacity": [
          1
        ]
      },
      {
        "typeId": "my_truck",
        "vehicleIds": [
          "my_truck_1"
        ],
        "profile": {
          "matrix": "normal_truck"
        },
        "costs": {
          "fixed": 44.0,
          "distance": 0.0003,
          "time": 0.005
        },
        "shifts": [
          {
            "start": {
              "earliest": "2019-07-04T09:00:00Z",
              "location": {
                "lat": 52.5316,
                "lng": 13.3884
              }
            },
            "end": {
              "latest": "2019-07-04T18:00:00Z",
              "location": {
                "lat": 52.5316,
                "lng": 13.3884
              }
            }
          }
        ],
        "capacity": [
          10
        ]
      }
    ],
    "profiles": [
      {
        "name": "normal_car"
      },
      {
        "name": "normal_truck"
      }
    ]
  }
}
</code></pre>
</p></details>
<details>
    <summary>Solution</summary><p>
<pre><code class="language-json">{
  "statistic": {
    "cost": 89.371516,
    "distance": 15520,
    "duration": 4030,
    "times": {
      "driving": 3190,
      "serving": 840,
      "waiting": 0,
      "break": 0
    }
  },
  "tours": [
    {
      "vehicleId": "my_car_1",
      "typeId": "my_car",
      "shiftIndex": 0,
      "stops": [
        {
          "location": {
            "lat": 52.5316,
            "lng": 13.3884
          },
          "time": {
            "arrival": "2019-07-04T09:00:00Z",
            "departure": "2019-07-04T09:00:00Z"
          },
          "distance": 0,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "location": {
            "lat": 52.52599,
            "lng": 13.45413
          },
          "time": {
            "arrival": "2019-07-04T09:14:51Z",
            "departure": "2019-07-04T09:18:51Z"
          },
          "distance": 5112,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "job1",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5316,
            "lng": 13.3884
          },
          "time": {
            "arrival": "2019-07-04T09:33:56Z",
            "departure": "2019-07-04T09:33:56Z"
          },
          "distance": 10395,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "arrival",
              "type": "arrival"
            }
          ]
        }
      ],
      "statistic": {
        "cost": 33.864016,
        "distance": 10395,
        "duration": 2036,
        "times": {
          "driving": 1796,
          "serving": 240,
          "waiting": 0,
          "break": 0
        }
      }
    },
    {
      "vehicleId": "my_truck_1",
      "typeId": "my_truck",
      "shiftIndex": 0,
      "stops": [
        {
          "location": {
            "lat": 52.5316,
            "lng": 13.3884
          },
          "time": {
            "arrival": "2019-07-04T09:00:00Z",
            "departure": "2019-07-04T09:00:00Z"
          },
          "distance": 0,
          "load": [
            10
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5225,
            "lng": 13.4095
          },
          "time": {
            "arrival": "2019-07-04T09:10:44Z",
            "departure": "2019-07-04T09:20:44Z"
          },
          "distance": 2357,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "job2",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5316,
            "lng": 13.3884
          },
          "time": {
            "arrival": "2019-07-04T09:33:14Z",
            "departure": "2019-07-04T09:33:14Z"
          },
          "distance": 5125,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "arrival",
              "type": "arrival"
            }
          ]
        }
      ],
      "statistic": {
        "cost": 55.5075,
        "distance": 5125,
        "duration": 1994,
        "times": {
          "driving": 1394,
          "serving": 600,
          "waiting": 0,
          "break": 0
        }
      }
    }
  ],
  "unassigned": []
}
</code></pre>
</p></details>
<details>
    <summary>Usage with cli</summary><p>
<pre><code>vrp-cli solve pragmatic profiles.basic.problem.json -m profiles.basic.matrix.car.json -m profiles.basic.matrix.truck -o profiles.basic.solution.json
</code></pre>
</p></details>
<div style="break-before: page; page-break-before: always;"></div><h1 id="unassigned-jobs-1"><a class="header" href="#unassigned-jobs-1">Unassigned jobs</a></h1>
<p>This example demonstrates one job which is unassigned due to time window constraints.</p>
<details>
    <summary>Problem</summary><p>
<pre><code class="language-json">{
  "plan": {
    "jobs": [
      {
        "id": "job1",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.52599,
                  "lng": 13.45413
                },
                "duration": 300.0,
                "times": [
                  [
                    "2019-07-04T09:00:00Z",
                    "2019-07-04T18:00:00Z"
                  ],
                  [
                    "2019-07-05T09:00:00Z",
                    "2019-07-05T18:00:00Z"
                  ]
                ]
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job2",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 50.4576,
                  "lng": 11.1778
                },
                "duration": 240.0,
                "times": [
                  [
                    "2019-07-04T10:00:00Z",
                    "2019-07-04T16:00:00Z"
                  ]
                ]
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job3",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5165,
                  "lng": 13.3808
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      }
    ]
  },
  "fleet": {
    "vehicles": [
      {
        "typeId": "vehicle",
        "vehicleIds": [
          "vehicle_1"
        ],
        "profile": {
          "matrix": "normal_car"
        },
        "costs": {
          "fixed": 22.0,
          "distance": 0.0002,
          "time": 0.004806
        },
        "shifts": [
          {
            "start": {
              "earliest": "2019-07-04T09:00:00Z",
              "location": {
                "lat": 52.5316,
                "lng": 13.3884
              }
            },
            "latest": {
              "time": "2019-07-04T18:00:00Z",
              "location": {
                "lat": 52.5316,
                "lng": 13.3884
              }
            }
          }
        ],
        "capacity": [
          10
        ]
      }
    ],
    "profiles": [
      {
        "name": "normal_car"
      }
    ]
  }
}
</code></pre>
</p></details>
<details>
    <summary>Solution</summary><p>
<pre><code class="language-json">{
  "statistic": {
    "cost": 29.538104,
    "distance": 6836,
    "duration": 1284,
    "times": {
      "driving": 684,
      "serving": 600,
      "waiting": 0,
      "break": 0,
      "commuting": 0,
      "parking": 0
    }
  },
  "tours": [
    {
      "vehicleId": "vehicle_1",
      "typeId": "vehicle",
      "shiftIndex": 0,
      "stops": [
        {
          "location": {
            "lat": 52.5316,
            "lng": 13.3884
          },
          "time": {
            "arrival": "2019-07-04T09:00:00Z",
            "departure": "2019-07-04T09:00:00Z"
          },
          "distance": 0,
          "load": [
            2
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5165,
            "lng": 13.3808
          },
          "time": {
            "arrival": "2019-07-04T09:02:56Z",
            "departure": "2019-07-04T09:07:56Z"
          },
          "distance": 1758,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "job3",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.52599,
            "lng": 13.45413
          },
          "time": {
            "arrival": "2019-07-04T09:16:24Z",
            "departure": "2019-07-04T09:21:24Z"
          },
          "distance": 6836,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "job1",
              "type": "delivery"
            }
          ]
        }
      ],
      "statistic": {
        "cost": 29.538104,
        "distance": 6836,
        "duration": 1284,
        "times": {
          "driving": 684,
          "serving": 600,
          "waiting": 0,
          "break": 0,
          "commuting": 0,
          "parking": 0
        }
      }
    }
  ],
  "unassigned": [
    {
      "jobId": "job2",
      "reasons": [
        {
          "code": "TIME_WINDOW_CONSTRAINT",
          "description": "cannot be visited within time window",
          "details": [
            {
              "vehicle_id": "vehicle_1",
              "shift_index": 0
            }
          ]
        }
      ]
    }
  ]
}
</code></pre>
</p></details>
<div style="break-before: page; page-break-before: always;"></div><h1 id="clustering-examples"><a class="header" href="#clustering-examples">Clustering examples</a></h1>
<p>The general idea of the clustering feature is to make more realistic ETAs for the same stop jobs, even if their locations
are not exactly the same. This section provides a few examples.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="vicinity-clustering-with-job-continuation"><a class="header" href="#vicinity-clustering-with-job-continuation">Vicinity clustering with job continuation</a></h1>
<p>This examples demonstrates a <code>continue</code> type of visit: jobs are visited one by one with returning to the stop point in
the end.</p>
<details>
    <summary>Problem</summary><p>
<pre><code class="language-json">{
  "plan": {
    "jobs": [
      {
        "id": "job1",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5253538,
                  "lng": 13.4525549
                },
                "duration": 300
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job2",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5254256,
                  "lng": 13.4527159
                },
                "duration": 300
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job3",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5255366,
                  "lng": 13.4530162
                },
                "duration": 300
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job4",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5253342,
                  "lng": 13.4533489
                },
                "duration": 300
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job5",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5239243,
                  "lng": 13.4545827
                },
                "duration": 300
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job6",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5223315,
                  "lng": 13.4555697
                },
                "duration": 300
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job7",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5240157,
                  "lng": 13.4572220
                },
                "duration": 300
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job8",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5243028,
                  "lng": 13.45952868
                },
                "duration": 300
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job9",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5241593,
                  "lng": 13.4589815
                },
                "duration": 300
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job10",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5239896,
                  "lng": 13.4600115
                },
                "duration": 300
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job11",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5250209,
                  "lng": 13.4567821
                },
                "duration": 300
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job12",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5223184,
                  "lng": 13.4551942
                },
                "duration": 300
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      }
    ],
    "clustering": {
      "type": "vicinity",
      "profile": {
        "matrix": "car",
        "scale": 10
      },
      "threshold": {
        "duration": 120,
        "distance": 100
      },
      "visiting": "continue",
      "serving": {
        "type": "fixed",
        "value": 180,
        "parking": 120
      }
    }
  },
  "fleet": {
    "vehicles": [
      {
        "typeId": "vehicle",
        "vehicleIds": [
          "vehicle_1"
        ],
        "profile": {
          "matrix": "car"
        },
        "costs": {
          "fixed": 25,
          "distance": 0.0001,
          "time": 0.005
        },
        "shifts": [
          {
            "start": {
              "earliest": "2020-05-01T09:00:00.00Z",
              "location": {
                "lat": 52.5262872,
                "lng": 13.4532952
              }
            }
          }
        ],
        "capacity": [
          20
        ]
      }
    ],
    "profiles": [
      {
        "name": "car",
        "type": "car"
      }
    ]
  }
}
</code></pre>
</p></details>
<details>
    <summary>Solution</summary><p>
<pre><code class="language-json">{
  "statistic": {
    "cost": 41.648399999999995,
    "distance": 984,
    "duration": 3310,
    "times": {
      "driving": 100,
      "serving": 2520,
      "waiting": 0,
      "break": 0,
      "commuting": 330,
      "parking": 360
    }
  },
  "tours": [
    {
      "vehicleId": "vehicle_1",
      "typeId": "vehicle",
      "shiftIndex": 0,
      "stops": [
        {
          "location": {
            "lat": 52.5262872,
            "lng": 13.4532952
          },
          "time": {
            "arrival": "2020-05-01T09:00:00Z",
            "departure": "2020-05-01T09:00:00Z"
          },
          "distance": 0,
          "load": [
            12
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5253342,
            "lng": 13.4533489
          },
          "time": {
            "arrival": "2020-05-01T09:00:11Z",
            "departure": "2020-05-01T09:16:01Z"
          },
          "distance": 106,
          "load": [
            8
          ],
          "parking": {
            "start": "2020-05-01T09:00:11Z",
            "end": "2020-05-01T09:02:11Z"
          },
          "activities": [
            {
              "jobId": "job4",
              "type": "delivery",
              "location": {
                "lat": 52.5253342,
                "lng": 13.4533489
              },
              "time": {
                "start": "2020-05-01T09:02:11Z",
                "end": "2020-05-01T09:05:11Z"
              },
              "commute": {}
            },
            {
              "jobId": "job3",
              "type": "delivery",
              "location": {
                "lat": 52.5255366,
                "lng": 13.4530162
              },
              "time": {
                "start": "2020-05-01T09:05:41Z",
                "end": "2020-05-01T09:08:41Z"
              },
              "commute": {
                "forward": {
                  "location": {
                    "lat": 52.5253342,
                    "lng": 13.4533489
                  },
                  "distance": 32.0,
                  "time": {
                    "start": "2020-05-01T09:05:11Z",
                    "end": "2020-05-01T09:05:41Z"
                  }
                }
              }
            },
            {
              "jobId": "job2",
              "type": "delivery",
              "location": {
                "lat": 52.5254256,
                "lng": 13.4527159
              },
              "time": {
                "start": "2020-05-01T09:09:01Z",
                "end": "2020-05-01T09:12:01Z"
              },
              "commute": {
                "forward": {
                  "location": {
                    "lat": 52.5255366,
                    "lng": 13.4530162
                  },
                  "distance": 24.0,
                  "time": {
                    "start": "2020-05-01T09:08:41Z",
                    "end": "2020-05-01T09:09:01Z"
                  }
                }
              }
            },
            {
              "jobId": "job1",
              "type": "delivery",
              "location": {
                "lat": 52.5253538,
                "lng": 13.4525549
              },
              "time": {
                "start": "2020-05-01T09:12:11Z",
                "end": "2020-05-01T09:15:11Z"
              },
              "commute": {
                "forward": {
                  "location": {
                    "lat": 52.5254256,
                    "lng": 13.4527159
                  },
                  "distance": 14.0,
                  "time": {
                    "start": "2020-05-01T09:12:01Z",
                    "end": "2020-05-01T09:12:11Z"
                  }
                },
                "backward": {
                  "location": {
                    "lat": 52.5253342,
                    "lng": 13.4533489
                  },
                  "distance": 54.0,
                  "time": {
                    "start": "2020-05-01T09:15:11Z",
                    "end": "2020-05-01T09:16:01Z"
                  }
                }
              }
            }
          ]
        },
        {
          "location": {
            "lat": 52.5239243,
            "lng": 13.4545827
          },
          "time": {
            "arrival": "2020-05-01T09:16:19Z",
            "departure": "2020-05-01T09:21:19Z"
          },
          "distance": 284,
          "load": [
            7
          ],
          "activities": [
            {
              "jobId": "job5",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5223315,
            "lng": 13.4555697
          },
          "time": {
            "arrival": "2020-05-01T09:21:38Z",
            "departure": "2020-05-01T09:30:38Z"
          },
          "distance": 473,
          "load": [
            5
          ],
          "parking": {
            "start": "2020-05-01T09:21:38Z",
            "end": "2020-05-01T09:23:38Z"
          },
          "activities": [
            {
              "jobId": "job6",
              "type": "delivery",
              "location": {
                "lat": 52.5223315,
                "lng": 13.4555697
              },
              "time": {
                "start": "2020-05-01T09:23:38Z",
                "end": "2020-05-01T09:26:38Z"
              },
              "commute": {}
            },
            {
              "jobId": "job12",
              "type": "delivery",
              "location": {
                "lat": 52.5223184,
                "lng": 13.4551942
              },
              "time": {
                "start": "2020-05-01T09:27:08Z",
                "end": "2020-05-01T09:30:08Z"
              },
              "commute": {
                "forward": {
                  "location": {
                    "lat": 52.5223315,
                    "lng": 13.4555697
                  },
                  "distance": 25.0,
                  "time": {
                    "start": "2020-05-01T09:26:38Z",
                    "end": "2020-05-01T09:27:08Z"
                  }
                },
                "backward": {
                  "location": {
                    "lat": 52.5223315,
                    "lng": 13.4555697
                  },
                  "distance": 25.0,
                  "time": {
                    "start": "2020-05-01T09:30:08Z",
                    "end": "2020-05-01T09:30:38Z"
                  }
                }
              }
            }
          ]
        },
        {
          "location": {
            "lat": 52.5240157,
            "lng": 13.457222
          },
          "time": {
            "arrival": "2020-05-01T09:31:00Z",
            "departure": "2020-05-01T09:36:00Z"
          },
          "distance": 691,
          "load": [
            4
          ],
          "activities": [
            {
              "jobId": "job7",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5250209,
            "lng": 13.4567821
          },
          "time": {
            "arrival": "2020-05-01T09:36:12Z",
            "departure": "2020-05-01T09:41:12Z"
          },
          "distance": 807,
          "load": [
            3
          ],
          "activities": [
            {
              "jobId": "job11",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5241593,
            "lng": 13.4589815
          },
          "time": {
            "arrival": "2020-05-01T09:41:30Z",
            "departure": "2020-05-01T09:55:10Z"
          },
          "distance": 984,
          "load": [
            0
          ],
          "parking": {
            "start": "2020-05-01T09:41:30Z",
            "end": "2020-05-01T09:43:30Z"
          },
          "activities": [
            {
              "jobId": "job9",
              "type": "delivery",
              "location": {
                "lat": 52.5241593,
                "lng": 13.4589815
              },
              "time": {
                "start": "2020-05-01T09:43:30Z",
                "end": "2020-05-01T09:46:30Z"
              },
              "commute": {}
            },
            {
              "jobId": "job8",
              "type": "delivery",
              "location": {
                "lat": 52.5243028,
                "lng": 13.45952868
              },
              "time": {
                "start": "2020-05-01T09:47:10Z",
                "end": "2020-05-01T09:50:10Z"
              },
              "commute": {
                "forward": {
                  "location": {
                    "lat": 52.5241593,
                    "lng": 13.4589815
                  },
                  "distance": 40.0,
                  "time": {
                    "start": "2020-05-01T09:46:30Z",
                    "end": "2020-05-01T09:47:10Z"
                  }
                }
              }
            },
            {
              "jobId": "job10",
              "type": "delivery",
              "location": {
                "lat": 52.5239896,
                "lng": 13.4600115
              },
              "time": {
                "start": "2020-05-01T09:51:00Z",
                "end": "2020-05-01T09:54:00Z"
              },
              "commute": {
                "forward": {
                  "location": {
                    "lat": 52.5243028,
                    "lng": 13.45952868
                  },
                  "distance": 48.0,
                  "time": {
                    "start": "2020-05-01T09:50:10Z",
                    "end": "2020-05-01T09:51:00Z"
                  }
                },
                "backward": {
                  "location": {
                    "lat": 52.5241593,
                    "lng": 13.4589815
                  },
                  "distance": 72.0,
                  "time": {
                    "start": "2020-05-01T09:54:00Z",
                    "end": "2020-05-01T09:55:10Z"
                  }
                }
              }
            }
          ]
        }
      ],
      "statistic": {
        "cost": 41.648399999999995,
        "distance": 984,
        "duration": 3310,
        "times": {
          "driving": 100,
          "serving": 2520,
          "waiting": 0,
          "break": 0,
          "commuting": 330,
          "parking": 360
        }
      }
    }
  ]
}
</code></pre>
</p></details>
</br>
<div id="geojson" hidden>
{
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {
        "departure": "2020-05-01T09:00:00Z",
        "tour_idx": "0",
        "jobs_ids": "departure",
        "stop_idx": "0",
        "marker-color": "#3cb44b",
        "marker-size": "medium",
        "arrival": "2020-05-01T09:00:00Z",
        "marker-symbol": "warehouse"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4532952,
          52.5262872
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "1",
        "marker-color": "#3cb44b",
        "jobs_ids": "job4,job3,job2,job1",
        "marker-symbol": "marker",
        "marker-size": "medium",
        "departure": "2020-05-01T09:16:01Z",
        "tour_idx": "0",
        "arrival": "2020-05-01T09:00:11Z"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4533489,
          52.5253342
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job5",
        "marker-size": "medium",
        "departure": "2020-05-01T09:21:19Z",
        "marker-symbol": "marker",
        "marker-color": "#3cb44b",
        "tour_idx": "0",
        "arrival": "2020-05-01T09:16:19Z",
        "stop_idx": "2"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4545827,
          52.5239243
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "departure": "2020-05-01T09:30:38Z",
        "stop_idx": "3",
        "tour_idx": "0",
        "jobs_ids": "job6,job12",
        "marker-size": "medium",
        "marker-color": "#3cb44b",
        "arrival": "2020-05-01T09:21:38Z"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4555697,
          52.5223315
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job7",
        "tour_idx": "0",
        "marker-symbol": "marker",
        "arrival": "2020-05-01T09:31:00Z",
        "stop_idx": "4",
        "marker-color": "#3cb44b",
        "marker-size": "medium",
        "departure": "2020-05-01T09:36:00Z"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.457222,
          52.5240157
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "0",
        "stop_idx": "5",
        "arrival": "2020-05-01T09:36:12Z",
        "marker-color": "#3cb44b",
        "marker-symbol": "marker",
        "marker-size": "medium",
        "jobs_ids": "job11",
        "departure": "2020-05-01T09:41:12Z"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4567821,
          52.5250209
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "0",
        "marker-size": "medium",
        "departure": "2020-05-01T09:55:10Z",
        "stop_idx": "6",
        "marker-symbol": "marker",
        "marker-color": "#3cb44b",
        "jobs_ids": "job9,job8,job10",
        "arrival": "2020-05-01T09:41:30Z"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4589815,
          52.5241593
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "vehicle_id": "vehicle_1",
        "distance": "984",
        "stroke-width": "4",
        "activities": "13",
        "arrival": "2020-05-01T09:41:30Z",
        "tour_idx": "0",
        "shift_idx": "0",
        "departure": "2020-05-01T09:00:00Z",
        "stroke": "#e6194b"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.4532952,
            52.5262872
          ],
          [
            13.4533489,
            52.5253342
          ],
          [
            13.4545827,
            52.5239243
          ],
          [
            13.4555697,
            52.5223315
          ],
          [
            13.457222,
            52.5240157
          ],
          [
            13.4567821,
            52.5250209
          ],
          [
            13.4589815,
            52.5241593
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "activity_idx": "0",
        "start": "2020-05-01T09:02:11Z",
        "marker-size": "medium",
        "end": "2020-05-01T09:05:11Z",
        "jobs_id": "job4",
        "tour_idx": "0",
        "marker-symbol": "marker",
        "marker-color": "#e6194b",
        "stop_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4533489,
          52.5253342
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_id": "job3",
        "tour_idx": "0",
        "marker-size": "medium",
        "start": "2020-05-01T09:05:41Z",
        "marker-symbol": "marker",
        "activity_idx": "1",
        "stop_idx": "1",
        "end": "2020-05-01T09:08:41Z",
        "marker-color": "#e6194b"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4530162,
          52.5255366
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stroke-width": "3",
        "stroke": "#3cb44b"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.4533489,
            52.5253342
          ],
          [
            13.4530162,
            52.5255366
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "end": "2020-05-01T09:12:01Z",
        "start": "2020-05-01T09:09:01Z",
        "marker-symbol": "marker",
        "jobs_id": "job2",
        "tour_idx": "0",
        "stop_idx": "1",
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "activity_idx": "2"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4527159,
          52.5254256
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stroke-width": "3",
        "stroke": "#3cb44b"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.4530162,
            52.5255366
          ],
          [
            13.4527159,
            52.5254256
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#e6194b",
        "marker-symbol": "marker",
        "tour_idx": "0",
        "activity_idx": "3",
        "marker-size": "medium",
        "stop_idx": "1",
        "start": "2020-05-01T09:12:11Z",
        "end": "2020-05-01T09:15:11Z",
        "jobs_id": "job1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4525549,
          52.5253538
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stroke": "#3cb44b",
        "stroke-width": "3"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.4527159,
            52.5254256
          ],
          [
            13.4525549,
            52.5253538
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stroke": "#3cb44b",
        "stroke-width": "3"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.4525549,
            52.5253538
          ],
          [
            13.4533489,
            52.5253342
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "activity_idx": "0",
        "end": "2020-05-01T09:26:38Z",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "marker-color": "#e6194b",
        "stop_idx": "3",
        "jobs_id": "job6",
        "start": "2020-05-01T09:23:38Z",
        "tour_idx": "0"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4555697,
          52.5223315
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "activity_idx": "1",
        "marker-color": "#e6194b",
        "jobs_id": "job12",
        "tour_idx": "0",
        "start": "2020-05-01T09:27:08Z",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "end": "2020-05-01T09:30:08Z",
        "stop_idx": "3"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4551942,
          52.5223184
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stroke-width": "3",
        "stroke": "#3cb44b"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.4555697,
            52.5223315
          ],
          [
            13.4551942,
            52.5223184
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stroke": "#3cb44b",
        "stroke-width": "3"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.4551942,
            52.5223184
          ],
          [
            13.4555697,
            52.5223315
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "start": "2020-05-01T09:43:30Z",
        "tour_idx": "0",
        "end": "2020-05-01T09:46:30Z",
        "marker-color": "#e6194b",
        "marker-symbol": "marker",
        "marker-size": "medium",
        "stop_idx": "6",
        "jobs_id": "job9",
        "activity_idx": "0"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4589815,
          52.5241593
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "end": "2020-05-01T09:50:10Z",
        "marker-symbol": "marker",
        "jobs_id": "job8",
        "stop_idx": "6",
        "start": "2020-05-01T09:47:10Z",
        "tour_idx": "0",
        "activity_idx": "1",
        "marker-color": "#e6194b"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.45952868,
          52.5243028
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stroke-width": "3",
        "stroke": "#3cb44b"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.4589815,
            52.5241593
          ],
          [
            13.45952868,
            52.5243028
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "end": "2020-05-01T09:54:00Z",
        "stop_idx": "6",
        "marker-color": "#e6194b",
        "activity_idx": "2",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "jobs_id": "job10",
        "start": "2020-05-01T09:51:00Z",
        "tour_idx": "0"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4600115,
          52.5239896
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stroke-width": "3",
        "stroke": "#3cb44b"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.45952868,
            52.5243028
          ],
          [
            13.4600115,
            52.5239896
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stroke": "#3cb44b",
        "stroke-width": "3"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.4600115,
            52.5239896
          ],
          [
            13.4589815,
            52.5241593
          ]
        ]
      }
    }
  ]
}
</div>
<div id="map"></div>
<p>As parking time is specified in clustering settings, each stop with clustered job has an extra <code>parking</code> property:</p>
<pre><code class="language-json">          "parking": {
            "start": "2020-05-01T09:00:11Z",
            "end": "2020-05-01T09:02:11Z"
          },
</code></pre>
<p>Here, two minutes are planned for parking car at the stop location.</p>
<p>Activities in such stops have <code>commute</code> property which contains information about time, location, distance of commute trip.
The property is split into <code>forward</code> and <code>backward</code> parts:</p>
<pre><code class="language-json">            {
              "jobId": "job1",
              "type": "delivery",
              "location": {
                "lat": 52.5253538,
                "lng": 13.4525549
              },
              "time": {
                "start": "2020-05-01T09:12:11Z",
                "end": "2020-05-01T09:15:11Z"
              },
              "commute": {
                "forward": {
                  "location": {
                    "lat": 52.5254256,
                    "lng": 13.4527159
                  },
                  "distance": 14.0,
                  "time": {
                    "start": "2020-05-01T09:12:01Z",
                    "end": "2020-05-01T09:12:11Z"
                  }
                },
                "backward": {
                  "location": {
                    "lat": 52.5253342,
                    "lng": 13.4533489
                  },
                  "distance": 54.0,
                  "time": {
                    "start": "2020-05-01T09:15:11Z",
                    "end": "2020-05-01T09:16:01Z"
                  }
                }
              }
</code></pre>
<p>Here <code>forward</code> specifies information how to reach activity and <code>backward</code> - how to get back to the stop after the job is
served. Original <code>time</code> on activity specifies actual service time.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="vicinity-clustering-with-return"><a class="header" href="#vicinity-clustering-with-return">Vicinity clustering with return</a></h1>
<p>This examples demonstrates a <code>return</code> type of visit: after each job visit, the driver has to return to the stop point.
Check previous example for other details.</p>
<details>
    <summary>Problem</summary><p>
<pre><code class="language-json">{
  "plan": {
    "jobs": [
      {
        "id": "job1",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5253538,
                  "lng": 13.4525549
                },
                "duration": 300
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job2",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5254256,
                  "lng": 13.4527159
                },
                "duration": 300
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job3",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5255366,
                  "lng": 13.4530162
                },
                "duration": 300
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job4",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5253342,
                  "lng": 13.4533489
                },
                "duration": 300
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job5",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5239243,
                  "lng": 13.4545827
                },
                "duration": 300
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job6",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5223315,
                  "lng": 13.4555697
                },
                "duration": 300
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job7",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5240157,
                  "lng": 13.4572220
                },
                "duration": 300
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job8",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5243028,
                  "lng": 13.45952868
                },
                "duration": 300
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job9",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5241593,
                  "lng": 13.4589815
                },
                "duration": 300
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job10",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5239896,
                  "lng": 13.4600115
                },
                "duration": 300
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job11",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5250209,
                  "lng": 13.4567821
                },
                "duration": 300
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job12",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5223184,
                  "lng": 13.4551942
                },
                "duration": 300
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      }
    ],
    "clustering": {
      "type": "vicinity",
      "profile": {
        "matrix": "car",
        "scale": 10
      },
      "threshold": {
        "duration": 120,
        "distance": 100
      },
      "visiting": "return",
      "serving": {
        "type": "fixed",
        "value": 180,
        "parking": 120
      }
    }
  },
  "fleet": {
    "vehicles": [
      {
        "typeId": "vehicle",
        "vehicleIds": [
          "vehicle_1"
        ],
        "profile": {
          "matrix": "car"
        },
        "costs": {
          "fixed": 25,
          "distance": 0.0001,
          "time": 0.005
        },
        "shifts": [
          {
            "start": {
              "earliest": "2020-05-01T09:00:00.00Z",
              "location": {
                "lat": 52.5262872,
                "lng": 13.4532952
              }
            }
          }
        ],
        "capacity": [
          20
        ]
      }
    ],
    "profiles": [
      {
        "name": "car",
        "type": "car"
      }
    ]
  }
}
</code></pre>
</p></details>
<details>
    <summary>Solution</summary><p>
<pre><code class="language-json">{
  "statistic": {
    "cost": 42.5984,
    "distance": 984,
    "duration": 3500,
    "times": {
      "driving": 100,
      "serving": 2520,
      "waiting": 0,
      "break": 0,
      "commuting": 520,
      "parking": 360
    }
  },
  "tours": [
    {
      "vehicleId": "vehicle_1",
      "typeId": "vehicle",
      "shiftIndex": 0,
      "stops": [
        {
          "location": {
            "lat": 52.5262872,
            "lng": 13.4532952
          },
          "time": {
            "arrival": "2020-05-01T09:00:00Z",
            "departure": "2020-05-01T09:00:00Z"
          },
          "distance": 0,
          "load": [
            12
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5253342,
            "lng": 13.4533489
          },
          "time": {
            "arrival": "2020-05-01T09:00:11Z",
            "departure": "2020-05-01T09:18:11Z"
          },
          "distance": 106,
          "load": [
            8
          ],
          "parking": {
            "start": "2020-05-01T09:00:11Z",
            "end": "2020-05-01T09:02:11Z"
          },
          "activities": [
            {
              "jobId": "job4",
              "type": "delivery",
              "location": {
                "lat": 52.5253342,
                "lng": 13.4533489
              },
              "time": {
                "start": "2020-05-01T09:02:11Z",
                "end": "2020-05-01T09:05:11Z"
              },
              "commute": {}
            },
            {
              "jobId": "job3",
              "type": "delivery",
              "location": {
                "lat": 52.5255366,
                "lng": 13.4530162
              },
              "time": {
                "start": "2020-05-01T09:05:41Z",
                "end": "2020-05-01T09:08:41Z"
              },
              "commute": {
                "forward": {
                  "location": {
                    "lat": 52.5253342,
                    "lng": 13.4533489
                  },
                  "distance": 32.0,
                  "time": {
                    "start": "2020-05-01T09:05:11Z",
                    "end": "2020-05-01T09:05:41Z"
                  }
                },
                "backward": {
                  "location": {
                    "lat": 52.5253342,
                    "lng": 13.4533489
                  },
                  "distance": 32.0,
                  "time": {
                    "start": "2020-05-01T09:08:41Z",
                    "end": "2020-05-01T09:09:11Z"
                  }
                }
              }
            },
            {
              "jobId": "job2",
              "type": "delivery",
              "location": {
                "lat": 52.5254256,
                "lng": 13.4527159
              },
              "time": {
                "start": "2020-05-01T09:09:51Z",
                "end": "2020-05-01T09:12:51Z"
              },
              "commute": {
                "forward": {
                  "location": {
                    "lat": 52.5253342,
                    "lng": 13.4533489
                  },
                  "distance": 44.0,
                  "time": {
                    "start": "2020-05-01T09:09:11Z",
                    "end": "2020-05-01T09:09:51Z"
                  }
                },
                "backward": {
                  "location": {
                    "lat": 52.5253342,
                    "lng": 13.4533489
                  },
                  "distance": 44.0,
                  "time": {
                    "start": "2020-05-01T09:12:51Z",
                    "end": "2020-05-01T09:13:31Z"
                  }
                }
              }
            },
            {
              "jobId": "job1",
              "type": "delivery",
              "location": {
                "lat": 52.5253538,
                "lng": 13.4525549
              },
              "time": {
                "start": "2020-05-01T09:14:21Z",
                "end": "2020-05-01T09:17:21Z"
              },
              "commute": {
                "forward": {
                  "location": {
                    "lat": 52.5253342,
                    "lng": 13.4533489
                  },
                  "distance": 54.0,
                  "time": {
                    "start": "2020-05-01T09:13:31Z",
                    "end": "2020-05-01T09:14:21Z"
                  }
                },
                "backward": {
                  "location": {
                    "lat": 52.5253342,
                    "lng": 13.4533489
                  },
                  "distance": 54.0,
                  "time": {
                    "start": "2020-05-01T09:17:21Z",
                    "end": "2020-05-01T09:18:11Z"
                  }
                }
              }
            }
          ]
        },
        {
          "location": {
            "lat": 52.5239243,
            "lng": 13.4545827
          },
          "time": {
            "arrival": "2020-05-01T09:18:29Z",
            "departure": "2020-05-01T09:23:29Z"
          },
          "distance": 284,
          "load": [
            7
          ],
          "activities": [
            {
              "jobId": "job5",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5223315,
            "lng": 13.4555697
          },
          "time": {
            "arrival": "2020-05-01T09:23:48Z",
            "departure": "2020-05-01T09:32:48Z"
          },
          "distance": 473,
          "load": [
            5
          ],
          "parking": {
            "start": "2020-05-01T09:23:48Z",
            "end": "2020-05-01T09:25:48Z"
          },
          "activities": [
            {
              "jobId": "job6",
              "type": "delivery",
              "location": {
                "lat": 52.5223315,
                "lng": 13.4555697
              },
              "time": {
                "start": "2020-05-01T09:25:48Z",
                "end": "2020-05-01T09:28:48Z"
              },
              "commute": {}
            },
            {
              "jobId": "job12",
              "type": "delivery",
              "location": {
                "lat": 52.5223184,
                "lng": 13.4551942
              },
              "time": {
                "start": "2020-05-01T09:29:18Z",
                "end": "2020-05-01T09:32:18Z"
              },
              "commute": {
                "forward": {
                  "location": {
                    "lat": 52.5223315,
                    "lng": 13.4555697
                  },
                  "distance": 25.0,
                  "time": {
                    "start": "2020-05-01T09:28:48Z",
                    "end": "2020-05-01T09:29:18Z"
                  }
                },
                "backward": {
                  "location": {
                    "lat": 52.5223315,
                    "lng": 13.4555697
                  },
                  "distance": 25.0,
                  "time": {
                    "start": "2020-05-01T09:32:18Z",
                    "end": "2020-05-01T09:32:48Z"
                  }
                }
              }
            }
          ]
        },
        {
          "location": {
            "lat": 52.5240157,
            "lng": 13.457222
          },
          "time": {
            "arrival": "2020-05-01T09:33:10Z",
            "departure": "2020-05-01T09:38:10Z"
          },
          "distance": 691,
          "load": [
            4
          ],
          "activities": [
            {
              "jobId": "job7",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5250209,
            "lng": 13.4567821
          },
          "time": {
            "arrival": "2020-05-01T09:38:22Z",
            "departure": "2020-05-01T09:43:22Z"
          },
          "distance": 807,
          "load": [
            3
          ],
          "activities": [
            {
              "jobId": "job11",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5241593,
            "lng": 13.4589815
          },
          "time": {
            "arrival": "2020-05-01T09:43:40Z",
            "departure": "2020-05-01T09:58:20Z"
          },
          "distance": 984,
          "load": [
            0
          ],
          "parking": {
            "start": "2020-05-01T09:43:40Z",
            "end": "2020-05-01T09:45:40Z"
          },
          "activities": [
            {
              "jobId": "job9",
              "type": "delivery",
              "location": {
                "lat": 52.5241593,
                "lng": 13.4589815
              },
              "time": {
                "start": "2020-05-01T09:45:40Z",
                "end": "2020-05-01T09:48:40Z"
              },
              "commute": {}
            },
            {
              "jobId": "job8",
              "type": "delivery",
              "location": {
                "lat": 52.5243028,
                "lng": 13.45952868
              },
              "time": {
                "start": "2020-05-01T09:49:20Z",
                "end": "2020-05-01T09:52:20Z"
              },
              "commute": {
                "forward": {
                  "location": {
                    "lat": 52.5241593,
                    "lng": 13.4589815
                  },
                  "distance": 40.0,
                  "time": {
                    "start": "2020-05-01T09:48:40Z",
                    "end": "2020-05-01T09:49:20Z"
                  }
                },
                "backward": {
                  "location": {
                    "lat": 52.5241593,
                    "lng": 13.4589815
                  },
                  "distance": 40.0,
                  "time": {
                    "start": "2020-05-01T09:52:20Z",
                    "end": "2020-05-01T09:53:00Z"
                  }
                }
              }
            },
            {
              "jobId": "job10",
              "type": "delivery",
              "location": {
                "lat": 52.5239896,
                "lng": 13.4600115
              },
              "time": {
                "start": "2020-05-01T09:54:10Z",
                "end": "2020-05-01T09:57:10Z"
              },
              "commute": {
                "forward": {
                  "location": {
                    "lat": 52.5241593,
                    "lng": 13.4589815
                  },
                  "distance": 72.0,
                  "time": {
                    "start": "2020-05-01T09:53:00Z",
                    "end": "2020-05-01T09:54:10Z"
                  }
                },
                "backward": {
                  "location": {
                    "lat": 52.5241593,
                    "lng": 13.4589815
                  },
                  "distance": 72.0,
                  "time": {
                    "start": "2020-05-01T09:57:10Z",
                    "end": "2020-05-01T09:58:20Z"
                  }
                }
              }
            }
          ]
        }
      ],
      "statistic": {
        "cost": 42.5984,
        "distance": 984,
        "duration": 3500,
        "times": {
          "driving": 100,
          "serving": 2520,
          "waiting": 0,
          "break": 0,
          "commuting": 520,
          "parking": 360
        }
      }
    }
  ]
}
</code></pre>
</p></details>
</br>
<div id="geojson" hidden>
{
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {
        "arrival": "2020-05-01T09:00:00Z",
        "marker-size": "medium",
        "marker-symbol": "warehouse",
        "stop_idx": "0",
        "marker-color": "#3cb44b",
        "tour_idx": "0",
        "departure": "2020-05-01T09:00:00Z",
        "jobs_ids": "departure"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4532952,
          52.5262872
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "marker-symbol": "marker",
        "tour_idx": "0",
        "stop_idx": "1",
        "arrival": "2020-05-01T09:00:11Z",
        "departure": "2020-05-01T09:18:11Z",
        "jobs_ids": "job4,job3,job2,job1",
        "marker-color": "#3cb44b"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4533489,
          52.5253342
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "jobs_ids": "job5",
        "arrival": "2020-05-01T09:18:29Z",
        "departure": "2020-05-01T09:23:29Z",
        "marker-size": "medium",
        "marker-color": "#3cb44b",
        "tour_idx": "0",
        "stop_idx": "2"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4545827,
          52.5239243
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job6,job12",
        "marker-symbol": "marker",
        "arrival": "2020-05-01T09:23:48Z",
        "marker-color": "#3cb44b",
        "tour_idx": "0",
        "marker-size": "medium",
        "departure": "2020-05-01T09:32:48Z",
        "stop_idx": "3"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4555697,
          52.5223315
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#3cb44b",
        "arrival": "2020-05-01T09:33:10Z",
        "marker-symbol": "marker",
        "tour_idx": "0",
        "marker-size": "medium",
        "jobs_ids": "job7",
        "departure": "2020-05-01T09:38:10Z",
        "stop_idx": "4"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.457222,
          52.5240157
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "departure": "2020-05-01T09:43:22Z",
        "arrival": "2020-05-01T09:38:22Z",
        "stop_idx": "5",
        "marker-symbol": "marker",
        "marker-size": "medium",
        "tour_idx": "0",
        "marker-color": "#3cb44b",
        "jobs_ids": "job11"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4567821,
          52.5250209
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "jobs_ids": "job9,job8,job10",
        "arrival": "2020-05-01T09:43:40Z",
        "departure": "2020-05-01T09:58:20Z",
        "stop_idx": "6",
        "tour_idx": "0",
        "marker-size": "medium",
        "marker-color": "#3cb44b"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4589815,
          52.5241593
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "shift_idx": "0",
        "activities": "13",
        "arrival": "2020-05-01T09:43:40Z",
        "departure": "2020-05-01T09:00:00Z",
        "vehicle_id": "vehicle_1",
        "distance": "984",
        "stroke-width": "4",
        "tour_idx": "0",
        "stroke": "#e6194b"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.4532952,
            52.5262872
          ],
          [
            13.4533489,
            52.5253342
          ],
          [
            13.4545827,
            52.5239243
          ],
          [
            13.4555697,
            52.5223315
          ],
          [
            13.457222,
            52.5240157
          ],
          [
            13.4567821,
            52.5250209
          ],
          [
            13.4589815,
            52.5241593
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "0",
        "marker-size": "medium",
        "jobs_id": "job4",
        "marker-color": "#e6194b",
        "start": "2020-05-01T09:02:11Z",
        "end": "2020-05-01T09:05:11Z",
        "marker-symbol": "marker",
        "stop_idx": "1",
        "activity_idx": "0"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4533489,
          52.5253342
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "marker-color": "#e6194b",
        "jobs_id": "job3",
        "marker-symbol": "marker",
        "start": "2020-05-01T09:05:41Z",
        "activity_idx": "1",
        "tour_idx": "0",
        "stop_idx": "1",
        "end": "2020-05-01T09:08:41Z"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4530162,
          52.5255366
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stroke-width": "3",
        "stroke": "#3cb44b"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.4533489,
            52.5253342
          ],
          [
            13.4530162,
            52.5255366
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stroke-width": "3",
        "stroke": "#3cb44b"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.4530162,
            52.5255366
          ],
          [
            13.4533489,
            52.5253342
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "end": "2020-05-01T09:12:51Z",
        "tour_idx": "0",
        "activity_idx": "2",
        "jobs_id": "job2",
        "stop_idx": "1",
        "marker-color": "#e6194b",
        "start": "2020-05-01T09:09:51Z",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4527159,
          52.5254256
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stroke": "#3cb44b",
        "stroke-width": "3"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.4533489,
            52.5253342
          ],
          [
            13.4527159,
            52.5254256
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stroke-width": "3",
        "stroke": "#3cb44b"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.4527159,
            52.5254256
          ],
          [
            13.4533489,
            52.5253342
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "activity_idx": "3",
        "jobs_id": "job1",
        "start": "2020-05-01T09:14:21Z",
        "tour_idx": "0",
        "marker-symbol": "marker",
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "end": "2020-05-01T09:17:21Z",
        "stop_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4525549,
          52.5253538
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stroke-width": "3",
        "stroke": "#3cb44b"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.4533489,
            52.5253342
          ],
          [
            13.4525549,
            52.5253538
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stroke-width": "3",
        "stroke": "#3cb44b"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.4525549,
            52.5253538
          ],
          [
            13.4533489,
            52.5253342
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "end": "2020-05-01T09:28:48Z",
        "jobs_id": "job6",
        "marker-color": "#e6194b",
        "marker-symbol": "marker",
        "stop_idx": "3",
        "activity_idx": "0",
        "marker-size": "medium",
        "start": "2020-05-01T09:25:48Z",
        "tour_idx": "0"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4555697,
          52.5223315
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "3",
        "marker-symbol": "marker",
        "tour_idx": "0",
        "activity_idx": "1",
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "end": "2020-05-01T09:32:18Z",
        "jobs_id": "job12",
        "start": "2020-05-01T09:29:18Z"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4551942,
          52.5223184
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stroke": "#3cb44b",
        "stroke-width": "3"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.4555697,
            52.5223315
          ],
          [
            13.4551942,
            52.5223184
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stroke-width": "3",
        "stroke": "#3cb44b"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.4551942,
            52.5223184
          ],
          [
            13.4555697,
            52.5223315
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "0",
        "end": "2020-05-01T09:48:40Z",
        "marker-color": "#e6194b",
        "activity_idx": "0",
        "marker-size": "medium",
        "stop_idx": "6",
        "start": "2020-05-01T09:45:40Z",
        "marker-symbol": "marker",
        "jobs_id": "job9"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4589815,
          52.5241593
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "6",
        "end": "2020-05-01T09:52:20Z",
        "jobs_id": "job8",
        "activity_idx": "1",
        "tour_idx": "0",
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "start": "2020-05-01T09:49:20Z"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.45952868,
          52.5243028
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stroke": "#3cb44b",
        "stroke-width": "3"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.4589815,
            52.5241593
          ],
          [
            13.45952868,
            52.5243028
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stroke-width": "3",
        "stroke": "#3cb44b"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.45952868,
            52.5243028
          ],
          [
            13.4589815,
            52.5241593
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "0",
        "activity_idx": "2",
        "marker-color": "#e6194b",
        "marker-symbol": "marker",
        "start": "2020-05-01T09:54:10Z",
        "end": "2020-05-01T09:57:10Z",
        "jobs_id": "job10",
        "stop_idx": "6",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4600115,
          52.5239896
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stroke-width": "3",
        "stroke": "#3cb44b"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.4589815,
            52.5241593
          ],
          [
            13.4600115,
            52.5239896
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stroke": "#3cb44b",
        "stroke-width": "3"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.4600115,
            52.5239896
          ],
          [
            13.4589815,
            52.5241593
          ]
        ]
      }
    }
  ]
}
</div>
<div id="map"></div><div style="break-before: page; page-break-before: always;"></div><h1 id="objective-examples"><a class="header" href="#objective-examples">Objective examples</a></h1>
<p>Examples in this section demonstrate how different objectives affect final solution. All of them use the same problem
variant with different objectives.</p>
<p>Essentially, the problem definition has the following parameters:</p>
<ul>
<li><code>50</code> deliveries with demand <code>1</code></li>
<li><code>5</code> vehicles with capacity <code>20</code></li>
<li>fixed vehicle cost is <code>20</code></li>
<li>no time windows</li>
</ul>
<p>Information regarding objective schema can be found <a href="examples/pragmatic/objectives/../../../concepts/pragmatic/problem/objectives.html">here</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="default-behavior-fleet-and-cost-minimization"><a class="header" href="#default-behavior-fleet-and-cost-minimization">Default behavior: fleet and cost minimization</a></h1>
<details>
    <summary>Problem</summary><p>
<pre><code class="language-json">{
  "plan": {
    "jobs": [
      {
        "id": "job1",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5697304,
                  "lng": 13.3848221
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job2",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5060419,
                  "lng": 13.5152641
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job3",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5421315,
                  "lng": 13.5189513
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job4",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5243421,
                  "lng": 13.4619776
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job5",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4629002,
                  "lng": 13.4757055
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job6",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4960479,
                  "lng": 13.3915876
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job7",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5372914,
                  "lng": 13.3996298
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job8",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5429597,
                  "lng": 13.3989552
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job9",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5678751,
                  "lng": 13.4231417
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job10",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4945572,
                  "lng": 13.4698049
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job11",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4989511,
                  "lng": 13.4740528
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job12",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4658835,
                  "lng": 13.4461224
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job13",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5685168,
                  "lng": 13.3690720
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job14",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4742821,
                  "lng": 13.3628588
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job15",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5650163,
                  "lng": 13.3027992
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job16",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5496702,
                  "lng": 13.4286263
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job17",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5058684,
                  "lng": 13.4750990
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job18",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5473416,
                  "lng": 13.3327894
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job19",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5276784,
                  "lng": 13.5465640
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job20",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5192039,
                  "lng": 13.3044440
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job21",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5228904,
                  "lng": 13.4418623
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job22",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4828453,
                  "lng": 13.4363713
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job23",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5291335,
                  "lng": 13.3668934
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job24",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5261554,
                  "lng": 13.5062954
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job25",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5189653,
                  "lng": 13.3890068
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job26",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5090143,
                  "lng": 13.4368189
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job27",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4940454,
                  "lng": 13.3788834
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job28",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5065998,
                  "lng": 13.3689955
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job29",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5473490,
                  "lng": 13.3733163
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job30",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4695374,
                  "lng": 13.4914662
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job31",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4868236,
                  "lng": 13.3353656
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job32",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4661617,
                  "lng": 13.3226920
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job33",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4917198,
                  "lng": 13.5251532
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job34",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5431264,
                  "lng": 13.4416407
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job35",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5426716,
                  "lng": 13.5161692
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job36",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4708241,
                  "lng": 13.3598752
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job37",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4737341,
                  "lng": 13.3866700
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job38",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5404107,
                  "lng": 13.3914127
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job39",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5492619,
                  "lng": 13.3693560
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job40",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4827319,
                  "lng": 13.3157235
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job41",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4711004,
                  "lng": 13.3321906
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job42",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4871049,
                  "lng": 13.5423247
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job43",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5614441,
                  "lng": 13.4194712
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job44",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5414557,
                  "lng": 13.5276390
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job45",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5425207,
                  "lng": 13.4139155
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job46",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5632095,
                  "lng": 13.2940051
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job47",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5146285,
                  "lng": 13.2852959
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job48",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4855438,
                  "lng": 13.3832067
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job49",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5279215,
                  "lng": 13.4995315
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job50",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4959052,
                  "lng": 13.3539713
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      }
    ]
  },
  "fleet": {
    "vehicles": [
      {
        "typeId": "vehicle",
        "vehicleIds": [
          "vehicle_1",
          "vehicle_2",
          "vehicle_3",
          "vehicle_4",
          "vehicle_5"
        ],
        "profile": {
          "matrix": "car"
        },
        "costs": {
          "fixed": 20.0,
          "distance": 0.0002,
          "time": 0.005
        },
        "shifts": [
          {
            "start": {
              "earliest": "1970-01-01T00:00:00Z",
              "location": {
                "lat": 52.4664257,
                "lng": 13.2812488
              }
            },
            "end": {
              "latest": "1970-01-01T23:59:00Z",
              "location": {
                "lat": 52.4664257,
                "lng": 13.2812488
              }
            }
          }
        ],
        "capacity": [
          20
        ]
      }
    ],
    "profiles": [
      {
        "name": "car"
      }
    ]
  },
  "objectives": [
    {
      "type": "minimize-unassigned"
    },
    {
      "type": "minimize-tours"
    },
    {
      "type": "minimize-cost"
    }
  ]
}
</code></pre>
</p></details>
<details>
    <summary>Solution</summary><p>
<pre><code class="language-json">{
  "statistic": {
    "cost": 185.74319999999997,
    "distance": 115366,
    "duration": 20534,
    "times": {
      "driving": 11534,
      "serving": 9000,
      "waiting": 0,
      "break": 0
    }
  },
  "tours": [
    {
      "vehicleId": "vehicle_1",
      "typeId": "vehicle",
      "shiftIndex": 0,
      "stops": [
        {
          "location": {
            "lat": 52.4664257,
            "lng": 13.2812488
          },
          "time": {
            "arrival": "1970-01-01T00:00:00Z",
            "departure": "1970-01-01T00:00:00Z"
          },
          "distance": 0,
          "load": [
            10
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4827319,
            "lng": 13.3157235
          },
          "time": {
            "arrival": "1970-01-01T00:04:56Z",
            "departure": "1970-01-01T00:07:56Z"
          },
          "distance": 2960,
          "load": [
            9
          ],
          "activities": [
            {
              "jobId": "job40",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4868236,
            "lng": 13.3353656
          },
          "time": {
            "arrival": "1970-01-01T00:10:17Z",
            "departure": "1970-01-01T00:13:17Z"
          },
          "distance": 4367,
          "load": [
            8
          ],
          "activities": [
            {
              "jobId": "job31",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4959052,
            "lng": 13.3539713
          },
          "time": {
            "arrival": "1970-01-01T00:15:59Z",
            "departure": "1970-01-01T00:18:59Z"
          },
          "distance": 5983,
          "load": [
            7
          ],
          "activities": [
            {
              "jobId": "job50",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4940454,
            "lng": 13.3788834
          },
          "time": {
            "arrival": "1970-01-01T00:21:49Z",
            "departure": "1970-01-01T00:24:49Z"
          },
          "distance": 7684,
          "load": [
            6
          ],
          "activities": [
            {
              "jobId": "job27",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4960479,
            "lng": 13.3915876
          },
          "time": {
            "arrival": "1970-01-01T00:26:18Z",
            "departure": "1970-01-01T00:29:18Z"
          },
          "distance": 8573,
          "load": [
            5
          ],
          "activities": [
            {
              "jobId": "job6",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4855438,
            "lng": 13.3832067
          },
          "time": {
            "arrival": "1970-01-01T00:31:28Z",
            "departure": "1970-01-01T00:34:28Z"
          },
          "distance": 9873,
          "load": [
            4
          ],
          "activities": [
            {
              "jobId": "job48",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4742821,
            "lng": 13.3628588
          },
          "time": {
            "arrival": "1970-01-01T00:37:34Z",
            "departure": "1970-01-01T00:40:34Z"
          },
          "distance": 11737,
          "load": [
            3
          ],
          "activities": [
            {
              "jobId": "job14",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4708241,
            "lng": 13.3598752
          },
          "time": {
            "arrival": "1970-01-01T00:41:17Z",
            "departure": "1970-01-01T00:44:17Z"
          },
          "distance": 12172,
          "load": [
            2
          ],
          "activities": [
            {
              "jobId": "job36",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4711004,
            "lng": 13.3321906
          },
          "time": {
            "arrival": "1970-01-01T00:47:25Z",
            "departure": "1970-01-01T00:50:25Z"
          },
          "distance": 14050,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "job41",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4661617,
            "lng": 13.322692
          },
          "time": {
            "arrival": "1970-01-01T00:51:50Z",
            "departure": "1970-01-01T00:54:50Z"
          },
          "distance": 14897,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "job32",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4664257,
            "lng": 13.2812488
          },
          "time": {
            "arrival": "1970-01-01T00:59:31Z",
            "departure": "1970-01-01T00:59:31Z"
          },
          "distance": 17708,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "arrival",
              "type": "arrival"
            }
          ]
        }
      ],
      "statistic": {
        "cost": 41.3966,
        "distance": 17708,
        "duration": 3571,
        "times": {
          "driving": 1771,
          "serving": 1800,
          "waiting": 0,
          "break": 0
        }
      }
    },
    {
      "vehicleId": "vehicle_4",
      "typeId": "vehicle",
      "shiftIndex": 0,
      "stops": [
        {
          "location": {
            "lat": 52.4664257,
            "lng": 13.2812488
          },
          "time": {
            "arrival": "1970-01-01T00:00:00Z",
            "departure": "1970-01-01T00:00:00Z"
          },
          "distance": 0,
          "load": [
            20
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4737341,
            "lng": 13.38667
          },
          "time": {
            "arrival": "1970-01-01T00:12:00Z",
            "departure": "1970-01-01T00:15:00Z"
          },
          "distance": 7195,
          "load": [
            19
          ],
          "activities": [
            {
              "jobId": "job37",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4828453,
            "lng": 13.4363713
          },
          "time": {
            "arrival": "1970-01-01T00:20:52Z",
            "departure": "1970-01-01T00:23:52Z"
          },
          "distance": 10714,
          "load": [
            18
          ],
          "activities": [
            {
              "jobId": "job22",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4945572,
            "lng": 13.4698049
          },
          "time": {
            "arrival": "1970-01-01T00:28:13Z",
            "departure": "1970-01-01T00:31:13Z"
          },
          "distance": 13329,
          "load": [
            17
          ],
          "activities": [
            {
              "jobId": "job10",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4989511,
            "lng": 13.4740528
          },
          "time": {
            "arrival": "1970-01-01T00:32:10Z",
            "departure": "1970-01-01T00:35:10Z"
          },
          "distance": 13897,
          "load": [
            16
          ],
          "activities": [
            {
              "jobId": "job11",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5058684,
            "lng": 13.475099
          },
          "time": {
            "arrival": "1970-01-01T00:36:27Z",
            "departure": "1970-01-01T00:39:27Z"
          },
          "distance": 14670,
          "load": [
            15
          ],
          "activities": [
            {
              "jobId": "job17",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5090143,
            "lng": 13.4368189
          },
          "time": {
            "arrival": "1970-01-01T00:43:49Z",
            "departure": "1970-01-01T00:46:49Z"
          },
          "distance": 17287,
          "load": [
            14
          ],
          "activities": [
            {
              "jobId": "job26",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5228904,
            "lng": 13.4418623
          },
          "time": {
            "arrival": "1970-01-01T00:49:27Z",
            "departure": "1970-01-01T00:52:27Z"
          },
          "distance": 18869,
          "load": [
            13
          ],
          "activities": [
            {
              "jobId": "job21",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5243421,
            "lng": 13.4619776
          },
          "time": {
            "arrival": "1970-01-01T00:54:44Z",
            "departure": "1970-01-01T00:57:44Z"
          },
          "distance": 20241,
          "load": [
            12
          ],
          "activities": [
            {
              "jobId": "job4",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5279215,
            "lng": 13.4995315
          },
          "time": {
            "arrival": "1970-01-01T01:02:01Z",
            "departure": "1970-01-01T01:05:01Z"
          },
          "distance": 22815,
          "load": [
            11
          ],
          "activities": [
            {
              "jobId": "job49",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5261554,
            "lng": 13.5062954
          },
          "time": {
            "arrival": "1970-01-01T01:05:51Z",
            "departure": "1970-01-01T01:08:51Z"
          },
          "distance": 23313,
          "load": [
            10
          ],
          "activities": [
            {
              "jobId": "job24",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5426716,
            "lng": 13.5161692
          },
          "time": {
            "arrival": "1970-01-01T01:12:07Z",
            "departure": "1970-01-01T01:15:07Z"
          },
          "distance": 25269,
          "load": [
            9
          ],
          "activities": [
            {
              "jobId": "job35",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5421315,
            "lng": 13.5189513
          },
          "time": {
            "arrival": "1970-01-01T01:15:27Z",
            "departure": "1970-01-01T01:18:27Z"
          },
          "distance": 25467,
          "load": [
            8
          ],
          "activities": [
            {
              "jobId": "job3",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5414557,
            "lng": 13.527639
          },
          "time": {
            "arrival": "1970-01-01T01:19:26Z",
            "departure": "1970-01-01T01:22:26Z"
          },
          "distance": 26060,
          "load": [
            7
          ],
          "activities": [
            {
              "jobId": "job44",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5276784,
            "lng": 13.546564
          },
          "time": {
            "arrival": "1970-01-01T01:25:46Z",
            "departure": "1970-01-01T01:28:46Z"
          },
          "distance": 28059,
          "load": [
            6
          ],
          "activities": [
            {
              "jobId": "job19",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5060419,
            "lng": 13.5152641
          },
          "time": {
            "arrival": "1970-01-01T01:34:07Z",
            "departure": "1970-01-01T01:37:07Z"
          },
          "distance": 31268,
          "load": [
            5
          ],
          "activities": [
            {
              "jobId": "job2",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4917198,
            "lng": 13.5251532
          },
          "time": {
            "arrival": "1970-01-01T01:40:00Z",
            "departure": "1970-01-01T01:43:00Z"
          },
          "distance": 32997,
          "load": [
            4
          ],
          "activities": [
            {
              "jobId": "job33",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4871049,
            "lng": 13.5423247
          },
          "time": {
            "arrival": "1970-01-01T01:45:07Z",
            "departure": "1970-01-01T01:48:07Z"
          },
          "distance": 34269,
          "load": [
            3
          ],
          "activities": [
            {
              "jobId": "job42",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4695374,
            "lng": 13.4914662
          },
          "time": {
            "arrival": "1970-01-01T01:54:43Z",
            "departure": "1970-01-01T01:57:43Z"
          },
          "distance": 38233,
          "load": [
            2
          ],
          "activities": [
            {
              "jobId": "job30",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4629002,
            "lng": 13.4757055
          },
          "time": {
            "arrival": "1970-01-01T01:59:53Z",
            "departure": "1970-01-01T02:02:53Z"
          },
          "distance": 39532,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "job5",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4658835,
            "lng": 13.4461224
          },
          "time": {
            "arrival": "1970-01-01T02:06:16Z",
            "departure": "1970-01-01T02:09:16Z"
          },
          "distance": 41566,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "job12",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4664257,
            "lng": 13.2812488
          },
          "time": {
            "arrival": "1970-01-01T02:27:54Z",
            "departure": "1970-01-01T02:27:54Z"
          },
          "distance": 52748,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "arrival",
              "type": "arrival"
            }
          ]
        }
      ],
      "statistic": {
        "cost": 74.91959999999997,
        "distance": 52748,
        "duration": 8874,
        "times": {
          "driving": 5274,
          "serving": 3600,
          "waiting": 0,
          "break": 0
        }
      }
    },
    {
      "vehicleId": "vehicle_5",
      "typeId": "vehicle",
      "shiftIndex": 0,
      "stops": [
        {
          "location": {
            "lat": 52.4664257,
            "lng": 13.2812488
          },
          "time": {
            "arrival": "1970-01-01T00:00:00Z",
            "departure": "1970-01-01T00:00:00Z"
          },
          "distance": 0,
          "load": [
            20
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5065998,
            "lng": 13.3689955
          },
          "time": {
            "arrival": "1970-01-01T00:12:24Z",
            "departure": "1970-01-01T00:15:24Z"
          },
          "distance": 7442,
          "load": [
            19
          ],
          "activities": [
            {
              "jobId": "job28",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5189653,
            "lng": 13.3890068
          },
          "time": {
            "arrival": "1970-01-01T00:18:37Z",
            "departure": "1970-01-01T00:21:37Z"
          },
          "distance": 9374,
          "load": [
            18
          ],
          "activities": [
            {
              "jobId": "job25",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5291335,
            "lng": 13.3668934
          },
          "time": {
            "arrival": "1970-01-01T00:24:45Z",
            "departure": "1970-01-01T00:27:45Z"
          },
          "distance": 11251,
          "load": [
            17
          ],
          "activities": [
            {
              "jobId": "job23",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5404107,
            "lng": 13.3914127
          },
          "time": {
            "arrival": "1970-01-01T00:31:13Z",
            "departure": "1970-01-01T00:34:13Z"
          },
          "distance": 13332,
          "load": [
            16
          ],
          "activities": [
            {
              "jobId": "job38",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5372914,
            "lng": 13.3996298
          },
          "time": {
            "arrival": "1970-01-01T00:35:19Z",
            "departure": "1970-01-01T00:38:19Z"
          },
          "distance": 13988,
          "load": [
            15
          ],
          "activities": [
            {
              "jobId": "job7",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5429597,
            "lng": 13.3989552
          },
          "time": {
            "arrival": "1970-01-01T00:39:22Z",
            "departure": "1970-01-01T00:42:22Z"
          },
          "distance": 14621,
          "load": [
            14
          ],
          "activities": [
            {
              "jobId": "job8",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5425207,
            "lng": 13.4139155
          },
          "time": {
            "arrival": "1970-01-01T00:44:03Z",
            "departure": "1970-01-01T00:47:03Z"
          },
          "distance": 15635,
          "load": [
            13
          ],
          "activities": [
            {
              "jobId": "job45",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5431264,
            "lng": 13.4416407
          },
          "time": {
            "arrival": "1970-01-01T00:50:11Z",
            "departure": "1970-01-01T00:53:11Z"
          },
          "distance": 17513,
          "load": [
            12
          ],
          "activities": [
            {
              "jobId": "job34",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5496702,
            "lng": 13.4286263
          },
          "time": {
            "arrival": "1970-01-01T00:55:05Z",
            "departure": "1970-01-01T00:58:05Z"
          },
          "distance": 18656,
          "load": [
            11
          ],
          "activities": [
            {
              "jobId": "job16",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5614441,
            "lng": 13.4194712
          },
          "time": {
            "arrival": "1970-01-01T01:00:30Z",
            "departure": "1970-01-01T01:03:30Z"
          },
          "distance": 20106,
          "load": [
            10
          ],
          "activities": [
            {
              "jobId": "job43",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5678751,
            "lng": 13.4231417
          },
          "time": {
            "arrival": "1970-01-01T01:04:46Z",
            "departure": "1970-01-01T01:07:46Z"
          },
          "distance": 20864,
          "load": [
            9
          ],
          "activities": [
            {
              "jobId": "job9",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5697304,
            "lng": 13.3848221
          },
          "time": {
            "arrival": "1970-01-01T01:12:06Z",
            "departure": "1970-01-01T01:15:06Z"
          },
          "distance": 23465,
          "load": [
            8
          ],
          "activities": [
            {
              "jobId": "job1",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5685168,
            "lng": 13.369072
          },
          "time": {
            "arrival": "1970-01-01T01:16:53Z",
            "departure": "1970-01-01T01:19:53Z"
          },
          "distance": 24539,
          "load": [
            7
          ],
          "activities": [
            {
              "jobId": "job13",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.547349,
            "lng": 13.3733163
          },
          "time": {
            "arrival": "1970-01-01T01:23:50Z",
            "departure": "1970-01-01T01:26:50Z"
          },
          "distance": 26913,
          "load": [
            6
          ],
          "activities": [
            {
              "jobId": "job29",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5492619,
            "lng": 13.369356
          },
          "time": {
            "arrival": "1970-01-01T01:27:24Z",
            "departure": "1970-01-01T01:30:24Z"
          },
          "distance": 27255,
          "load": [
            5
          ],
          "activities": [
            {
              "jobId": "job39",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5473416,
            "lng": 13.3327894
          },
          "time": {
            "arrival": "1970-01-01T01:34:32Z",
            "departure": "1970-01-01T01:37:32Z"
          },
          "distance": 29739,
          "load": [
            4
          ],
          "activities": [
            {
              "jobId": "job18",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5650163,
            "lng": 13.3027992
          },
          "time": {
            "arrival": "1970-01-01T01:42:15Z",
            "departure": "1970-01-01T01:45:15Z"
          },
          "distance": 32566,
          "load": [
            3
          ],
          "activities": [
            {
              "jobId": "job15",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5632095,
            "lng": 13.2940051
          },
          "time": {
            "arrival": "1970-01-01T01:46:18Z",
            "departure": "1970-01-01T01:49:18Z"
          },
          "distance": 33194,
          "load": [
            2
          ],
          "activities": [
            {
              "jobId": "job46",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5192039,
            "lng": 13.304444
          },
          "time": {
            "arrival": "1970-01-01T01:57:33Z",
            "departure": "1970-01-01T02:00:33Z"
          },
          "distance": 38143,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "job20",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5146285,
            "lng": 13.2852959
          },
          "time": {
            "arrival": "1970-01-01T02:02:52Z",
            "departure": "1970-01-01T02:05:52Z"
          },
          "distance": 39537,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "job47",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4664257,
            "lng": 13.2812488
          },
          "time": {
            "arrival": "1970-01-01T02:14:49Z",
            "departure": "1970-01-01T02:14:49Z"
          },
          "distance": 44910,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "arrival",
              "type": "arrival"
            }
          ]
        }
      ],
      "statistic": {
        "cost": 69.42699999999999,
        "distance": 44910,
        "duration": 8089,
        "times": {
          "driving": 4489,
          "serving": 3600,
          "waiting": 0,
          "break": 0
        }
      }
    }
  ],
  "unassigned": []
}
</code></pre>
</p></details>
</br>
<div id="geojson" hidden>
{
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#e6194b",
        "tour_idx": "0",
        "marker-symbol": "warehouse",
        "jobs_ids": "departure",
        "stop_idx": "0",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job40",
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "tour_idx": "0",
        "stop_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3157235,
          52.4827319
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "2",
        "tour_idx": "0",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "marker-color": "#e6194b",
        "jobs_ids": "job31"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3353656,
          52.4868236
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job50",
        "tour_idx": "0",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "marker-color": "#e6194b",
        "stop_idx": "3"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3539713,
          52.4959052
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "marker-size": "medium",
        "marker-color": "#e6194b",
        "tour_idx": "0",
        "stop_idx": "4",
        "jobs_ids": "job27"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3788834,
          52.4940454
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job6",
        "stop_idx": "5",
        "marker-size": "medium",
        "marker-color": "#e6194b",
        "marker-symbol": "marker",
        "tour_idx": "0"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3915876,
          52.4960479
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "0",
        "marker-color": "#e6194b",
        "marker-symbol": "marker",
        "marker-size": "medium",
        "stop_idx": "6",
        "jobs_ids": "job48"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3832067,
          52.4855438
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "7",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "jobs_ids": "job14",
        "marker-color": "#e6194b",
        "tour_idx": "0"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3628588,
          52.4742821
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#e6194b",
        "tour_idx": "0",
        "stop_idx": "8",
        "marker-symbol": "marker",
        "jobs_ids": "job36",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3598752,
          52.4708241
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "0",
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "jobs_ids": "job41",
        "stop_idx": "9"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3321906,
          52.4711004
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "marker-color": "#e6194b",
        "stop_idx": "10",
        "marker-size": "medium",
        "tour_idx": "0",
        "jobs_ids": "job32"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.322692,
          52.4661617
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "0",
        "marker-symbol": "warehouse",
        "stop_idx": "11",
        "jobs_ids": "arrival",
        "marker-color": "#e6194b",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "0",
        "marker-size": "medium",
        "jobs_ids": "departure",
        "marker-color": "#808080",
        "marker-symbol": "warehouse",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "stop_idx": "1",
        "tour_idx": "1",
        "marker-color": "#808080",
        "jobs_ids": "job37",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.38667,
          52.4737341
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job22",
        "tour_idx": "1",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "marker-color": "#808080",
        "stop_idx": "2"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4363713,
          52.4828453
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "tour_idx": "1",
        "stop_idx": "3",
        "marker-symbol": "marker",
        "marker-color": "#808080",
        "jobs_ids": "job10"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4698049,
          52.4945572
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "4",
        "marker-color": "#808080",
        "marker-symbol": "marker",
        "tour_idx": "1",
        "jobs_ids": "job11",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4740528,
          52.4989511
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "stop_idx": "5",
        "marker-color": "#808080",
        "marker-symbol": "marker",
        "tour_idx": "1",
        "jobs_ids": "job17"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.475099,
          52.5058684
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job26",
        "marker-color": "#808080",
        "tour_idx": "1",
        "marker-symbol": "marker",
        "stop_idx": "6",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4368189,
          52.5090143
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job21",
        "tour_idx": "1",
        "marker-size": "medium",
        "marker-color": "#808080",
        "marker-symbol": "marker",
        "stop_idx": "7"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4418623,
          52.5228904
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "marker-color": "#808080",
        "jobs_ids": "job4",
        "tour_idx": "1",
        "stop_idx": "8",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4619776,
          52.5243421
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job49",
        "marker-symbol": "marker",
        "tour_idx": "1",
        "marker-size": "medium",
        "marker-color": "#808080",
        "stop_idx": "9"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4995315,
          52.5279215
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "10",
        "jobs_ids": "job24",
        "marker-symbol": "marker",
        "tour_idx": "1",
        "marker-size": "medium",
        "marker-color": "#808080"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5062954,
          52.5261554
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job35",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "marker-color": "#808080",
        "tour_idx": "1",
        "stop_idx": "11"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5161692,
          52.5426716
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "1",
        "marker-color": "#808080",
        "stop_idx": "12",
        "marker-symbol": "marker",
        "marker-size": "medium",
        "jobs_ids": "job3"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5189513,
          52.5421315
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "marker-color": "#808080",
        "tour_idx": "1",
        "marker-symbol": "marker",
        "stop_idx": "13",
        "jobs_ids": "job44"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.527639,
          52.5414557
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#808080",
        "stop_idx": "14",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "jobs_ids": "job19",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.546564,
          52.5276784
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job2",
        "marker-size": "medium",
        "marker-color": "#808080",
        "stop_idx": "15",
        "marker-symbol": "marker",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5152641,
          52.5060419
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job33",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "stop_idx": "16",
        "tour_idx": "1",
        "marker-color": "#808080"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5251532,
          52.4917198
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job42",
        "marker-color": "#808080",
        "stop_idx": "17",
        "marker-size": "medium",
        "tour_idx": "1",
        "marker-symbol": "marker"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5423247,
          52.4871049
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#808080",
        "marker-size": "medium",
        "stop_idx": "18",
        "jobs_ids": "job30",
        "tour_idx": "1",
        "marker-symbol": "marker"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4914662,
          52.4695374
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#808080",
        "marker-symbol": "marker",
        "tour_idx": "1",
        "stop_idx": "19",
        "jobs_ids": "job5",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4757055,
          52.4629002
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job12",
        "marker-symbol": "marker",
        "tour_idx": "1",
        "stop_idx": "20",
        "marker-size": "medium",
        "marker-color": "#808080"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4461224,
          52.4658835
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "warehouse",
        "tour_idx": "1",
        "marker-color": "#808080",
        "marker-size": "medium",
        "stop_idx": "21",
        "jobs_ids": "arrival"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#000075",
        "marker-symbol": "warehouse",
        "tour_idx": "2",
        "jobs_ids": "departure",
        "stop_idx": "0",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "1",
        "jobs_ids": "job28",
        "marker-color": "#000075",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "tour_idx": "2"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3689955,
          52.5065998
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job25",
        "marker-symbol": "marker",
        "tour_idx": "2",
        "stop_idx": "2",
        "marker-size": "medium",
        "marker-color": "#000075"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3890068,
          52.5189653
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#000075",
        "tour_idx": "2",
        "stop_idx": "3",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "jobs_ids": "job23"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3668934,
          52.5291335
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "2",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "jobs_ids": "job38",
        "stop_idx": "4",
        "marker-color": "#000075"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3914127,
          52.5404107
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "2",
        "jobs_ids": "job7",
        "marker-symbol": "marker",
        "marker-size": "medium",
        "stop_idx": "5",
        "marker-color": "#000075"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3996298,
          52.5372914
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job8",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "tour_idx": "2",
        "stop_idx": "6",
        "marker-color": "#000075"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3989552,
          52.5429597
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#000075",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "tour_idx": "2",
        "stop_idx": "7",
        "jobs_ids": "job45"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4139155,
          52.5425207
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "jobs_ids": "job34",
        "stop_idx": "8",
        "marker-color": "#000075",
        "marker-size": "medium",
        "tour_idx": "2"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4416407,
          52.5431264
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "stop_idx": "9",
        "marker-size": "medium",
        "tour_idx": "2",
        "jobs_ids": "job16",
        "marker-color": "#000075"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4286263,
          52.5496702
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "10",
        "tour_idx": "2",
        "jobs_ids": "job43",
        "marker-symbol": "marker",
        "marker-size": "medium",
        "marker-color": "#000075"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4194712,
          52.5614441
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "2",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "stop_idx": "11",
        "jobs_ids": "job9",
        "marker-color": "#000075"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4231417,
          52.5678751
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "12",
        "marker-symbol": "marker",
        "marker-size": "medium",
        "tour_idx": "2",
        "jobs_ids": "job1",
        "marker-color": "#000075"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3848221,
          52.5697304
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job13",
        "marker-color": "#000075",
        "marker-size": "medium",
        "tour_idx": "2",
        "marker-symbol": "marker",
        "stop_idx": "13"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.369072,
          52.5685168
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "tour_idx": "2",
        "stop_idx": "14",
        "jobs_ids": "job29",
        "marker-color": "#000075",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3733163,
          52.547349
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "2",
        "stop_idx": "15",
        "marker-size": "medium",
        "marker-color": "#000075",
        "marker-symbol": "marker",
        "jobs_ids": "job39"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.369356,
          52.5492619
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "marker-color": "#000075",
        "tour_idx": "2",
        "stop_idx": "16",
        "marker-symbol": "marker",
        "jobs_ids": "job18"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3327894,
          52.5473416
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#000075",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "stop_idx": "17",
        "tour_idx": "2",
        "jobs_ids": "job15"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3027992,
          52.5650163
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job46",
        "tour_idx": "2",
        "marker-color": "#000075",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "stop_idx": "18"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2940051,
          52.5632095
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "stop_idx": "19",
        "jobs_ids": "job20",
        "marker-color": "#000075",
        "marker-symbol": "marker",
        "tour_idx": "2"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.304444,
          52.5192039
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "20",
        "marker-color": "#000075",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "tour_idx": "2",
        "jobs_ids": "job47"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2852959,
          52.5146285
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#000075",
        "marker-symbol": "warehouse",
        "stop_idx": "21",
        "jobs_ids": "arrival",
        "marker-size": "medium",
        "tour_idx": "2"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "0",
        "stroke": "#e6194b",
        "shift_idx": "0",
        "vehicle_id": "vehicle_1",
        "distance": "17708",
        "activities": "12",
        "stroke-width": "4"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.2812488,
            52.4664257
          ],
          [
            13.3157235,
            52.4827319
          ],
          [
            13.3353656,
            52.4868236
          ],
          [
            13.3539713,
            52.4959052
          ],
          [
            13.3788834,
            52.4940454
          ],
          [
            13.3915876,
            52.4960479
          ],
          [
            13.3832067,
            52.4855438
          ],
          [
            13.3628588,
            52.4742821
          ],
          [
            13.3598752,
            52.4708241
          ],
          [
            13.3321906,
            52.4711004
          ],
          [
            13.322692,
            52.4661617
          ],
          [
            13.2812488,
            52.4664257
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "shift_idx": "0",
        "vehicle_id": "vehicle_4",
        "distance": "52748",
        "stroke-width": "4",
        "activities": "22",
        "stroke": "#3cb44b",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.2812488,
            52.4664257
          ],
          [
            13.38667,
            52.4737341
          ],
          [
            13.4363713,
            52.4828453
          ],
          [
            13.4698049,
            52.4945572
          ],
          [
            13.4740528,
            52.4989511
          ],
          [
            13.475099,
            52.5058684
          ],
          [
            13.4368189,
            52.5090143
          ],
          [
            13.4418623,
            52.5228904
          ],
          [
            13.4619776,
            52.5243421
          ],
          [
            13.4995315,
            52.5279215
          ],
          [
            13.5062954,
            52.5261554
          ],
          [
            13.5161692,
            52.5426716
          ],
          [
            13.5189513,
            52.5421315
          ],
          [
            13.527639,
            52.5414557
          ],
          [
            13.546564,
            52.5276784
          ],
          [
            13.5152641,
            52.5060419
          ],
          [
            13.5251532,
            52.4917198
          ],
          [
            13.5423247,
            52.4871049
          ],
          [
            13.4914662,
            52.4695374
          ],
          [
            13.4757055,
            52.4629002
          ],
          [
            13.4461224,
            52.4658835
          ],
          [
            13.2812488,
            52.4664257
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "activities": "22",
        "stroke-width": "4",
        "stroke": "#4363d8",
        "distance": "44910",
        "tour_idx": "2",
        "vehicle_id": "vehicle_5",
        "shift_idx": "0"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.2812488,
            52.4664257
          ],
          [
            13.3689955,
            52.5065998
          ],
          [
            13.3890068,
            52.5189653
          ],
          [
            13.3668934,
            52.5291335
          ],
          [
            13.3914127,
            52.5404107
          ],
          [
            13.3996298,
            52.5372914
          ],
          [
            13.3989552,
            52.5429597
          ],
          [
            13.4139155,
            52.5425207
          ],
          [
            13.4416407,
            52.5431264
          ],
          [
            13.4286263,
            52.5496702
          ],
          [
            13.4194712,
            52.5614441
          ],
          [
            13.4231417,
            52.5678751
          ],
          [
            13.3848221,
            52.5697304
          ],
          [
            13.369072,
            52.5685168
          ],
          [
            13.3733163,
            52.547349
          ],
          [
            13.369356,
            52.5492619
          ],
          [
            13.3327894,
            52.5473416
          ],
          [
            13.3027992,
            52.5650163
          ],
          [
            13.2940051,
            52.5632095
          ],
          [
            13.304444,
            52.5192039
          ],
          [
            13.2852959,
            52.5146285
          ],
          [
            13.2812488,
            52.4664257
          ]
        ]
      }
    }
  ]
}
</div>
<div id="map"></div>
<p>By default, the first objective for the solver is to minimize amount of unassigned jobs, then fleet usage, and the last
is total cost minimization:</p>
<pre><code class="language-json">  "objectives": [
    {
      "type": "minimize-unassigned"
    },
    {
      "type": "minimize-tours"
    },
    {
      "type": "minimize-cost"
    }
  ]
</code></pre>
<p>As result, solution has minimum amount of vehicles used to serve all jobs (<code>3</code>).</p>
<p>Note, that load between these vehicles is not equally distributed as it increases the total cost.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="balance-max-load"><a class="header" href="#balance-max-load">Balance max load</a></h1>
<details>
    <summary>Problem</summary><p>
<pre><code class="language-json">{
  "plan": {
    "jobs": [
      {
        "id": "job1",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5697304,
                  "lng": 13.3848221
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job2",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5060419,
                  "lng": 13.5152641
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job3",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5421315,
                  "lng": 13.5189513
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job4",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5243421,
                  "lng": 13.4619776
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job5",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4629002,
                  "lng": 13.4757055
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job6",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4960479,
                  "lng": 13.3915876
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job7",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5372914,
                  "lng": 13.3996298
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job8",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5429597,
                  "lng": 13.3989552
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job9",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5678751,
                  "lng": 13.4231417
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job10",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4945572,
                  "lng": 13.4698049
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job11",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4989511,
                  "lng": 13.4740528
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job12",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4658835,
                  "lng": 13.4461224
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job13",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5685168,
                  "lng": 13.3690720
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job14",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4742821,
                  "lng": 13.3628588
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job15",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5650163,
                  "lng": 13.3027992
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job16",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5496702,
                  "lng": 13.4286263
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job17",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5058684,
                  "lng": 13.4750990
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job18",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5473416,
                  "lng": 13.3327894
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job19",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5276784,
                  "lng": 13.5465640
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job20",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5192039,
                  "lng": 13.3044440
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job21",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5228904,
                  "lng": 13.4418623
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job22",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4828453,
                  "lng": 13.4363713
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job23",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5291335,
                  "lng": 13.3668934
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job24",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5261554,
                  "lng": 13.5062954
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job25",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5189653,
                  "lng": 13.3890068
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job26",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5090143,
                  "lng": 13.4368189
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job27",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4940454,
                  "lng": 13.3788834
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job28",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5065998,
                  "lng": 13.3689955
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job29",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5473490,
                  "lng": 13.3733163
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job30",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4695374,
                  "lng": 13.4914662
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job31",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4868236,
                  "lng": 13.3353656
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job32",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4661617,
                  "lng": 13.3226920
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job33",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4917198,
                  "lng": 13.5251532
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job34",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5431264,
                  "lng": 13.4416407
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job35",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5426716,
                  "lng": 13.5161692
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job36",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4708241,
                  "lng": 13.3598752
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job37",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4737341,
                  "lng": 13.3866700
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job38",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5404107,
                  "lng": 13.3914127
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job39",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5492619,
                  "lng": 13.3693560
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job40",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4827319,
                  "lng": 13.3157235
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job41",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4711004,
                  "lng": 13.3321906
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job42",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4871049,
                  "lng": 13.5423247
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job43",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5614441,
                  "lng": 13.4194712
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job44",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5414557,
                  "lng": 13.5276390
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job45",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5425207,
                  "lng": 13.4139155
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job46",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5632095,
                  "lng": 13.2940051
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job47",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5146285,
                  "lng": 13.2852959
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job48",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4855438,
                  "lng": 13.3832067
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job49",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5279215,
                  "lng": 13.4995315
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job50",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4959052,
                  "lng": 13.3539713
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      }
    ]
  },
  "fleet": {
    "vehicles": [
      {
        "typeId": "vehicle",
        "vehicleIds": [
          "vehicle_1",
          "vehicle_2",
          "vehicle_3",
          "vehicle_4",
          "vehicle_5"
        ],
        "profile": {
          "matrix": "car"
        },
        "costs": {
          "fixed": 20.0,
          "distance": 0.0002,
          "time": 0.005
        },
        "shifts": [
          {
            "start": {
              "earliest": "1970-01-01T00:00:00Z",
              "location": {
                "lat": 52.4664257,
                "lng": 13.2812488
              }
            },
            "end": {
              "latest": "1970-01-01T23:59:00Z",
              "location": {
                "lat": 52.4664257,
                "lng": 13.2812488
              }
            }
          }
        ],
        "capacity": [
          20
        ]
      }
    ],
    "profiles": [
      {
        "name": "car"
      }
    ]
  },
  "objectives": [
    {
      "type": "minimize-unassigned"
    },
    {
      "type": "minimize-tours"
    },
    {
      "type": "multi-objective",
      "strategy": {
        "name": "sum"
      },
      "objectives": [
        {
          "type": "minimize-cost"
        },
        {
          "type": "balance-max-load"
        }
      ]
    }
  ]
}
</code></pre>
</p></details>
<details>
    <summary>Solution</summary><p>
<pre><code class="language-json">{
  "statistic": {
    "cost": 223.78519999999997,
    "distance": 141126,
    "duration": 23112,
    "times": {
      "driving": 14112,
      "serving": 9000,
      "waiting": 0,
      "break": 0
    }
  },
  "tours": [
    {
      "vehicleId": "vehicle_1",
      "typeId": "vehicle",
      "shiftIndex": 0,
      "stops": [
        {
          "location": {
            "lat": 52.4664257,
            "lng": 13.2812488
          },
          "time": {
            "arrival": "1970-01-01T00:00:00Z",
            "departure": "1970-01-01T00:00:00Z"
          },
          "distance": 0,
          "load": [
            12
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4827319,
            "lng": 13.3157235
          },
          "time": {
            "arrival": "1970-01-01T00:04:56Z",
            "departure": "1970-01-01T00:07:56Z"
          },
          "distance": 2960,
          "load": [
            11
          ],
          "activities": [
            {
              "jobId": "job40",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4868236,
            "lng": 13.3353656
          },
          "time": {
            "arrival": "1970-01-01T00:10:17Z",
            "departure": "1970-01-01T00:13:17Z"
          },
          "distance": 4367,
          "load": [
            10
          ],
          "activities": [
            {
              "jobId": "job31",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4959052,
            "lng": 13.3539713
          },
          "time": {
            "arrival": "1970-01-01T00:15:59Z",
            "departure": "1970-01-01T00:18:59Z"
          },
          "distance": 5983,
          "load": [
            9
          ],
          "activities": [
            {
              "jobId": "job50",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5065998,
            "lng": 13.3689955
          },
          "time": {
            "arrival": "1970-01-01T00:21:36Z",
            "departure": "1970-01-01T00:24:36Z"
          },
          "distance": 7549,
          "load": [
            8
          ],
          "activities": [
            {
              "jobId": "job28",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4940454,
            "lng": 13.3788834
          },
          "time": {
            "arrival": "1970-01-01T00:27:11Z",
            "departure": "1970-01-01T00:30:11Z"
          },
          "distance": 9099,
          "load": [
            7
          ],
          "activities": [
            {
              "jobId": "job27",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4960479,
            "lng": 13.3915876
          },
          "time": {
            "arrival": "1970-01-01T00:31:40Z",
            "departure": "1970-01-01T00:34:40Z"
          },
          "distance": 9988,
          "load": [
            6
          ],
          "activities": [
            {
              "jobId": "job6",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4855438,
            "lng": 13.3832067
          },
          "time": {
            "arrival": "1970-01-01T00:36:50Z",
            "departure": "1970-01-01T00:39:50Z"
          },
          "distance": 11288,
          "load": [
            5
          ],
          "activities": [
            {
              "jobId": "job48",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4737341,
            "lng": 13.38667
          },
          "time": {
            "arrival": "1970-01-01T00:42:04Z",
            "departure": "1970-01-01T00:45:04Z"
          },
          "distance": 12623,
          "load": [
            4
          ],
          "activities": [
            {
              "jobId": "job37",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4742821,
            "lng": 13.3628588
          },
          "time": {
            "arrival": "1970-01-01T00:47:46Z",
            "departure": "1970-01-01T00:50:46Z"
          },
          "distance": 14239,
          "load": [
            3
          ],
          "activities": [
            {
              "jobId": "job14",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4708241,
            "lng": 13.3598752
          },
          "time": {
            "arrival": "1970-01-01T00:51:29Z",
            "departure": "1970-01-01T00:54:29Z"
          },
          "distance": 14674,
          "load": [
            2
          ],
          "activities": [
            {
              "jobId": "job36",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4711004,
            "lng": 13.3321906
          },
          "time": {
            "arrival": "1970-01-01T00:57:37Z",
            "departure": "1970-01-01T01:00:37Z"
          },
          "distance": 16552,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "job41",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4661617,
            "lng": 13.322692
          },
          "time": {
            "arrival": "1970-01-01T01:02:02Z",
            "departure": "1970-01-01T01:05:02Z"
          },
          "distance": 17399,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "job32",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4664257,
            "lng": 13.2812488
          },
          "time": {
            "arrival": "1970-01-01T01:09:43Z",
            "departure": "1970-01-01T01:09:43Z"
          },
          "distance": 20210,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "arrival",
              "type": "arrival"
            }
          ]
        }
      ],
      "statistic": {
        "cost": 44.956999999999994,
        "distance": 20210,
        "duration": 4183,
        "times": {
          "driving": 2023,
          "serving": 2160,
          "waiting": 0,
          "break": 0
        }
      }
    },
    {
      "vehicleId": "vehicle_3",
      "typeId": "vehicle",
      "shiftIndex": 0,
      "stops": [
        {
          "location": {
            "lat": 52.4664257,
            "lng": 13.2812488
          },
          "time": {
            "arrival": "1970-01-01T00:00:00Z",
            "departure": "1970-01-01T00:00:00Z"
          },
          "distance": 0,
          "load": [
            12
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5189653,
            "lng": 13.3890068
          },
          "time": {
            "arrival": "1970-01-01T00:15:36Z",
            "departure": "1970-01-01T00:18:36Z"
          },
          "distance": 9357,
          "load": [
            11
          ],
          "activities": [
            {
              "jobId": "job25",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5372914,
            "lng": 13.3996298
          },
          "time": {
            "arrival": "1970-01-01T00:22:12Z",
            "departure": "1970-01-01T00:25:12Z"
          },
          "distance": 11520,
          "load": [
            10
          ],
          "activities": [
            {
              "jobId": "job7",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5425207,
            "lng": 13.4139155
          },
          "time": {
            "arrival": "1970-01-01T00:27:05Z",
            "departure": "1970-01-01T00:30:05Z"
          },
          "distance": 12649,
          "load": [
            9
          ],
          "activities": [
            {
              "jobId": "job45",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5429597,
            "lng": 13.3989552
          },
          "time": {
            "arrival": "1970-01-01T00:31:46Z",
            "departure": "1970-01-01T00:34:46Z"
          },
          "distance": 13663,
          "load": [
            8
          ],
          "activities": [
            {
              "jobId": "job8",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5404107,
            "lng": 13.3914127
          },
          "time": {
            "arrival": "1970-01-01T00:35:44Z",
            "departure": "1970-01-01T00:38:44Z"
          },
          "distance": 14247,
          "load": [
            7
          ],
          "activities": [
            {
              "jobId": "job38",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.547349,
            "lng": 13.3733163
          },
          "time": {
            "arrival": "1970-01-01T00:41:09Z",
            "departure": "1970-01-01T00:44:09Z"
          },
          "distance": 15695,
          "load": [
            6
          ],
          "activities": [
            {
              "jobId": "job29",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5492619,
            "lng": 13.369356
          },
          "time": {
            "arrival": "1970-01-01T00:44:43Z",
            "departure": "1970-01-01T00:47:43Z"
          },
          "distance": 16037,
          "load": [
            5
          ],
          "activities": [
            {
              "jobId": "job39",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5473416,
            "lng": 13.3327894
          },
          "time": {
            "arrival": "1970-01-01T00:51:51Z",
            "departure": "1970-01-01T00:54:51Z"
          },
          "distance": 18521,
          "load": [
            4
          ],
          "activities": [
            {
              "jobId": "job18",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5650163,
            "lng": 13.3027992
          },
          "time": {
            "arrival": "1970-01-01T00:59:34Z",
            "departure": "1970-01-01T01:02:34Z"
          },
          "distance": 21348,
          "load": [
            3
          ],
          "activities": [
            {
              "jobId": "job15",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5632095,
            "lng": 13.2940051
          },
          "time": {
            "arrival": "1970-01-01T01:03:37Z",
            "departure": "1970-01-01T01:06:37Z"
          },
          "distance": 21976,
          "load": [
            2
          ],
          "activities": [
            {
              "jobId": "job46",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5192039,
            "lng": 13.304444
          },
          "time": {
            "arrival": "1970-01-01T01:14:52Z",
            "departure": "1970-01-01T01:17:52Z"
          },
          "distance": 26925,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "job20",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5146285,
            "lng": 13.2852959
          },
          "time": {
            "arrival": "1970-01-01T01:20:11Z",
            "departure": "1970-01-01T01:23:11Z"
          },
          "distance": 28319,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "job47",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4664257,
            "lng": 13.2812488
          },
          "time": {
            "arrival": "1970-01-01T01:32:08Z",
            "departure": "1970-01-01T01:32:08Z"
          },
          "distance": 33692,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "arrival",
              "type": "arrival"
            }
          ]
        }
      ],
      "statistic": {
        "cost": 54.37839999999999,
        "distance": 33692,
        "duration": 5528,
        "times": {
          "driving": 3368,
          "serving": 2160,
          "waiting": 0,
          "break": 0
        }
      }
    },
    {
      "vehicleId": "vehicle_4",
      "typeId": "vehicle",
      "shiftIndex": 0,
      "stops": [
        {
          "location": {
            "lat": 52.4664257,
            "lng": 13.2812488
          },
          "time": {
            "arrival": "1970-01-01T00:00:00Z",
            "departure": "1970-01-01T00:00:00Z"
          },
          "distance": 0,
          "load": [
            13
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4828453,
            "lng": 13.4363713
          },
          "time": {
            "arrival": "1970-01-01T00:17:48Z",
            "departure": "1970-01-01T00:20:48Z"
          },
          "distance": 10676,
          "load": [
            12
          ],
          "activities": [
            {
              "jobId": "job22",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4945572,
            "lng": 13.4698049
          },
          "time": {
            "arrival": "1970-01-01T00:25:09Z",
            "departure": "1970-01-01T00:28:09Z"
          },
          "distance": 13291,
          "load": [
            11
          ],
          "activities": [
            {
              "jobId": "job10",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4989511,
            "lng": 13.4740528
          },
          "time": {
            "arrival": "1970-01-01T00:29:06Z",
            "departure": "1970-01-01T00:32:06Z"
          },
          "distance": 13859,
          "load": [
            10
          ],
          "activities": [
            {
              "jobId": "job11",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5058684,
            "lng": 13.475099
          },
          "time": {
            "arrival": "1970-01-01T00:33:23Z",
            "departure": "1970-01-01T00:36:23Z"
          },
          "distance": 14632,
          "load": [
            9
          ],
          "activities": [
            {
              "jobId": "job17",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5243421,
            "lng": 13.4619776
          },
          "time": {
            "arrival": "1970-01-01T00:40:07Z",
            "departure": "1970-01-01T00:43:07Z"
          },
          "distance": 16872,
          "load": [
            8
          ],
          "activities": [
            {
              "jobId": "job4",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5228904,
            "lng": 13.4418623
          },
          "time": {
            "arrival": "1970-01-01T00:45:24Z",
            "departure": "1970-01-01T00:48:24Z"
          },
          "distance": 18244,
          "load": [
            7
          ],
          "activities": [
            {
              "jobId": "job21",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5431264,
            "lng": 13.4416407
          },
          "time": {
            "arrival": "1970-01-01T00:52:09Z",
            "departure": "1970-01-01T00:55:09Z"
          },
          "distance": 20497,
          "load": [
            6
          ],
          "activities": [
            {
              "jobId": "job34",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5496702,
            "lng": 13.4286263
          },
          "time": {
            "arrival": "1970-01-01T00:57:03Z",
            "departure": "1970-01-01T01:00:03Z"
          },
          "distance": 21640,
          "load": [
            5
          ],
          "activities": [
            {
              "jobId": "job16",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5614441,
            "lng": 13.4194712
          },
          "time": {
            "arrival": "1970-01-01T01:02:28Z",
            "departure": "1970-01-01T01:05:28Z"
          },
          "distance": 23090,
          "load": [
            4
          ],
          "activities": [
            {
              "jobId": "job43",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5678751,
            "lng": 13.4231417
          },
          "time": {
            "arrival": "1970-01-01T01:06:44Z",
            "departure": "1970-01-01T01:09:44Z"
          },
          "distance": 23848,
          "load": [
            3
          ],
          "activities": [
            {
              "jobId": "job9",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5697304,
            "lng": 13.3848221
          },
          "time": {
            "arrival": "1970-01-01T01:14:04Z",
            "departure": "1970-01-01T01:17:04Z"
          },
          "distance": 26449,
          "load": [
            2
          ],
          "activities": [
            {
              "jobId": "job1",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5685168,
            "lng": 13.369072
          },
          "time": {
            "arrival": "1970-01-01T01:18:51Z",
            "departure": "1970-01-01T01:21:51Z"
          },
          "distance": 27523,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "job13",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5291335,
            "lng": 13.3668934
          },
          "time": {
            "arrival": "1970-01-01T01:29:10Z",
            "departure": "1970-01-01T01:32:10Z"
          },
          "distance": 31910,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "job23",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4664257,
            "lng": 13.2812488
          },
          "time": {
            "arrival": "1970-01-01T01:47:18Z",
            "departure": "1970-01-01T01:47:18Z"
          },
          "distance": 40988,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "arrival",
              "type": "arrival"
            }
          ]
        }
      ],
      "statistic": {
        "cost": 60.38759999999999,
        "distance": 40988,
        "duration": 6438,
        "times": {
          "driving": 4098,
          "serving": 2340,
          "waiting": 0,
          "break": 0
        }
      }
    },
    {
      "vehicleId": "vehicle_5",
      "typeId": "vehicle",
      "shiftIndex": 0,
      "stops": [
        {
          "location": {
            "lat": 52.4664257,
            "lng": 13.2812488
          },
          "time": {
            "arrival": "1970-01-01T00:00:00Z",
            "departure": "1970-01-01T00:00:00Z"
          },
          "distance": 0,
          "load": [
            13
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4658835,
            "lng": 13.4461224
          },
          "time": {
            "arrival": "1970-01-01T00:18:38Z",
            "departure": "1970-01-01T00:21:38Z"
          },
          "distance": 11182,
          "load": [
            12
          ],
          "activities": [
            {
              "jobId": "job12",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4629002,
            "lng": 13.4757055
          },
          "time": {
            "arrival": "1970-01-01T00:25:01Z",
            "departure": "1970-01-01T00:28:01Z"
          },
          "distance": 13216,
          "load": [
            11
          ],
          "activities": [
            {
              "jobId": "job5",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4695374,
            "lng": 13.4914662
          },
          "time": {
            "arrival": "1970-01-01T00:30:11Z",
            "departure": "1970-01-01T00:33:11Z"
          },
          "distance": 14515,
          "load": [
            10
          ],
          "activities": [
            {
              "jobId": "job30",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4871049,
            "lng": 13.5423247
          },
          "time": {
            "arrival": "1970-01-01T00:39:47Z",
            "departure": "1970-01-01T00:42:47Z"
          },
          "distance": 18479,
          "load": [
            9
          ],
          "activities": [
            {
              "jobId": "job42",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4917198,
            "lng": 13.5251532
          },
          "time": {
            "arrival": "1970-01-01T00:44:54Z",
            "departure": "1970-01-01T00:47:54Z"
          },
          "distance": 19751,
          "load": [
            8
          ],
          "activities": [
            {
              "jobId": "job33",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5060419,
            "lng": 13.5152641
          },
          "time": {
            "arrival": "1970-01-01T00:50:47Z",
            "departure": "1970-01-01T00:53:47Z"
          },
          "distance": 21480,
          "load": [
            7
          ],
          "activities": [
            {
              "jobId": "job2",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5276784,
            "lng": 13.546564
          },
          "time": {
            "arrival": "1970-01-01T00:59:08Z",
            "departure": "1970-01-01T01:02:08Z"
          },
          "distance": 24689,
          "load": [
            6
          ],
          "activities": [
            {
              "jobId": "job19",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5414557,
            "lng": 13.527639
          },
          "time": {
            "arrival": "1970-01-01T01:05:28Z",
            "departure": "1970-01-01T01:08:28Z"
          },
          "distance": 26688,
          "load": [
            5
          ],
          "activities": [
            {
              "jobId": "job44",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5421315,
            "lng": 13.5189513
          },
          "time": {
            "arrival": "1970-01-01T01:09:27Z",
            "departure": "1970-01-01T01:12:27Z"
          },
          "distance": 27281,
          "load": [
            4
          ],
          "activities": [
            {
              "jobId": "job3",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5426716,
            "lng": 13.5161692
          },
          "time": {
            "arrival": "1970-01-01T01:12:47Z",
            "departure": "1970-01-01T01:15:47Z"
          },
          "distance": 27479,
          "load": [
            3
          ],
          "activities": [
            {
              "jobId": "job35",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5261554,
            "lng": 13.5062954
          },
          "time": {
            "arrival": "1970-01-01T01:19:03Z",
            "departure": "1970-01-01T01:22:03Z"
          },
          "distance": 29435,
          "load": [
            2
          ],
          "activities": [
            {
              "jobId": "job24",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5279215,
            "lng": 13.4995315
          },
          "time": {
            "arrival": "1970-01-01T01:22:53Z",
            "departure": "1970-01-01T01:25:53Z"
          },
          "distance": 29933,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "job49",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5090143,
            "lng": 13.4368189
          },
          "time": {
            "arrival": "1970-01-01T01:33:47Z",
            "departure": "1970-01-01T01:36:47Z"
          },
          "distance": 34674,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "job26",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4664257,
            "lng": 13.2812488
          },
          "time": {
            "arrival": "1970-01-01T01:56:03Z",
            "departure": "1970-01-01T01:56:03Z"
          },
          "distance": 46236,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "arrival",
              "type": "arrival"
            }
          ]
        }
      ],
      "statistic": {
        "cost": 64.06219999999999,
        "distance": 46236,
        "duration": 6963,
        "times": {
          "driving": 4623,
          "serving": 2340,
          "waiting": 0,
          "break": 0
        }
      }
    }
  ],
  "unassigned": []
}
</code></pre>
</p></details>
</br>
<div id="geojson" hidden>
{
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {
        "arrival": "1970-01-01T00:00:00Z",
        "jobs_ids": "departure",
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "stop_idx": "0",
        "departure": "1970-01-01T00:00:00Z",
        "tour_idx": "0",
        "marker-symbol": "warehouse"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "1",
        "departure": "1970-01-01T00:07:56Z",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "tour_idx": "0",
        "arrival": "1970-01-01T00:04:56Z",
        "jobs_ids": "job40",
        "marker-color": "#e6194b"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3157235,
          52.4827319
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job31",
        "departure": "1970-01-01T00:13:17Z",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "stop_idx": "2",
        "arrival": "1970-01-01T00:10:17Z",
        "tour_idx": "0",
        "marker-color": "#e6194b"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3353656,
          52.4868236
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "marker-color": "#e6194b",
        "tour_idx": "0",
        "marker-size": "medium",
        "arrival": "1970-01-01T00:15:59Z",
        "departure": "1970-01-01T00:18:59Z",
        "jobs_ids": "job50",
        "stop_idx": "3"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3539713,
          52.4959052
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "departure": "1970-01-01T00:24:36Z",
        "arrival": "1970-01-01T00:21:36Z",
        "jobs_ids": "job28",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "stop_idx": "4",
        "marker-color": "#e6194b",
        "tour_idx": "0"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3689955,
          52.5065998
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "0",
        "marker-symbol": "marker",
        "arrival": "1970-01-01T00:27:11Z",
        "jobs_ids": "job27",
        "marker-size": "medium",
        "stop_idx": "5",
        "marker-color": "#e6194b",
        "departure": "1970-01-01T00:30:11Z"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3788834,
          52.4940454
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "arrival": "1970-01-01T00:31:40Z",
        "stop_idx": "6",
        "jobs_ids": "job6",
        "tour_idx": "0",
        "departure": "1970-01-01T00:34:40Z",
        "marker-size": "medium",
        "marker-color": "#e6194b"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3915876,
          52.4960479
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "7",
        "tour_idx": "0",
        "arrival": "1970-01-01T00:36:50Z",
        "jobs_ids": "job48",
        "departure": "1970-01-01T00:39:50Z",
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "marker-symbol": "marker"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3832067,
          52.4855438
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "jobs_ids": "job37",
        "tour_idx": "0",
        "arrival": "1970-01-01T00:42:04Z",
        "departure": "1970-01-01T00:45:04Z",
        "stop_idx": "8"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.38667,
          52.4737341
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#e6194b",
        "jobs_ids": "job14",
        "arrival": "1970-01-01T00:47:46Z",
        "marker-size": "medium",
        "departure": "1970-01-01T00:50:46Z",
        "tour_idx": "0",
        "stop_idx": "9",
        "marker-symbol": "marker"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3628588,
          52.4742821
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "10",
        "arrival": "1970-01-01T00:51:29Z",
        "marker-symbol": "marker",
        "departure": "1970-01-01T00:54:29Z",
        "marker-color": "#e6194b",
        "tour_idx": "0",
        "jobs_ids": "job36",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3598752,
          52.4708241
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "arrival": "1970-01-01T00:57:37Z",
        "tour_idx": "0",
        "jobs_ids": "job41",
        "stop_idx": "11",
        "marker-size": "medium",
        "departure": "1970-01-01T01:00:37Z",
        "marker-color": "#e6194b",
        "marker-symbol": "marker"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3321906,
          52.4711004
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#e6194b",
        "arrival": "1970-01-01T01:02:02Z",
        "departure": "1970-01-01T01:05:02Z",
        "tour_idx": "0",
        "stop_idx": "12",
        "marker-symbol": "marker",
        "jobs_ids": "job32",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.322692,
          52.4661617
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "warehouse",
        "stop_idx": "13",
        "arrival": "1970-01-01T01:09:43Z",
        "marker-size": "medium",
        "tour_idx": "0",
        "departure": "1970-01-01T01:09:43Z",
        "jobs_ids": "arrival",
        "marker-color": "#e6194b"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "stop_idx": "0",
        "departure": "1970-01-01T00:00:00Z",
        "marker-color": "#808080",
        "jobs_ids": "departure",
        "marker-symbol": "warehouse",
        "arrival": "1970-01-01T00:00:00Z",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "1",
        "jobs_ids": "job25",
        "marker-size": "medium",
        "departure": "1970-01-01T00:18:36Z",
        "marker-color": "#808080",
        "tour_idx": "1",
        "arrival": "1970-01-01T00:15:36Z",
        "marker-symbol": "marker"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3890068,
          52.5189653
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#808080",
        "marker-symbol": "marker",
        "tour_idx": "1",
        "jobs_ids": "job7",
        "departure": "1970-01-01T00:25:12Z",
        "marker-size": "medium",
        "arrival": "1970-01-01T00:22:12Z",
        "stop_idx": "2"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3996298,
          52.5372914
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "marker-symbol": "marker",
        "stop_idx": "3",
        "departure": "1970-01-01T00:30:05Z",
        "marker-color": "#808080",
        "jobs_ids": "job45",
        "tour_idx": "1",
        "arrival": "1970-01-01T00:27:05Z"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4139155,
          52.5425207
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "stop_idx": "4",
        "departure": "1970-01-01T00:34:46Z",
        "marker-size": "medium",
        "arrival": "1970-01-01T00:31:46Z",
        "jobs_ids": "job8",
        "marker-color": "#808080",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3989552,
          52.5429597
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "arrival": "1970-01-01T00:35:44Z",
        "stop_idx": "5",
        "tour_idx": "1",
        "jobs_ids": "job38",
        "marker-symbol": "marker",
        "marker-color": "#808080",
        "marker-size": "medium",
        "departure": "1970-01-01T00:38:44Z"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3914127,
          52.5404107
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "6",
        "jobs_ids": "job29",
        "marker-color": "#808080",
        "arrival": "1970-01-01T00:41:09Z",
        "tour_idx": "1",
        "departure": "1970-01-01T00:44:09Z",
        "marker-size": "medium",
        "marker-symbol": "marker"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3733163,
          52.547349
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job39",
        "marker-symbol": "marker",
        "marker-size": "medium",
        "arrival": "1970-01-01T00:44:43Z",
        "departure": "1970-01-01T00:47:43Z",
        "stop_idx": "7",
        "marker-color": "#808080",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.369356,
          52.5492619
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#808080",
        "departure": "1970-01-01T00:54:51Z",
        "jobs_ids": "job18",
        "tour_idx": "1",
        "arrival": "1970-01-01T00:51:51Z",
        "stop_idx": "8",
        "marker-symbol": "marker",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3327894,
          52.5473416
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "1",
        "departure": "1970-01-01T01:02:34Z",
        "stop_idx": "9",
        "arrival": "1970-01-01T00:59:34Z",
        "marker-color": "#808080",
        "marker-symbol": "marker",
        "jobs_ids": "job15",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3027992,
          52.5650163
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "arrival": "1970-01-01T01:03:37Z",
        "jobs_ids": "job46",
        "departure": "1970-01-01T01:06:37Z",
        "marker-symbol": "marker",
        "marker-color": "#808080",
        "marker-size": "medium",
        "stop_idx": "10",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2940051,
          52.5632095
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "departure": "1970-01-01T01:17:52Z",
        "marker-size": "medium",
        "tour_idx": "1",
        "arrival": "1970-01-01T01:14:52Z",
        "marker-color": "#808080",
        "jobs_ids": "job20",
        "stop_idx": "11"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.304444,
          52.5192039
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "arrival": "1970-01-01T01:20:11Z",
        "tour_idx": "1",
        "marker-size": "medium",
        "departure": "1970-01-01T01:23:11Z",
        "stop_idx": "12",
        "jobs_ids": "job47",
        "marker-symbol": "marker",
        "marker-color": "#808080"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2852959,
          52.5146285
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "13",
        "marker-color": "#808080",
        "tour_idx": "1",
        "marker-symbol": "warehouse",
        "departure": "1970-01-01T01:32:08Z",
        "jobs_ids": "arrival",
        "arrival": "1970-01-01T01:32:08Z",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "warehouse",
        "stop_idx": "0",
        "arrival": "1970-01-01T00:00:00Z",
        "tour_idx": "2",
        "departure": "1970-01-01T00:00:00Z",
        "marker-size": "medium",
        "marker-color": "#000075",
        "jobs_ids": "departure"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "arrival": "1970-01-01T00:17:48Z",
        "jobs_ids": "job22",
        "marker-symbol": "marker",
        "stop_idx": "1",
        "marker-color": "#000075",
        "tour_idx": "2",
        "departure": "1970-01-01T00:20:48Z",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4363713,
          52.4828453
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job10",
        "departure": "1970-01-01T00:28:09Z",
        "stop_idx": "2",
        "tour_idx": "2",
        "marker-symbol": "marker",
        "marker-size": "medium",
        "arrival": "1970-01-01T00:25:09Z",
        "marker-color": "#000075"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4698049,
          52.4945572
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#000075",
        "jobs_ids": "job11",
        "marker-size": "medium",
        "stop_idx": "3",
        "departure": "1970-01-01T00:32:06Z",
        "marker-symbol": "marker",
        "arrival": "1970-01-01T00:29:06Z",
        "tour_idx": "2"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4740528,
          52.4989511
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "departure": "1970-01-01T00:36:23Z",
        "tour_idx": "2",
        "arrival": "1970-01-01T00:33:23Z",
        "marker-symbol": "marker",
        "jobs_ids": "job17",
        "marker-size": "medium",
        "marker-color": "#000075",
        "stop_idx": "4"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.475099,
          52.5058684
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "2",
        "departure": "1970-01-01T00:43:07Z",
        "arrival": "1970-01-01T00:40:07Z",
        "stop_idx": "5",
        "marker-color": "#000075",
        "marker-symbol": "marker",
        "jobs_ids": "job4",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4619776,
          52.5243421
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "stop_idx": "6",
        "marker-color": "#000075",
        "departure": "1970-01-01T00:48:24Z",
        "marker-size": "medium",
        "tour_idx": "2",
        "jobs_ids": "job21",
        "arrival": "1970-01-01T00:45:24Z"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4418623,
          52.5228904
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "7",
        "marker-size": "medium",
        "jobs_ids": "job34",
        "marker-color": "#000075",
        "departure": "1970-01-01T00:55:09Z",
        "marker-symbol": "marker",
        "arrival": "1970-01-01T00:52:09Z",
        "tour_idx": "2"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4416407,
          52.5431264
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "marker-symbol": "marker",
        "jobs_ids": "job16",
        "stop_idx": "8",
        "marker-color": "#000075",
        "tour_idx": "2",
        "arrival": "1970-01-01T00:57:03Z",
        "departure": "1970-01-01T01:00:03Z"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4286263,
          52.5496702
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "tour_idx": "2",
        "jobs_ids": "job43",
        "marker-size": "medium",
        "marker-color": "#000075",
        "stop_idx": "9",
        "departure": "1970-01-01T01:05:28Z",
        "arrival": "1970-01-01T01:02:28Z"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4194712,
          52.5614441
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job9",
        "marker-color": "#000075",
        "tour_idx": "2",
        "arrival": "1970-01-01T01:06:44Z",
        "departure": "1970-01-01T01:09:44Z",
        "marker-symbol": "marker",
        "marker-size": "medium",
        "stop_idx": "10"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4231417,
          52.5678751
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job1",
        "tour_idx": "2",
        "stop_idx": "11",
        "marker-color": "#000075",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "arrival": "1970-01-01T01:14:04Z",
        "departure": "1970-01-01T01:17:04Z"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3848221,
          52.5697304
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "tour_idx": "2",
        "marker-symbol": "marker",
        "stop_idx": "12",
        "departure": "1970-01-01T01:21:51Z",
        "jobs_ids": "job13",
        "marker-color": "#000075",
        "arrival": "1970-01-01T01:18:51Z"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.369072,
          52.5685168
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "marker-size": "medium",
        "tour_idx": "2",
        "stop_idx": "13",
        "arrival": "1970-01-01T01:29:10Z",
        "jobs_ids": "job23",
        "departure": "1970-01-01T01:32:10Z",
        "marker-color": "#000075"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3668934,
          52.5291335
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "arrival",
        "marker-symbol": "warehouse",
        "stop_idx": "14",
        "tour_idx": "2",
        "departure": "1970-01-01T01:47:18Z",
        "marker-color": "#000075",
        "marker-size": "medium",
        "arrival": "1970-01-01T01:47:18Z"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "departure",
        "stop_idx": "0",
        "departure": "1970-01-01T00:00:00Z",
        "marker-color": "#808000",
        "marker-size": "medium",
        "arrival": "1970-01-01T00:00:00Z",
        "marker-symbol": "warehouse",
        "tour_idx": "3"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "3",
        "departure": "1970-01-01T00:21:38Z",
        "marker-color": "#808000",
        "marker-symbol": "marker",
        "stop_idx": "1",
        "arrival": "1970-01-01T00:18:38Z",
        "marker-size": "medium",
        "jobs_ids": "job12"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4461224,
          52.4658835
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "departure": "1970-01-01T00:28:01Z",
        "marker-color": "#808000",
        "stop_idx": "2",
        "arrival": "1970-01-01T00:25:01Z",
        "marker-size": "medium",
        "tour_idx": "3",
        "jobs_ids": "job5"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4757055,
          52.4629002
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "departure": "1970-01-01T00:33:11Z",
        "jobs_ids": "job30",
        "stop_idx": "3",
        "marker-color": "#808000",
        "arrival": "1970-01-01T00:30:11Z",
        "tour_idx": "3",
        "marker-symbol": "marker"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4914662,
          52.4695374
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#808000",
        "marker-symbol": "marker",
        "tour_idx": "3",
        "marker-size": "medium",
        "arrival": "1970-01-01T00:39:47Z",
        "departure": "1970-01-01T00:42:47Z",
        "jobs_ids": "job42",
        "stop_idx": "4"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5423247,
          52.4871049
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "arrival": "1970-01-01T00:44:54Z",
        "tour_idx": "3",
        "stop_idx": "5",
        "marker-color": "#808000",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "departure": "1970-01-01T00:47:54Z",
        "jobs_ids": "job33"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5251532,
          52.4917198
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "3",
        "departure": "1970-01-01T00:53:47Z",
        "marker-symbol": "marker",
        "marker-color": "#808000",
        "stop_idx": "6",
        "marker-size": "medium",
        "arrival": "1970-01-01T00:50:47Z",
        "jobs_ids": "job2"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5152641,
          52.5060419
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "stop_idx": "7",
        "tour_idx": "3",
        "departure": "1970-01-01T01:02:08Z",
        "marker-color": "#808000",
        "marker-symbol": "marker",
        "arrival": "1970-01-01T00:59:08Z",
        "jobs_ids": "job19"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.546564,
          52.5276784
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job44",
        "marker-symbol": "marker",
        "departure": "1970-01-01T01:08:28Z",
        "marker-size": "medium",
        "stop_idx": "8",
        "tour_idx": "3",
        "marker-color": "#808000",
        "arrival": "1970-01-01T01:05:28Z"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.527639,
          52.5414557
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "departure": "1970-01-01T01:12:27Z",
        "stop_idx": "9",
        "marker-symbol": "marker",
        "jobs_ids": "job3",
        "tour_idx": "3",
        "arrival": "1970-01-01T01:09:27Z",
        "marker-color": "#808000",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5189513,
          52.5421315
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#808000",
        "stop_idx": "10",
        "marker-size": "medium",
        "jobs_ids": "job35",
        "tour_idx": "3",
        "departure": "1970-01-01T01:15:47Z",
        "marker-symbol": "marker",
        "arrival": "1970-01-01T01:12:47Z"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5161692,
          52.5426716
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "11",
        "departure": "1970-01-01T01:22:03Z",
        "arrival": "1970-01-01T01:19:03Z",
        "marker-symbol": "marker",
        "jobs_ids": "job24",
        "marker-color": "#808000",
        "marker-size": "medium",
        "tour_idx": "3"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5062954,
          52.5261554
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#808000",
        "marker-symbol": "marker",
        "tour_idx": "3",
        "stop_idx": "12",
        "jobs_ids": "job49",
        "departure": "1970-01-01T01:25:53Z",
        "arrival": "1970-01-01T01:22:53Z",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4995315,
          52.5279215
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "marker-symbol": "marker",
        "marker-color": "#808000",
        "jobs_ids": "job26",
        "tour_idx": "3",
        "stop_idx": "13",
        "arrival": "1970-01-01T01:33:47Z",
        "departure": "1970-01-01T01:36:47Z"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4368189,
          52.5090143
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "departure": "1970-01-01T01:56:03Z",
        "marker-size": "medium",
        "marker-symbol": "warehouse",
        "jobs_ids": "arrival",
        "stop_idx": "14",
        "arrival": "1970-01-01T01:56:03Z",
        "marker-color": "#808000",
        "tour_idx": "3"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stroke": "#e6194b",
        "departure": "1970-01-01T00:00:00Z",
        "tour_idx": "0",
        "activities": "14",
        "vehicle_id": "vehicle_1",
        "shift_idx": "0",
        "arrival": "1970-01-01T01:09:43Z",
        "distance": "20210",
        "stroke-width": "4"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.2812488,
            52.4664257
          ],
          [
            13.3157235,
            52.4827319
          ],
          [
            13.3353656,
            52.4868236
          ],
          [
            13.3539713,
            52.4959052
          ],
          [
            13.3689955,
            52.5065998
          ],
          [
            13.3788834,
            52.4940454
          ],
          [
            13.3915876,
            52.4960479
          ],
          [
            13.3832067,
            52.4855438
          ],
          [
            13.38667,
            52.4737341
          ],
          [
            13.3628588,
            52.4742821
          ],
          [
            13.3598752,
            52.4708241
          ],
          [
            13.3321906,
            52.4711004
          ],
          [
            13.322692,
            52.4661617
          ],
          [
            13.2812488,
            52.4664257
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "distance": "33692",
        "stroke": "#3cb44b",
        "shift_idx": "0",
        "activities": "14",
        "stroke-width": "4",
        "vehicle_id": "vehicle_3",
        "tour_idx": "1",
        "departure": "1970-01-01T00:00:00Z",
        "arrival": "1970-01-01T01:32:08Z"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.2812488,
            52.4664257
          ],
          [
            13.3890068,
            52.5189653
          ],
          [
            13.3996298,
            52.5372914
          ],
          [
            13.4139155,
            52.5425207
          ],
          [
            13.3989552,
            52.5429597
          ],
          [
            13.3914127,
            52.5404107
          ],
          [
            13.3733163,
            52.547349
          ],
          [
            13.369356,
            52.5492619
          ],
          [
            13.3327894,
            52.5473416
          ],
          [
            13.3027992,
            52.5650163
          ],
          [
            13.2940051,
            52.5632095
          ],
          [
            13.304444,
            52.5192039
          ],
          [
            13.2852959,
            52.5146285
          ],
          [
            13.2812488,
            52.4664257
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stroke-width": "4",
        "shift_idx": "0",
        "vehicle_id": "vehicle_4",
        "distance": "40988",
        "tour_idx": "2",
        "arrival": "1970-01-01T01:47:18Z",
        "departure": "1970-01-01T00:00:00Z",
        "stroke": "#4363d8",
        "activities": "15"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.2812488,
            52.4664257
          ],
          [
            13.4363713,
            52.4828453
          ],
          [
            13.4698049,
            52.4945572
          ],
          [
            13.4740528,
            52.4989511
          ],
          [
            13.475099,
            52.5058684
          ],
          [
            13.4619776,
            52.5243421
          ],
          [
            13.4418623,
            52.5228904
          ],
          [
            13.4416407,
            52.5431264
          ],
          [
            13.4286263,
            52.5496702
          ],
          [
            13.4194712,
            52.5614441
          ],
          [
            13.4231417,
            52.5678751
          ],
          [
            13.3848221,
            52.5697304
          ],
          [
            13.369072,
            52.5685168
          ],
          [
            13.3668934,
            52.5291335
          ],
          [
            13.2812488,
            52.4664257
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "3",
        "activities": "15",
        "distance": "46236",
        "arrival": "1970-01-01T01:56:03Z",
        "vehicle_id": "vehicle_5",
        "shift_idx": "0",
        "stroke-width": "4",
        "departure": "1970-01-01T00:00:00Z",
        "stroke": "#f58231"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.2812488,
            52.4664257
          ],
          [
            13.4461224,
            52.4658835
          ],
          [
            13.4757055,
            52.4629002
          ],
          [
            13.4914662,
            52.4695374
          ],
          [
            13.5423247,
            52.4871049
          ],
          [
            13.5251532,
            52.4917198
          ],
          [
            13.5152641,
            52.5060419
          ],
          [
            13.546564,
            52.5276784
          ],
          [
            13.527639,
            52.5414557
          ],
          [
            13.5189513,
            52.5421315
          ],
          [
            13.5161692,
            52.5426716
          ],
          [
            13.5062954,
            52.5261554
          ],
          [
            13.4995315,
            52.5279215
          ],
          [
            13.4368189,
            52.5090143
          ],
          [
            13.2812488,
            52.4664257
          ]
        ]
      }
    }
  ]
}
</div>
<div id="map"></div>
<p>This objective balances max load across vehicles:</p>
<pre><code class="language-json">  "objectives": [
    {
      "type": "minimize-unassigned"
    },
    {
      "type": "minimize-tours"
    },
    {
      "type": "multi-objective",
      "strategy": {
        "name": "sum"
      },
      "objectives": [
        {
          "type": "minimize-cost"
        },
        {
          "type": "balance-max-load"
        }
      ]
    }
  ]
</code></pre>
<p>As <code>minimize-tours</code> objective is not set, all available vehicles are used serving <code>10</code> jobs per vehicle. Result total
cost is higher than for default objective.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="balance-activities-with-fleet-minimization"><a class="header" href="#balance-activities-with-fleet-minimization">Balance activities with fleet minimization</a></h1>
<details>
    <summary>Problem</summary><p>
<pre><code class="language-json">{
  "plan": {
    "jobs": [
      {
        "id": "job1",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5697304,
                  "lng": 13.3848221
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job2",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5060419,
                  "lng": 13.5152641
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job3",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5421315,
                  "lng": 13.5189513
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job4",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5243421,
                  "lng": 13.4619776
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job5",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4629002,
                  "lng": 13.4757055
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job6",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4960479,
                  "lng": 13.3915876
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job7",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5372914,
                  "lng": 13.3996298
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job8",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5429597,
                  "lng": 13.3989552
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job9",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5678751,
                  "lng": 13.4231417
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job10",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4945572,
                  "lng": 13.4698049
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job11",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4989511,
                  "lng": 13.4740528
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job12",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4658835,
                  "lng": 13.4461224
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job13",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5685168,
                  "lng": 13.3690720
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job14",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4742821,
                  "lng": 13.3628588
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job15",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5650163,
                  "lng": 13.3027992
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job16",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5496702,
                  "lng": 13.4286263
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job17",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5058684,
                  "lng": 13.4750990
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job18",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5473416,
                  "lng": 13.3327894
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job19",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5276784,
                  "lng": 13.5465640
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job20",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5192039,
                  "lng": 13.3044440
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job21",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5228904,
                  "lng": 13.4418623
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job22",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4828453,
                  "lng": 13.4363713
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job23",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5291335,
                  "lng": 13.3668934
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job24",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5261554,
                  "lng": 13.5062954
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job25",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5189653,
                  "lng": 13.3890068
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job26",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5090143,
                  "lng": 13.4368189
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job27",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4940454,
                  "lng": 13.3788834
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job28",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5065998,
                  "lng": 13.3689955
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job29",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5473490,
                  "lng": 13.3733163
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job30",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4695374,
                  "lng": 13.4914662
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job31",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4868236,
                  "lng": 13.3353656
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job32",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4661617,
                  "lng": 13.3226920
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job33",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4917198,
                  "lng": 13.5251532
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job34",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5431264,
                  "lng": 13.4416407
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job35",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5426716,
                  "lng": 13.5161692
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job36",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4708241,
                  "lng": 13.3598752
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job37",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4737341,
                  "lng": 13.3866700
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job38",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5404107,
                  "lng": 13.3914127
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job39",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5492619,
                  "lng": 13.3693560
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job40",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4827319,
                  "lng": 13.3157235
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job41",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4711004,
                  "lng": 13.3321906
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job42",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4871049,
                  "lng": 13.5423247
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job43",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5614441,
                  "lng": 13.4194712
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job44",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5414557,
                  "lng": 13.5276390
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job45",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5425207,
                  "lng": 13.4139155
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job46",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5632095,
                  "lng": 13.2940051
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job47",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5146285,
                  "lng": 13.2852959
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job48",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4855438,
                  "lng": 13.3832067
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job49",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5279215,
                  "lng": 13.4995315
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job50",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4959052,
                  "lng": 13.3539713
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      }
    ]
  },
  "fleet": {
    "vehicles": [
      {
        "typeId": "vehicle",
        "vehicleIds": [
          "vehicle_1",
          "vehicle_2",
          "vehicle_3",
          "vehicle_4",
          "vehicle_5"
        ],
        "profile": {
          "matrix": "car"
        },
        "costs": {
          "fixed": 20.0,
          "distance": 0.0002,
          "time": 0.005
        },
        "shifts": [
          {
            "start": {
              "earliest": "1970-01-01T00:00:00Z",
              "location": {
                "lat": 52.4664257,
                "lng": 13.2812488
              }
            },
            "end": {
              "latest": "1970-01-01T23:59:00Z",
              "location": {
                "lat": 52.4664257,
                "lng": 13.2812488
              }
            }
          }
        ],
        "capacity": [
          20
        ]
      }
    ],
    "profiles": [
      {
        "name": "car"
      }
    ]
  },
  "objectives": [
    {
      "type": "minimize-unassigned"
    },
    {
      "type": "minimize-tours"
    },
    {
      "type": "multi-objective",
      "strategy": {
        "name": "sum"
      },
      "objectives": [
        {
          "type": "minimize-cost"
        },
        {
          "type": "balance-activities"
        }
      ]
    }
  ]
}
</code></pre>
</p></details>
<details>
    <summary>Solution</summary><p>
<pre><code class="language-json">{
  "statistic": {
    "cost": 189.47459999999995,
    "distance": 120698,
    "duration": 21067,
    "times": {
      "driving": 12067,
      "serving": 9000,
      "waiting": 0,
      "break": 0
    }
  },
  "tours": [
    {
      "vehicleId": "vehicle_1",
      "typeId": "vehicle",
      "shiftIndex": 0,
      "stops": [
        {
          "location": {
            "lat": 52.4664257,
            "lng": 13.2812488
          },
          "time": {
            "arrival": "1970-01-01T00:00:00Z",
            "departure": "1970-01-01T00:00:00Z"
          },
          "distance": 0,
          "load": [
            16
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4827319,
            "lng": 13.3157235
          },
          "time": {
            "arrival": "1970-01-01T00:04:56Z",
            "departure": "1970-01-01T00:07:56Z"
          },
          "distance": 2960,
          "load": [
            15
          ],
          "activities": [
            {
              "jobId": "job40",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4868236,
            "lng": 13.3353656
          },
          "time": {
            "arrival": "1970-01-01T00:10:17Z",
            "departure": "1970-01-01T00:13:17Z"
          },
          "distance": 4367,
          "load": [
            14
          ],
          "activities": [
            {
              "jobId": "job31",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4959052,
            "lng": 13.3539713
          },
          "time": {
            "arrival": "1970-01-01T00:15:59Z",
            "departure": "1970-01-01T00:18:59Z"
          },
          "distance": 5983,
          "load": [
            13
          ],
          "activities": [
            {
              "jobId": "job50",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5065998,
            "lng": 13.3689955
          },
          "time": {
            "arrival": "1970-01-01T00:21:36Z",
            "departure": "1970-01-01T00:24:36Z"
          },
          "distance": 7549,
          "load": [
            12
          ],
          "activities": [
            {
              "jobId": "job28",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5291335,
            "lng": 13.3668934
          },
          "time": {
            "arrival": "1970-01-01T00:28:47Z",
            "departure": "1970-01-01T00:31:47Z"
          },
          "distance": 10061,
          "load": [
            11
          ],
          "activities": [
            {
              "jobId": "job23",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5404107,
            "lng": 13.3914127
          },
          "time": {
            "arrival": "1970-01-01T00:35:15Z",
            "departure": "1970-01-01T00:38:15Z"
          },
          "distance": 12142,
          "load": [
            10
          ],
          "activities": [
            {
              "jobId": "job38",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5429597,
            "lng": 13.3989552
          },
          "time": {
            "arrival": "1970-01-01T00:39:13Z",
            "departure": "1970-01-01T00:42:13Z"
          },
          "distance": 12726,
          "load": [
            9
          ],
          "activities": [
            {
              "jobId": "job8",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5425207,
            "lng": 13.4139155
          },
          "time": {
            "arrival": "1970-01-01T00:43:54Z",
            "departure": "1970-01-01T00:46:54Z"
          },
          "distance": 13740,
          "load": [
            8
          ],
          "activities": [
            {
              "jobId": "job45",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5372914,
            "lng": 13.3996298
          },
          "time": {
            "arrival": "1970-01-01T00:48:47Z",
            "departure": "1970-01-01T00:51:47Z"
          },
          "distance": 14869,
          "load": [
            7
          ],
          "activities": [
            {
              "jobId": "job7",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5189653,
            "lng": 13.3890068
          },
          "time": {
            "arrival": "1970-01-01T00:55:23Z",
            "departure": "1970-01-01T00:58:23Z"
          },
          "distance": 17032,
          "load": [
            6
          ],
          "activities": [
            {
              "jobId": "job25",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4940454,
            "lng": 13.3788834
          },
          "time": {
            "arrival": "1970-01-01T01:03:09Z",
            "departure": "1970-01-01T01:06:09Z"
          },
          "distance": 19890,
          "load": [
            5
          ],
          "activities": [
            {
              "jobId": "job27",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4855438,
            "lng": 13.3832067
          },
          "time": {
            "arrival": "1970-01-01T01:07:48Z",
            "departure": "1970-01-01T01:10:48Z"
          },
          "distance": 20881,
          "load": [
            4
          ],
          "activities": [
            {
              "jobId": "job48",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4742821,
            "lng": 13.3628588
          },
          "time": {
            "arrival": "1970-01-01T01:13:54Z",
            "departure": "1970-01-01T01:16:54Z"
          },
          "distance": 22745,
          "load": [
            3
          ],
          "activities": [
            {
              "jobId": "job14",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4708241,
            "lng": 13.3598752
          },
          "time": {
            "arrival": "1970-01-01T01:17:37Z",
            "departure": "1970-01-01T01:20:37Z"
          },
          "distance": 23180,
          "load": [
            2
          ],
          "activities": [
            {
              "jobId": "job36",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4711004,
            "lng": 13.3321906
          },
          "time": {
            "arrival": "1970-01-01T01:23:45Z",
            "departure": "1970-01-01T01:26:45Z"
          },
          "distance": 25058,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "job41",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4661617,
            "lng": 13.322692
          },
          "time": {
            "arrival": "1970-01-01T01:28:10Z",
            "departure": "1970-01-01T01:31:10Z"
          },
          "distance": 25905,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "job32",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4664257,
            "lng": 13.2812488
          },
          "time": {
            "arrival": "1970-01-01T01:35:51Z",
            "departure": "1970-01-01T01:35:51Z"
          },
          "distance": 28716,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "arrival",
              "type": "arrival"
            }
          ]
        }
      ],
      "statistic": {
        "cost": 54.49819999999999,
        "distance": 28716,
        "duration": 5751,
        "times": {
          "driving": 2871,
          "serving": 2880,
          "waiting": 0,
          "break": 0
        }
      }
    },
    {
      "vehicleId": "vehicle_3",
      "typeId": "vehicle",
      "shiftIndex": 0,
      "stops": [
        {
          "location": {
            "lat": 52.4664257,
            "lng": 13.2812488
          },
          "time": {
            "arrival": "1970-01-01T00:00:00Z",
            "departure": "1970-01-01T00:00:00Z"
          },
          "distance": 0,
          "load": [
            17
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4960479,
            "lng": 13.3915876
          },
          "time": {
            "arrival": "1970-01-01T00:13:38Z",
            "departure": "1970-01-01T00:16:38Z"
          },
          "distance": 8175,
          "load": [
            16
          ],
          "activities": [
            {
              "jobId": "job6",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5090143,
            "lng": 13.4368189
          },
          "time": {
            "arrival": "1970-01-01T00:22:17Z",
            "departure": "1970-01-01T00:25:17Z"
          },
          "distance": 11563,
          "load": [
            15
          ],
          "activities": [
            {
              "jobId": "job26",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5228904,
            "lng": 13.4418623
          },
          "time": {
            "arrival": "1970-01-01T00:27:55Z",
            "departure": "1970-01-01T00:30:55Z"
          },
          "distance": 13145,
          "load": [
            14
          ],
          "activities": [
            {
              "jobId": "job21",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5243421,
            "lng": 13.4619776
          },
          "time": {
            "arrival": "1970-01-01T00:33:12Z",
            "departure": "1970-01-01T00:36:12Z"
          },
          "distance": 14517,
          "load": [
            13
          ],
          "activities": [
            {
              "jobId": "job4",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5431264,
            "lng": 13.4416407
          },
          "time": {
            "arrival": "1970-01-01T00:40:22Z",
            "departure": "1970-01-01T00:43:22Z"
          },
          "distance": 17021,
          "load": [
            12
          ],
          "activities": [
            {
              "jobId": "job34",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5496702,
            "lng": 13.4286263
          },
          "time": {
            "arrival": "1970-01-01T00:45:16Z",
            "departure": "1970-01-01T00:48:16Z"
          },
          "distance": 18164,
          "load": [
            11
          ],
          "activities": [
            {
              "jobId": "job16",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5614441,
            "lng": 13.4194712
          },
          "time": {
            "arrival": "1970-01-01T00:50:41Z",
            "departure": "1970-01-01T00:53:41Z"
          },
          "distance": 19614,
          "load": [
            10
          ],
          "activities": [
            {
              "jobId": "job43",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5678751,
            "lng": 13.4231417
          },
          "time": {
            "arrival": "1970-01-01T00:54:57Z",
            "departure": "1970-01-01T00:57:57Z"
          },
          "distance": 20372,
          "load": [
            9
          ],
          "activities": [
            {
              "jobId": "job9",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5697304,
            "lng": 13.3848221
          },
          "time": {
            "arrival": "1970-01-01T01:02:17Z",
            "departure": "1970-01-01T01:05:17Z"
          },
          "distance": 22973,
          "load": [
            8
          ],
          "activities": [
            {
              "jobId": "job1",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5685168,
            "lng": 13.369072
          },
          "time": {
            "arrival": "1970-01-01T01:07:04Z",
            "departure": "1970-01-01T01:10:04Z"
          },
          "distance": 24047,
          "load": [
            7
          ],
          "activities": [
            {
              "jobId": "job13",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.547349,
            "lng": 13.3733163
          },
          "time": {
            "arrival": "1970-01-01T01:14:01Z",
            "departure": "1970-01-01T01:17:01Z"
          },
          "distance": 26421,
          "load": [
            6
          ],
          "activities": [
            {
              "jobId": "job29",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5492619,
            "lng": 13.369356
          },
          "time": {
            "arrival": "1970-01-01T01:17:35Z",
            "departure": "1970-01-01T01:20:35Z"
          },
          "distance": 26763,
          "load": [
            5
          ],
          "activities": [
            {
              "jobId": "job39",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5473416,
            "lng": 13.3327894
          },
          "time": {
            "arrival": "1970-01-01T01:24:43Z",
            "departure": "1970-01-01T01:27:43Z"
          },
          "distance": 29247,
          "load": [
            4
          ],
          "activities": [
            {
              "jobId": "job18",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5650163,
            "lng": 13.3027992
          },
          "time": {
            "arrival": "1970-01-01T01:32:26Z",
            "departure": "1970-01-01T01:35:26Z"
          },
          "distance": 32074,
          "load": [
            3
          ],
          "activities": [
            {
              "jobId": "job15",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5632095,
            "lng": 13.2940051
          },
          "time": {
            "arrival": "1970-01-01T01:36:29Z",
            "departure": "1970-01-01T01:39:29Z"
          },
          "distance": 32702,
          "load": [
            2
          ],
          "activities": [
            {
              "jobId": "job46",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5192039,
            "lng": 13.304444
          },
          "time": {
            "arrival": "1970-01-01T01:47:44Z",
            "departure": "1970-01-01T01:50:44Z"
          },
          "distance": 37651,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "job20",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5146285,
            "lng": 13.2852959
          },
          "time": {
            "arrival": "1970-01-01T01:53:03Z",
            "departure": "1970-01-01T01:56:03Z"
          },
          "distance": 39045,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "job47",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4664257,
            "lng": 13.2812488
          },
          "time": {
            "arrival": "1970-01-01T02:05:00Z",
            "departure": "1970-01-01T02:05:00Z"
          },
          "distance": 44418,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "arrival",
              "type": "arrival"
            }
          ]
        }
      ],
      "statistic": {
        "cost": 66.38359999999999,
        "distance": 44418,
        "duration": 7500,
        "times": {
          "driving": 4440,
          "serving": 3060,
          "waiting": 0,
          "break": 0
        }
      }
    },
    {
      "vehicleId": "vehicle_2",
      "typeId": "vehicle",
      "shiftIndex": 0,
      "stops": [
        {
          "location": {
            "lat": 52.4664257,
            "lng": 13.2812488
          },
          "time": {
            "arrival": "1970-01-01T00:00:00Z",
            "departure": "1970-01-01T00:00:00Z"
          },
          "distance": 0,
          "load": [
            17
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4737341,
            "lng": 13.38667
          },
          "time": {
            "arrival": "1970-01-01T00:12:00Z",
            "departure": "1970-01-01T00:15:00Z"
          },
          "distance": 7195,
          "load": [
            16
          ],
          "activities": [
            {
              "jobId": "job37",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4828453,
            "lng": 13.4363713
          },
          "time": {
            "arrival": "1970-01-01T00:20:52Z",
            "departure": "1970-01-01T00:23:52Z"
          },
          "distance": 10714,
          "load": [
            15
          ],
          "activities": [
            {
              "jobId": "job22",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4945572,
            "lng": 13.4698049
          },
          "time": {
            "arrival": "1970-01-01T00:28:13Z",
            "departure": "1970-01-01T00:31:13Z"
          },
          "distance": 13329,
          "load": [
            14
          ],
          "activities": [
            {
              "jobId": "job10",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4989511,
            "lng": 13.4740528
          },
          "time": {
            "arrival": "1970-01-01T00:32:10Z",
            "departure": "1970-01-01T00:35:10Z"
          },
          "distance": 13897,
          "load": [
            13
          ],
          "activities": [
            {
              "jobId": "job11",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5058684,
            "lng": 13.475099
          },
          "time": {
            "arrival": "1970-01-01T00:36:27Z",
            "departure": "1970-01-01T00:39:27Z"
          },
          "distance": 14670,
          "load": [
            12
          ],
          "activities": [
            {
              "jobId": "job17",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5279215,
            "lng": 13.4995315
          },
          "time": {
            "arrival": "1970-01-01T00:44:23Z",
            "departure": "1970-01-01T00:47:23Z"
          },
          "distance": 17631,
          "load": [
            11
          ],
          "activities": [
            {
              "jobId": "job49",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5261554,
            "lng": 13.5062954
          },
          "time": {
            "arrival": "1970-01-01T00:48:13Z",
            "departure": "1970-01-01T00:51:13Z"
          },
          "distance": 18129,
          "load": [
            10
          ],
          "activities": [
            {
              "jobId": "job24",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5426716,
            "lng": 13.5161692
          },
          "time": {
            "arrival": "1970-01-01T00:54:29Z",
            "departure": "1970-01-01T00:57:29Z"
          },
          "distance": 20085,
          "load": [
            9
          ],
          "activities": [
            {
              "jobId": "job35",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5421315,
            "lng": 13.5189513
          },
          "time": {
            "arrival": "1970-01-01T00:57:49Z",
            "departure": "1970-01-01T01:00:49Z"
          },
          "distance": 20283,
          "load": [
            8
          ],
          "activities": [
            {
              "jobId": "job3",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5414557,
            "lng": 13.527639
          },
          "time": {
            "arrival": "1970-01-01T01:01:48Z",
            "departure": "1970-01-01T01:04:48Z"
          },
          "distance": 20876,
          "load": [
            7
          ],
          "activities": [
            {
              "jobId": "job44",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5276784,
            "lng": 13.546564
          },
          "time": {
            "arrival": "1970-01-01T01:08:08Z",
            "departure": "1970-01-01T01:11:08Z"
          },
          "distance": 22875,
          "load": [
            6
          ],
          "activities": [
            {
              "jobId": "job19",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5060419,
            "lng": 13.5152641
          },
          "time": {
            "arrival": "1970-01-01T01:16:29Z",
            "departure": "1970-01-01T01:19:29Z"
          },
          "distance": 26084,
          "load": [
            5
          ],
          "activities": [
            {
              "jobId": "job2",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4917198,
            "lng": 13.5251532
          },
          "time": {
            "arrival": "1970-01-01T01:22:22Z",
            "departure": "1970-01-01T01:25:22Z"
          },
          "distance": 27813,
          "load": [
            4
          ],
          "activities": [
            {
              "jobId": "job33",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4871049,
            "lng": 13.5423247
          },
          "time": {
            "arrival": "1970-01-01T01:27:29Z",
            "departure": "1970-01-01T01:30:29Z"
          },
          "distance": 29085,
          "load": [
            3
          ],
          "activities": [
            {
              "jobId": "job42",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4695374,
            "lng": 13.4914662
          },
          "time": {
            "arrival": "1970-01-01T01:37:05Z",
            "departure": "1970-01-01T01:40:05Z"
          },
          "distance": 33049,
          "load": [
            2
          ],
          "activities": [
            {
              "jobId": "job30",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4629002,
            "lng": 13.4757055
          },
          "time": {
            "arrival": "1970-01-01T01:42:15Z",
            "departure": "1970-01-01T01:45:15Z"
          },
          "distance": 34348,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "job5",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4658835,
            "lng": 13.4461224
          },
          "time": {
            "arrival": "1970-01-01T01:48:38Z",
            "departure": "1970-01-01T01:51:38Z"
          },
          "distance": 36382,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "job12",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4664257,
            "lng": 13.2812488
          },
          "time": {
            "arrival": "1970-01-01T02:10:16Z",
            "departure": "1970-01-01T02:10:16Z"
          },
          "distance": 47564,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "arrival",
              "type": "arrival"
            }
          ]
        }
      ],
      "statistic": {
        "cost": 68.59279999999998,
        "distance": 47564,
        "duration": 7816,
        "times": {
          "driving": 4756,
          "serving": 3060,
          "waiting": 0,
          "break": 0
        }
      }
    }
  ],
  "unassigned": []
}
</code></pre>
</p></details>
</br>
<div id="geojson" hidden>
{
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "jobs_ids": "departure",
        "marker-symbol": "warehouse",
        "tour_idx": "0",
        "stop_idx": "0"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "1",
        "marker-symbol": "marker",
        "marker-color": "#e6194b",
        "jobs_ids": "job40",
        "marker-size": "medium",
        "tour_idx": "0"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3157235,
          52.4827319
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job31",
        "marker-color": "#e6194b",
        "stop_idx": "2",
        "marker-size": "medium",
        "tour_idx": "0",
        "marker-symbol": "marker"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3353656,
          52.4868236
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "0",
        "jobs_ids": "job50",
        "marker-size": "medium",
        "stop_idx": "3",
        "marker-color": "#e6194b",
        "marker-symbol": "marker"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3539713,
          52.4959052
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "stop_idx": "4",
        "jobs_ids": "job28",
        "marker-color": "#e6194b",
        "tour_idx": "0",
        "marker-symbol": "marker"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3689955,
          52.5065998
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "stop_idx": "5",
        "marker-size": "medium",
        "marker-color": "#e6194b",
        "jobs_ids": "job23",
        "tour_idx": "0"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3668934,
          52.5291335
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "stop_idx": "6",
        "jobs_ids": "job38",
        "marker-size": "medium",
        "marker-color": "#e6194b",
        "tour_idx": "0"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3914127,
          52.5404107
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "tour_idx": "0",
        "jobs_ids": "job8",
        "marker-symbol": "marker",
        "stop_idx": "7",
        "marker-color": "#e6194b"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3989552,
          52.5429597
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "8",
        "jobs_ids": "job45",
        "marker-color": "#e6194b",
        "tour_idx": "0",
        "marker-size": "medium",
        "marker-symbol": "marker"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4139155,
          52.5425207
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "9",
        "marker-size": "medium",
        "jobs_ids": "job7",
        "marker-symbol": "marker",
        "marker-color": "#e6194b",
        "tour_idx": "0"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3996298,
          52.5372914
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "tour_idx": "0",
        "marker-color": "#e6194b",
        "stop_idx": "10",
        "jobs_ids": "job25",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3890068,
          52.5189653
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "marker-size": "medium",
        "tour_idx": "0",
        "stop_idx": "11",
        "jobs_ids": "job27",
        "marker-color": "#e6194b"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3788834,
          52.4940454
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "0",
        "marker-symbol": "marker",
        "marker-color": "#e6194b",
        "jobs_ids": "job48",
        "marker-size": "medium",
        "stop_idx": "12"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3832067,
          52.4855438
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "tour_idx": "0",
        "stop_idx": "13",
        "jobs_ids": "job14",
        "marker-symbol": "marker"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3628588,
          52.4742821
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "stop_idx": "14",
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "jobs_ids": "job36",
        "tour_idx": "0"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3598752,
          52.4708241
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "marker-color": "#e6194b",
        "marker-symbol": "marker",
        "tour_idx": "0",
        "stop_idx": "15",
        "jobs_ids": "job41"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3321906,
          52.4711004
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#e6194b",
        "tour_idx": "0",
        "stop_idx": "16",
        "marker-symbol": "marker",
        "marker-size": "medium",
        "jobs_ids": "job32"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.322692,
          52.4661617
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "arrival",
        "marker-symbol": "warehouse",
        "stop_idx": "17",
        "marker-color": "#e6194b",
        "tour_idx": "0",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "jobs_ids": "departure",
        "marker-color": "#808080",
        "marker-symbol": "warehouse",
        "tour_idx": "1",
        "stop_idx": "0"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job6",
        "marker-color": "#808080",
        "tour_idx": "1",
        "marker-symbol": "marker",
        "stop_idx": "1",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3915876,
          52.4960479
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "2",
        "jobs_ids": "job26",
        "marker-color": "#808080",
        "marker-symbol": "marker",
        "tour_idx": "1",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4368189,
          52.5090143
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "3",
        "jobs_ids": "job21",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "marker-color": "#808080",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4418623,
          52.5228904
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#808080",
        "marker-symbol": "marker",
        "marker-size": "medium",
        "stop_idx": "4",
        "jobs_ids": "job4",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4619776,
          52.5243421
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "5",
        "marker-color": "#808080",
        "marker-size": "medium",
        "jobs_ids": "job34",
        "marker-symbol": "marker",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4416407,
          52.5431264
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#808080",
        "stop_idx": "6",
        "jobs_ids": "job16",
        "marker-symbol": "marker",
        "tour_idx": "1",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4286263,
          52.5496702
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "1",
        "stop_idx": "7",
        "marker-color": "#808080",
        "jobs_ids": "job43",
        "marker-symbol": "marker",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4194712,
          52.5614441
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "8",
        "marker-color": "#808080",
        "marker-symbol": "marker",
        "tour_idx": "1",
        "jobs_ids": "job9",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4231417,
          52.5678751
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "1",
        "marker-symbol": "marker",
        "marker-color": "#808080",
        "stop_idx": "9",
        "jobs_ids": "job1",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3848221,
          52.5697304
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "1",
        "stop_idx": "10",
        "jobs_ids": "job13",
        "marker-size": "medium",
        "marker-color": "#808080",
        "marker-symbol": "marker"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.369072,
          52.5685168
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job29",
        "marker-size": "medium",
        "stop_idx": "11",
        "tour_idx": "1",
        "marker-symbol": "marker",
        "marker-color": "#808080"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3733163,
          52.547349
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "marker-symbol": "marker",
        "marker-color": "#808080",
        "stop_idx": "12",
        "jobs_ids": "job39",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.369356,
          52.5492619
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "13",
        "marker-symbol": "marker",
        "marker-size": "medium",
        "jobs_ids": "job18",
        "tour_idx": "1",
        "marker-color": "#808080"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3327894,
          52.5473416
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job15",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "marker-color": "#808080",
        "tour_idx": "1",
        "stop_idx": "14"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3027992,
          52.5650163
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "marker-size": "medium",
        "tour_idx": "1",
        "marker-color": "#808080",
        "stop_idx": "15",
        "jobs_ids": "job46"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2940051,
          52.5632095
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "16",
        "jobs_ids": "job20",
        "marker-symbol": "marker",
        "marker-color": "#808080",
        "marker-size": "medium",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.304444,
          52.5192039
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "1",
        "marker-color": "#808080",
        "stop_idx": "17",
        "jobs_ids": "job47",
        "marker-size": "medium",
        "marker-symbol": "marker"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2852959,
          52.5146285
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "1",
        "marker-size": "medium",
        "marker-color": "#808080",
        "marker-symbol": "warehouse",
        "stop_idx": "18",
        "jobs_ids": "arrival"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#000075",
        "jobs_ids": "departure",
        "tour_idx": "2",
        "stop_idx": "0",
        "marker-size": "medium",
        "marker-symbol": "warehouse"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "2",
        "marker-size": "medium",
        "stop_idx": "1",
        "marker-symbol": "marker",
        "jobs_ids": "job37",
        "marker-color": "#000075"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.38667,
          52.4737341
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#000075",
        "jobs_ids": "job22",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "stop_idx": "2",
        "tour_idx": "2"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4363713,
          52.4828453
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "tour_idx": "2",
        "marker-color": "#000075",
        "marker-size": "medium",
        "stop_idx": "3",
        "jobs_ids": "job10"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4698049,
          52.4945572
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#000075",
        "marker-symbol": "marker",
        "tour_idx": "2",
        "stop_idx": "4",
        "jobs_ids": "job11",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4740528,
          52.4989511
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#000075",
        "marker-size": "medium",
        "tour_idx": "2",
        "marker-symbol": "marker",
        "stop_idx": "5",
        "jobs_ids": "job17"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.475099,
          52.5058684
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job49",
        "marker-symbol": "marker",
        "tour_idx": "2",
        "marker-color": "#000075",
        "marker-size": "medium",
        "stop_idx": "6"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4995315,
          52.5279215
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job24",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "marker-color": "#000075",
        "tour_idx": "2",
        "stop_idx": "7"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5062954,
          52.5261554
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job35",
        "marker-symbol": "marker",
        "tour_idx": "2",
        "marker-color": "#000075",
        "stop_idx": "8",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5161692,
          52.5426716
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job3",
        "tour_idx": "2",
        "marker-color": "#000075",
        "marker-symbol": "marker",
        "marker-size": "medium",
        "stop_idx": "9"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5189513,
          52.5421315
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "marker-color": "#000075",
        "stop_idx": "10",
        "tour_idx": "2",
        "jobs_ids": "job44",
        "marker-symbol": "marker"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.527639,
          52.5414557
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "11",
        "marker-symbol": "marker",
        "tour_idx": "2",
        "jobs_ids": "job19",
        "marker-color": "#000075",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.546564,
          52.5276784
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#000075",
        "marker-symbol": "marker",
        "tour_idx": "2",
        "jobs_ids": "job2",
        "marker-size": "medium",
        "stop_idx": "12"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5152641,
          52.5060419
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job33",
        "marker-color": "#000075",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "tour_idx": "2",
        "stop_idx": "13"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5251532,
          52.4917198
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "tour_idx": "2",
        "marker-size": "medium",
        "jobs_ids": "job42",
        "marker-color": "#000075",
        "stop_idx": "14"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5423247,
          52.4871049
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "marker-color": "#000075",
        "tour_idx": "2",
        "jobs_ids": "job30",
        "stop_idx": "15",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4914662,
          52.4695374
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "2",
        "stop_idx": "16",
        "jobs_ids": "job5",
        "marker-color": "#000075",
        "marker-size": "medium",
        "marker-symbol": "marker"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4757055,
          52.4629002
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "stop_idx": "17",
        "marker-size": "medium",
        "jobs_ids": "job12",
        "marker-color": "#000075",
        "tour_idx": "2"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4461224,
          52.4658835
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#000075",
        "marker-size": "medium",
        "tour_idx": "2",
        "jobs_ids": "arrival",
        "marker-symbol": "warehouse",
        "stop_idx": "18"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "shift_idx": "0",
        "activities": "18",
        "distance": "28716",
        "tour_idx": "0",
        "stroke-width": "4",
        "stroke": "#e6194b",
        "vehicle_id": "vehicle_1"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.2812488,
            52.4664257
          ],
          [
            13.3157235,
            52.4827319
          ],
          [
            13.3353656,
            52.4868236
          ],
          [
            13.3539713,
            52.4959052
          ],
          [
            13.3689955,
            52.5065998
          ],
          [
            13.3668934,
            52.5291335
          ],
          [
            13.3914127,
            52.5404107
          ],
          [
            13.3989552,
            52.5429597
          ],
          [
            13.4139155,
            52.5425207
          ],
          [
            13.3996298,
            52.5372914
          ],
          [
            13.3890068,
            52.5189653
          ],
          [
            13.3788834,
            52.4940454
          ],
          [
            13.3832067,
            52.4855438
          ],
          [
            13.3628588,
            52.4742821
          ],
          [
            13.3598752,
            52.4708241
          ],
          [
            13.3321906,
            52.4711004
          ],
          [
            13.322692,
            52.4661617
          ],
          [
            13.2812488,
            52.4664257
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "distance": "44418",
        "stroke": "#3cb44b",
        "tour_idx": "1",
        "vehicle_id": "vehicle_3",
        "shift_idx": "0",
        "activities": "19",
        "stroke-width": "4"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.2812488,
            52.4664257
          ],
          [
            13.3915876,
            52.4960479
          ],
          [
            13.4368189,
            52.5090143
          ],
          [
            13.4418623,
            52.5228904
          ],
          [
            13.4619776,
            52.5243421
          ],
          [
            13.4416407,
            52.5431264
          ],
          [
            13.4286263,
            52.5496702
          ],
          [
            13.4194712,
            52.5614441
          ],
          [
            13.4231417,
            52.5678751
          ],
          [
            13.3848221,
            52.5697304
          ],
          [
            13.369072,
            52.5685168
          ],
          [
            13.3733163,
            52.547349
          ],
          [
            13.369356,
            52.5492619
          ],
          [
            13.3327894,
            52.5473416
          ],
          [
            13.3027992,
            52.5650163
          ],
          [
            13.2940051,
            52.5632095
          ],
          [
            13.304444,
            52.5192039
          ],
          [
            13.2852959,
            52.5146285
          ],
          [
            13.2812488,
            52.4664257
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stroke-width": "4",
        "vehicle_id": "vehicle_2",
        "stroke": "#4363d8",
        "tour_idx": "2",
        "activities": "19",
        "shift_idx": "0",
        "distance": "47564"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.2812488,
            52.4664257
          ],
          [
            13.38667,
            52.4737341
          ],
          [
            13.4363713,
            52.4828453
          ],
          [
            13.4698049,
            52.4945572
          ],
          [
            13.4740528,
            52.4989511
          ],
          [
            13.475099,
            52.5058684
          ],
          [
            13.4995315,
            52.5279215
          ],
          [
            13.5062954,
            52.5261554
          ],
          [
            13.5161692,
            52.5426716
          ],
          [
            13.5189513,
            52.5421315
          ],
          [
            13.527639,
            52.5414557
          ],
          [
            13.546564,
            52.5276784
          ],
          [
            13.5152641,
            52.5060419
          ],
          [
            13.5251532,
            52.4917198
          ],
          [
            13.5423247,
            52.4871049
          ],
          [
            13.4914662,
            52.4695374
          ],
          [
            13.4757055,
            52.4629002
          ],
          [
            13.4461224,
            52.4658835
          ],
          [
            13.2812488,
            52.4664257
          ]
        ]
      }
    }
  ]
}
</div>
<div id="map"></div>
<p>This objective balances amount of activities and minimizes fleet usage at the same time:</p>
<pre><code class="language-json">  "objectives": [
    {
      "type": "minimize-unassigned"
    },
    {
      "type": "minimize-tours"
    },
    {
      "type": "multi-objective",
      "strategy": {
        "name": "sum"
      },
      "objectives": [
        {
          "type": "minimize-cost"
        },
        {
          "type": "balance-activities"
        }
      ]
    }
  ]
</code></pre>
<p>Only three vehicles used approximately 16 jobs per vehicle. If you remove <code>minimize-tours</code>, results should be similar
to results on previous page.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="balance-travelled-distance"><a class="header" href="#balance-travelled-distance">Balance travelled distance</a></h1>
<details>
    <summary>Problem</summary><p>
<pre><code class="language-json">{
  "plan": {
    "jobs": [
      {
        "id": "job1",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5697304,
                  "lng": 13.3848221
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job2",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5060419,
                  "lng": 13.5152641
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job3",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5421315,
                  "lng": 13.5189513
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job4",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5243421,
                  "lng": 13.4619776
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job5",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4629002,
                  "lng": 13.4757055
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job6",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4960479,
                  "lng": 13.3915876
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job7",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5372914,
                  "lng": 13.3996298
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job8",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5429597,
                  "lng": 13.3989552
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job9",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5678751,
                  "lng": 13.4231417
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job10",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4945572,
                  "lng": 13.4698049
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job11",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4989511,
                  "lng": 13.4740528
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job12",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4658835,
                  "lng": 13.4461224
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job13",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5685168,
                  "lng": 13.3690720
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job14",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4742821,
                  "lng": 13.3628588
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job15",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5650163,
                  "lng": 13.3027992
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job16",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5496702,
                  "lng": 13.4286263
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job17",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5058684,
                  "lng": 13.4750990
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job18",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5473416,
                  "lng": 13.3327894
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job19",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5276784,
                  "lng": 13.5465640
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job20",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5192039,
                  "lng": 13.3044440
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job21",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5228904,
                  "lng": 13.4418623
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job22",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4828453,
                  "lng": 13.4363713
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job23",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5291335,
                  "lng": 13.3668934
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job24",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5261554,
                  "lng": 13.5062954
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job25",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5189653,
                  "lng": 13.3890068
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job26",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5090143,
                  "lng": 13.4368189
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job27",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4940454,
                  "lng": 13.3788834
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job28",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5065998,
                  "lng": 13.3689955
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job29",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5473490,
                  "lng": 13.3733163
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job30",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4695374,
                  "lng": 13.4914662
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job31",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4868236,
                  "lng": 13.3353656
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job32",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4661617,
                  "lng": 13.3226920
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job33",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4917198,
                  "lng": 13.5251532
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job34",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5431264,
                  "lng": 13.4416407
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job35",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5426716,
                  "lng": 13.5161692
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job36",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4708241,
                  "lng": 13.3598752
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job37",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4737341,
                  "lng": 13.3866700
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job38",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5404107,
                  "lng": 13.3914127
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job39",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5492619,
                  "lng": 13.3693560
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job40",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4827319,
                  "lng": 13.3157235
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job41",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4711004,
                  "lng": 13.3321906
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job42",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4871049,
                  "lng": 13.5423247
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job43",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5614441,
                  "lng": 13.4194712
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job44",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5414557,
                  "lng": 13.5276390
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job45",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5425207,
                  "lng": 13.4139155
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job46",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5632095,
                  "lng": 13.2940051
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job47",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5146285,
                  "lng": 13.2852959
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job48",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4855438,
                  "lng": 13.3832067
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job49",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5279215,
                  "lng": 13.4995315
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job50",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.4959052,
                  "lng": 13.3539713
                },
                "duration": 180.0
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      }
    ]
  },
  "fleet": {
    "vehicles": [
      {
        "typeId": "vehicle",
        "vehicleIds": [
          "vehicle_1",
          "vehicle_2",
          "vehicle_3",
          "vehicle_4",
          "vehicle_5"
        ],
        "profile": {
          "matrix": "car"
        },
        "costs": {
          "fixed": 20.0,
          "distance": 0.0002,
          "time": 0.005
        },
        "shifts": [
          {
            "start": {
              "earliest": "1970-01-01T00:00:00Z",
              "location": {
                "lat": 52.4664257,
                "lng": 13.2812488
              }
            },
            "end": {
              "latest": "1970-01-01T23:59:00Z",
              "location": {
                "lat": 52.4664257,
                "lng": 13.2812488
              }
            }
          }
        ],
        "capacity": [
          20
        ]
      }
    ],
    "profiles": [
      {
        "name": "car"
      }
    ]
  },
  "objectives": [
    {
      "type": "minimize-unassigned"
    },
    {
      "type": "minimize-tours"
    },
    {
      "type": "multi-objective",
      "strategy": {
        "name": "sum"
      },
      "objectives": [
        {
          "type": "minimize-cost"
        },
        {
          "type": "balance-distance"
        }
      ]
    }
  ]
}
</code></pre>
</p></details>
<details>
    <summary>Solution</summary><p>
<pre><code class="language-json">{
  "statistic": {
    "cost": 273.0455999999999,
    "distance": 182928,
    "duration": 27292,
    "times": {
      "driving": 18292,
      "serving": 9000,
      "waiting": 0,
      "break": 0
    }
  },
  "tours": [
    {
      "vehicleId": "vehicle_1",
      "typeId": "vehicle",
      "shiftIndex": 0,
      "stops": [
        {
          "location": {
            "lat": 52.4664257,
            "lng": 13.2812488
          },
          "time": {
            "arrival": "1970-01-01T00:00:00Z",
            "departure": "1970-01-01T00:00:00Z"
          },
          "distance": 0,
          "load": [
            10
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4960479,
            "lng": 13.3915876
          },
          "time": {
            "arrival": "1970-01-01T00:13:38Z",
            "departure": "1970-01-01T00:16:38Z"
          },
          "distance": 8175,
          "load": [
            9
          ],
          "activities": [
            {
              "jobId": "job6",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5090143,
            "lng": 13.4368189
          },
          "time": {
            "arrival": "1970-01-01T00:22:17Z",
            "departure": "1970-01-01T00:25:17Z"
          },
          "distance": 11563,
          "load": [
            8
          ],
          "activities": [
            {
              "jobId": "job26",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5261554,
            "lng": 13.5062954
          },
          "time": {
            "arrival": "1970-01-01T00:33:45Z",
            "departure": "1970-01-01T00:36:45Z"
          },
          "distance": 16641,
          "load": [
            7
          ],
          "activities": [
            {
              "jobId": "job24",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5276784,
            "lng": 13.546564
          },
          "time": {
            "arrival": "1970-01-01T00:41:18Z",
            "departure": "1970-01-01T00:44:18Z"
          },
          "distance": 19373,
          "load": [
            6
          ],
          "activities": [
            {
              "jobId": "job19",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5060419,
            "lng": 13.5152641
          },
          "time": {
            "arrival": "1970-01-01T00:49:39Z",
            "departure": "1970-01-01T00:52:39Z"
          },
          "distance": 22582,
          "load": [
            5
          ],
          "activities": [
            {
              "jobId": "job2",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4989511,
            "lng": 13.4740528
          },
          "time": {
            "arrival": "1970-01-01T00:57:29Z",
            "departure": "1970-01-01T01:00:29Z"
          },
          "distance": 25484,
          "load": [
            4
          ],
          "activities": [
            {
              "jobId": "job11",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4945572,
            "lng": 13.4698049
          },
          "time": {
            "arrival": "1970-01-01T01:01:26Z",
            "departure": "1970-01-01T01:04:26Z"
          },
          "distance": 26052,
          "load": [
            3
          ],
          "activities": [
            {
              "jobId": "job10",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4828453,
            "lng": 13.4363713
          },
          "time": {
            "arrival": "1970-01-01T01:08:47Z",
            "departure": "1970-01-01T01:11:47Z"
          },
          "distance": 28667,
          "load": [
            2
          ],
          "activities": [
            {
              "jobId": "job22",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4742821,
            "lng": 13.3628588
          },
          "time": {
            "arrival": "1970-01-01T01:20:14Z",
            "departure": "1970-01-01T01:23:14Z"
          },
          "distance": 33741,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "job14",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4711004,
            "lng": 13.3321906
          },
          "time": {
            "arrival": "1970-01-01T01:26:45Z",
            "departure": "1970-01-01T01:29:45Z"
          },
          "distance": 35851,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "job41",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4664257,
            "lng": 13.2812488
          },
          "time": {
            "arrival": "1970-01-01T01:35:34Z",
            "departure": "1970-01-01T01:35:34Z"
          },
          "distance": 39345,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "arrival",
              "type": "arrival"
            }
          ]
        }
      ],
      "statistic": {
        "cost": 56.538999999999994,
        "distance": 39345,
        "duration": 5734,
        "times": {
          "driving": 3934,
          "serving": 1800,
          "waiting": 0,
          "break": 0
        }
      }
    },
    {
      "vehicleId": "vehicle_5",
      "typeId": "vehicle",
      "shiftIndex": 0,
      "stops": [
        {
          "location": {
            "lat": 52.4664257,
            "lng": 13.2812488
          },
          "time": {
            "arrival": "1970-01-01T00:00:00Z",
            "departure": "1970-01-01T00:00:00Z"
          },
          "distance": 0,
          "load": [
            10
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5146285,
            "lng": 13.2852959
          },
          "time": {
            "arrival": "1970-01-01T00:08:57Z",
            "departure": "1970-01-01T00:11:57Z"
          },
          "distance": 5373,
          "load": [
            9
          ],
          "activities": [
            {
              "jobId": "job47",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5192039,
            "lng": 13.304444
          },
          "time": {
            "arrival": "1970-01-01T00:14:16Z",
            "departure": "1970-01-01T00:17:16Z"
          },
          "distance": 6767,
          "load": [
            8
          ],
          "activities": [
            {
              "jobId": "job20",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5632095,
            "lng": 13.2940051
          },
          "time": {
            "arrival": "1970-01-01T00:25:31Z",
            "departure": "1970-01-01T00:28:31Z"
          },
          "distance": 11716,
          "load": [
            7
          ],
          "activities": [
            {
              "jobId": "job46",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5650163,
            "lng": 13.3027992
          },
          "time": {
            "arrival": "1970-01-01T00:29:34Z",
            "departure": "1970-01-01T00:32:34Z"
          },
          "distance": 12344,
          "load": [
            6
          ],
          "activities": [
            {
              "jobId": "job15",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5473416,
            "lng": 13.3327894
          },
          "time": {
            "arrival": "1970-01-01T00:37:17Z",
            "departure": "1970-01-01T00:40:17Z"
          },
          "distance": 15171,
          "load": [
            5
          ],
          "activities": [
            {
              "jobId": "job18",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5685168,
            "lng": 13.369072
          },
          "time": {
            "arrival": "1970-01-01T00:45:57Z",
            "departure": "1970-01-01T00:48:57Z"
          },
          "distance": 18575,
          "load": [
            4
          ],
          "activities": [
            {
              "jobId": "job13",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5697304,
            "lng": 13.3848221
          },
          "time": {
            "arrival": "1970-01-01T00:50:44Z",
            "departure": "1970-01-01T00:53:44Z"
          },
          "distance": 19649,
          "load": [
            3
          ],
          "activities": [
            {
              "jobId": "job1",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5492619,
            "lng": 13.369356
          },
          "time": {
            "arrival": "1970-01-01T00:57:55Z",
            "departure": "1970-01-01T01:00:55Z"
          },
          "distance": 22156,
          "load": [
            2
          ],
          "activities": [
            {
              "jobId": "job39",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5291335,
            "lng": 13.3668934
          },
          "time": {
            "arrival": "1970-01-01T01:04:40Z",
            "departure": "1970-01-01T01:07:40Z"
          },
          "distance": 24403,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "job23",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5065998,
            "lng": 13.3689955
          },
          "time": {
            "arrival": "1970-01-01T01:11:51Z",
            "departure": "1970-01-01T01:14:51Z"
          },
          "distance": 26915,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "job28",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4664257,
            "lng": 13.2812488
          },
          "time": {
            "arrival": "1970-01-01T01:27:15Z",
            "departure": "1970-01-01T01:27:15Z"
          },
          "distance": 34357,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "arrival",
              "type": "arrival"
            }
          ]
        }
      ],
      "statistic": {
        "cost": 53.0464,
        "distance": 34357,
        "duration": 5235,
        "times": {
          "driving": 3435,
          "serving": 1800,
          "waiting": 0,
          "break": 0
        }
      }
    },
    {
      "vehicleId": "vehicle_4",
      "typeId": "vehicle",
      "shiftIndex": 0,
      "stops": [
        {
          "location": {
            "lat": 52.4664257,
            "lng": 13.2812488
          },
          "time": {
            "arrival": "1970-01-01T00:00:00Z",
            "departure": "1970-01-01T00:00:00Z"
          },
          "distance": 0,
          "load": [
            10
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "location": {
            "lat": 52.547349,
            "lng": 13.3733163
          },
          "time": {
            "arrival": "1970-01-01T00:18:16Z",
            "departure": "1970-01-01T00:21:16Z"
          },
          "distance": 10957,
          "load": [
            9
          ],
          "activities": [
            {
              "jobId": "job29",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5404107,
            "lng": 13.3914127
          },
          "time": {
            "arrival": "1970-01-01T00:23:41Z",
            "departure": "1970-01-01T00:26:41Z"
          },
          "distance": 12405,
          "load": [
            8
          ],
          "activities": [
            {
              "jobId": "job38",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5429597,
            "lng": 13.3989552
          },
          "time": {
            "arrival": "1970-01-01T00:27:39Z",
            "departure": "1970-01-01T00:30:39Z"
          },
          "distance": 12989,
          "load": [
            7
          ],
          "activities": [
            {
              "jobId": "job8",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5614441,
            "lng": 13.4194712
          },
          "time": {
            "arrival": "1970-01-01T00:34:47Z",
            "departure": "1970-01-01T00:37:47Z"
          },
          "distance": 15471,
          "load": [
            6
          ],
          "activities": [
            {
              "jobId": "job43",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5678751,
            "lng": 13.4231417
          },
          "time": {
            "arrival": "1970-01-01T00:39:03Z",
            "departure": "1970-01-01T00:42:03Z"
          },
          "distance": 16229,
          "load": [
            5
          ],
          "activities": [
            {
              "jobId": "job9",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5496702,
            "lng": 13.4286263
          },
          "time": {
            "arrival": "1970-01-01T00:45:29Z",
            "departure": "1970-01-01T00:48:29Z"
          },
          "distance": 18289,
          "load": [
            4
          ],
          "activities": [
            {
              "jobId": "job16",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5431264,
            "lng": 13.4416407
          },
          "time": {
            "arrival": "1970-01-01T00:50:23Z",
            "departure": "1970-01-01T00:53:23Z"
          },
          "distance": 19432,
          "load": [
            3
          ],
          "activities": [
            {
              "jobId": "job34",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5425207,
            "lng": 13.4139155
          },
          "time": {
            "arrival": "1970-01-01T00:56:31Z",
            "departure": "1970-01-01T00:59:31Z"
          },
          "distance": 21310,
          "load": [
            2
          ],
          "activities": [
            {
              "jobId": "job45",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5372914,
            "lng": 13.3996298
          },
          "time": {
            "arrival": "1970-01-01T01:01:24Z",
            "departure": "1970-01-01T01:04:24Z"
          },
          "distance": 22439,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "job7",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5189653,
            "lng": 13.3890068
          },
          "time": {
            "arrival": "1970-01-01T01:08:00Z",
            "departure": "1970-01-01T01:11:00Z"
          },
          "distance": 24602,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "job25",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4664257,
            "lng": 13.2812488
          },
          "time": {
            "arrival": "1970-01-01T01:26:36Z",
            "departure": "1970-01-01T01:26:36Z"
          },
          "distance": 33959,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "arrival",
              "type": "arrival"
            }
          ]
        }
      ],
      "statistic": {
        "cost": 52.77179999999999,
        "distance": 33959,
        "duration": 5196,
        "times": {
          "driving": 3396,
          "serving": 1800,
          "waiting": 0,
          "break": 0
        }
      }
    },
    {
      "vehicleId": "vehicle_2",
      "typeId": "vehicle",
      "shiftIndex": 0,
      "stops": [
        {
          "location": {
            "lat": 52.4664257,
            "lng": 13.2812488
          },
          "time": {
            "arrival": "1970-01-01T00:00:00Z",
            "departure": "1970-01-01T00:00:00Z"
          },
          "distance": 0,
          "load": [
            10
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4661617,
            "lng": 13.322692
          },
          "time": {
            "arrival": "1970-01-01T00:04:41Z",
            "departure": "1970-01-01T00:07:41Z"
          },
          "distance": 2811,
          "load": [
            9
          ],
          "activities": [
            {
              "jobId": "job32",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4708241,
            "lng": 13.3598752
          },
          "time": {
            "arrival": "1970-01-01T00:11:58Z",
            "departure": "1970-01-01T00:14:58Z"
          },
          "distance": 5385,
          "load": [
            8
          ],
          "activities": [
            {
              "jobId": "job36",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4737341,
            "lng": 13.38667
          },
          "time": {
            "arrival": "1970-01-01T00:18:03Z",
            "departure": "1970-01-01T00:21:03Z"
          },
          "distance": 7231,
          "load": [
            7
          ],
          "activities": [
            {
              "jobId": "job37",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4658835,
            "lng": 13.4461224
          },
          "time": {
            "arrival": "1970-01-01T00:27:56Z",
            "departure": "1970-01-01T00:30:56Z"
          },
          "distance": 11356,
          "load": [
            6
          ],
          "activities": [
            {
              "jobId": "job12",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4629002,
            "lng": 13.4757055
          },
          "time": {
            "arrival": "1970-01-01T00:34:19Z",
            "departure": "1970-01-01T00:37:19Z"
          },
          "distance": 13390,
          "load": [
            5
          ],
          "activities": [
            {
              "jobId": "job5",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4695374,
            "lng": 13.4914662
          },
          "time": {
            "arrival": "1970-01-01T00:39:29Z",
            "departure": "1970-01-01T00:42:29Z"
          },
          "distance": 14689,
          "load": [
            4
          ],
          "activities": [
            {
              "jobId": "job30",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4871049,
            "lng": 13.5423247
          },
          "time": {
            "arrival": "1970-01-01T00:49:05Z",
            "departure": "1970-01-01T00:52:05Z"
          },
          "distance": 18653,
          "load": [
            3
          ],
          "activities": [
            {
              "jobId": "job42",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4917198,
            "lng": 13.5251532
          },
          "time": {
            "arrival": "1970-01-01T00:54:12Z",
            "departure": "1970-01-01T00:57:12Z"
          },
          "distance": 19925,
          "load": [
            2
          ],
          "activities": [
            {
              "jobId": "job33",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5058684,
            "lng": 13.475099
          },
          "time": {
            "arrival": "1970-01-01T01:03:26Z",
            "departure": "1970-01-01T01:06:26Z"
          },
          "distance": 23665,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "job17",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4855438,
            "lng": 13.3832067
          },
          "time": {
            "arrival": "1970-01-01T01:17:29Z",
            "departure": "1970-01-01T01:20:29Z"
          },
          "distance": 30291,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "job48",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4664257,
            "lng": 13.2812488
          },
          "time": {
            "arrival": "1970-01-01T01:32:32Z",
            "departure": "1970-01-01T01:32:32Z"
          },
          "distance": 37524,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "arrival",
              "type": "arrival"
            }
          ]
        }
      ],
      "statistic": {
        "cost": 55.264799999999994,
        "distance": 37524,
        "duration": 5552,
        "times": {
          "driving": 3752,
          "serving": 1800,
          "waiting": 0,
          "break": 0
        }
      }
    },
    {
      "vehicleId": "vehicle_3",
      "typeId": "vehicle",
      "shiftIndex": 0,
      "stops": [
        {
          "location": {
            "lat": 52.4664257,
            "lng": 13.2812488
          },
          "time": {
            "arrival": "1970-01-01T00:00:00Z",
            "departure": "1970-01-01T00:00:00Z"
          },
          "distance": 0,
          "load": [
            10
          ],
          "activities": [
            {
              "jobId": "departure",
              "type": "departure"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4827319,
            "lng": 13.3157235
          },
          "time": {
            "arrival": "1970-01-01T00:04:56Z",
            "departure": "1970-01-01T00:07:56Z"
          },
          "distance": 2960,
          "load": [
            9
          ],
          "activities": [
            {
              "jobId": "job40",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4868236,
            "lng": 13.3353656
          },
          "time": {
            "arrival": "1970-01-01T00:10:17Z",
            "departure": "1970-01-01T00:13:17Z"
          },
          "distance": 4367,
          "load": [
            8
          ],
          "activities": [
            {
              "jobId": "job31",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4959052,
            "lng": 13.3539713
          },
          "time": {
            "arrival": "1970-01-01T00:15:59Z",
            "departure": "1970-01-01T00:18:59Z"
          },
          "distance": 5983,
          "load": [
            7
          ],
          "activities": [
            {
              "jobId": "job50",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5228904,
            "lng": 13.4418623
          },
          "time": {
            "arrival": "1970-01-01T00:30:06Z",
            "departure": "1970-01-01T00:33:06Z"
          },
          "distance": 12653,
          "load": [
            6
          ],
          "activities": [
            {
              "jobId": "job21",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5243421,
            "lng": 13.4619776
          },
          "time": {
            "arrival": "1970-01-01T00:35:23Z",
            "departure": "1970-01-01T00:38:23Z"
          },
          "distance": 14025,
          "load": [
            5
          ],
          "activities": [
            {
              "jobId": "job4",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5426716,
            "lng": 13.5161692
          },
          "time": {
            "arrival": "1970-01-01T00:45:23Z",
            "departure": "1970-01-01T00:48:23Z"
          },
          "distance": 18224,
          "load": [
            4
          ],
          "activities": [
            {
              "jobId": "job35",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5421315,
            "lng": 13.5189513
          },
          "time": {
            "arrival": "1970-01-01T00:48:43Z",
            "departure": "1970-01-01T00:51:43Z"
          },
          "distance": 18422,
          "load": [
            3
          ],
          "activities": [
            {
              "jobId": "job3",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5414557,
            "lng": 13.527639
          },
          "time": {
            "arrival": "1970-01-01T00:52:42Z",
            "departure": "1970-01-01T00:55:42Z"
          },
          "distance": 19015,
          "load": [
            2
          ],
          "activities": [
            {
              "jobId": "job44",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.5279215,
            "lng": 13.4995315
          },
          "time": {
            "arrival": "1970-01-01T00:59:45Z",
            "departure": "1970-01-01T01:02:45Z"
          },
          "distance": 21442,
          "load": [
            1
          ],
          "activities": [
            {
              "jobId": "job49",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4940454,
            "lng": 13.3788834
          },
          "time": {
            "arrival": "1970-01-01T01:17:45Z",
            "departure": "1970-01-01T01:20:45Z"
          },
          "distance": 30444,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "job27",
              "type": "delivery"
            }
          ]
        },
        {
          "location": {
            "lat": 52.4664257,
            "lng": 13.2812488
          },
          "time": {
            "arrival": "1970-01-01T01:32:55Z",
            "departure": "1970-01-01T01:32:55Z"
          },
          "distance": 37743,
          "load": [
            0
          ],
          "activities": [
            {
              "jobId": "arrival",
              "type": "arrival"
            }
          ]
        }
      ],
      "statistic": {
        "cost": 55.42359999999999,
        "distance": 37743,
        "duration": 5575,
        "times": {
          "driving": 3775,
          "serving": 1800,
          "waiting": 0,
          "break": 0
        }
      }
    }
  ],
  "unassigned": []
}
</code></pre>
</p></details>
</br>
<div id="geojson" hidden>
{
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "departure",
        "stop_idx": "0",
        "marker-size": "medium",
        "tour_idx": "0",
        "marker-color": "#e6194b",
        "marker-symbol": "warehouse"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "stop_idx": "1",
        "marker-size": "medium",
        "tour_idx": "0",
        "jobs_ids": "job6",
        "marker-color": "#e6194b"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3915876,
          52.4960479
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "2",
        "marker-symbol": "marker",
        "marker-color": "#e6194b",
        "jobs_ids": "job26",
        "tour_idx": "0",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4368189,
          52.5090143
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "0",
        "jobs_ids": "job24",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "marker-color": "#e6194b",
        "stop_idx": "3"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5062954,
          52.5261554
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job19",
        "marker-symbol": "marker",
        "marker-size": "medium",
        "marker-color": "#e6194b",
        "tour_idx": "0",
        "stop_idx": "4"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.546564,
          52.5276784
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job2",
        "tour_idx": "0",
        "marker-size": "medium",
        "marker-color": "#e6194b",
        "stop_idx": "5",
        "marker-symbol": "marker"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5152641,
          52.5060419
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "0",
        "jobs_ids": "job11",
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "stop_idx": "6"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4740528,
          52.4989511
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job10",
        "marker-symbol": "marker",
        "tour_idx": "0",
        "marker-color": "#e6194b",
        "stop_idx": "7",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4698049,
          52.4945572
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#e6194b",
        "marker-size": "medium",
        "jobs_ids": "job22",
        "marker-symbol": "marker",
        "stop_idx": "8",
        "tour_idx": "0"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4363713,
          52.4828453
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#e6194b",
        "tour_idx": "0",
        "stop_idx": "9",
        "marker-size": "medium",
        "jobs_ids": "job14",
        "marker-symbol": "marker"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3628588,
          52.4742821
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "10",
        "marker-color": "#e6194b",
        "jobs_ids": "job41",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "tour_idx": "0"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3321906,
          52.4711004
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "arrival",
        "stop_idx": "11",
        "marker-size": "medium",
        "tour_idx": "0",
        "marker-symbol": "warehouse",
        "marker-color": "#e6194b"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "warehouse",
        "tour_idx": "1",
        "jobs_ids": "departure",
        "marker-size": "medium",
        "marker-color": "#808080",
        "stop_idx": "0"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "tour_idx": "1",
        "marker-color": "#808080",
        "marker-size": "medium",
        "stop_idx": "1",
        "jobs_ids": "job47"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2852959,
          52.5146285
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "2",
        "jobs_ids": "job20",
        "marker-size": "medium",
        "marker-color": "#808080",
        "marker-symbol": "marker",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.304444,
          52.5192039
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "1",
        "stop_idx": "3",
        "jobs_ids": "job46",
        "marker-color": "#808080",
        "marker-size": "medium",
        "marker-symbol": "marker"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2940051,
          52.5632095
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job15",
        "marker-color": "#808080",
        "marker-size": "medium",
        "tour_idx": "1",
        "stop_idx": "4",
        "marker-symbol": "marker"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3027992,
          52.5650163
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "marker-color": "#808080",
        "tour_idx": "1",
        "stop_idx": "5",
        "marker-symbol": "marker",
        "jobs_ids": "job18"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3327894,
          52.5473416
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "stop_idx": "6",
        "marker-color": "#808080",
        "tour_idx": "1",
        "jobs_ids": "job13",
        "marker-symbol": "marker"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.369072,
          52.5685168
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "7",
        "tour_idx": "1",
        "jobs_ids": "job1",
        "marker-symbol": "marker",
        "marker-size": "medium",
        "marker-color": "#808080"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3848221,
          52.5697304
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job39",
        "marker-color": "#808080",
        "stop_idx": "8",
        "tour_idx": "1",
        "marker-symbol": "marker",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.369356,
          52.5492619
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "1",
        "jobs_ids": "job23",
        "marker-size": "medium",
        "marker-color": "#808080",
        "stop_idx": "9",
        "marker-symbol": "marker"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3668934,
          52.5291335
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job28",
        "marker-symbol": "marker",
        "marker-size": "medium",
        "marker-color": "#808080",
        "stop_idx": "10",
        "tour_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3689955,
          52.5065998
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "warehouse",
        "jobs_ids": "arrival",
        "marker-color": "#808080",
        "marker-size": "medium",
        "tour_idx": "1",
        "stop_idx": "11"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "warehouse",
        "marker-size": "medium",
        "jobs_ids": "departure",
        "stop_idx": "0",
        "marker-color": "#000075",
        "tour_idx": "2"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "tour_idx": "2",
        "marker-color": "#000075",
        "stop_idx": "1",
        "jobs_ids": "job29",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3733163,
          52.547349
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "marker-size": "medium",
        "marker-color": "#000075",
        "stop_idx": "2",
        "tour_idx": "2",
        "jobs_ids": "job38"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3914127,
          52.5404107
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "3",
        "marker-symbol": "marker",
        "marker-color": "#000075",
        "jobs_ids": "job8",
        "tour_idx": "2",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3989552,
          52.5429597
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "2",
        "marker-symbol": "marker",
        "marker-color": "#000075",
        "marker-size": "medium",
        "stop_idx": "4",
        "jobs_ids": "job43"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4194712,
          52.5614441
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "2",
        "marker-symbol": "marker",
        "marker-color": "#000075",
        "marker-size": "medium",
        "stop_idx": "5",
        "jobs_ids": "job9"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4231417,
          52.5678751
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "6",
        "jobs_ids": "job16",
        "marker-color": "#000075",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "tour_idx": "2"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4286263,
          52.5496702
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "jobs_ids": "job34",
        "tour_idx": "2",
        "stop_idx": "7",
        "marker-symbol": "marker",
        "marker-color": "#000075"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4416407,
          52.5431264
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "tour_idx": "2",
        "stop_idx": "8",
        "marker-color": "#000075",
        "jobs_ids": "job45",
        "marker-symbol": "marker"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4139155,
          52.5425207
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "9",
        "jobs_ids": "job7",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "tour_idx": "2",
        "marker-color": "#000075"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3996298,
          52.5372914
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "tour_idx": "2",
        "marker-color": "#000075",
        "jobs_ids": "job25",
        "marker-symbol": "marker",
        "stop_idx": "10"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3890068,
          52.5189653
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "marker-symbol": "warehouse",
        "stop_idx": "11",
        "jobs_ids": "arrival",
        "tour_idx": "2",
        "marker-color": "#000075"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "0",
        "jobs_ids": "departure",
        "marker-color": "#808000",
        "marker-size": "medium",
        "tour_idx": "3",
        "marker-symbol": "warehouse"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job32",
        "tour_idx": "3",
        "marker-symbol": "marker",
        "marker-size": "medium",
        "marker-color": "#808000",
        "stop_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.322692,
          52.4661617
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "marker-size": "medium",
        "stop_idx": "2",
        "jobs_ids": "job36",
        "marker-color": "#808000",
        "tour_idx": "3"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3598752,
          52.4708241
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#808000",
        "marker-size": "medium",
        "tour_idx": "3",
        "jobs_ids": "job37",
        "marker-symbol": "marker",
        "stop_idx": "3"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.38667,
          52.4737341
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "marker-size": "medium",
        "tour_idx": "3",
        "jobs_ids": "job12",
        "stop_idx": "4",
        "marker-color": "#808000"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4461224,
          52.4658835
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job5",
        "stop_idx": "5",
        "marker-size": "medium",
        "marker-color": "#808000",
        "marker-symbol": "marker",
        "tour_idx": "3"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4757055,
          52.4629002
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job30",
        "stop_idx": "6",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "marker-color": "#808000",
        "tour_idx": "3"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4914662,
          52.4695374
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "3",
        "stop_idx": "7",
        "jobs_ids": "job42",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "marker-color": "#808000"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5423247,
          52.4871049
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "tour_idx": "3",
        "stop_idx": "8",
        "marker-color": "#808000",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "jobs_ids": "job33"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5251532,
          52.4917198
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "tour_idx": "3",
        "marker-color": "#808000",
        "jobs_ids": "job17",
        "stop_idx": "9",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.475099,
          52.5058684
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job48",
        "tour_idx": "3",
        "marker-symbol": "marker",
        "stop_idx": "10",
        "marker-color": "#808000",
        "marker-size": "medium"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3832067,
          52.4855438
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#808000",
        "marker-size": "medium",
        "stop_idx": "11",
        "tour_idx": "3",
        "jobs_ids": "arrival",
        "marker-symbol": "warehouse"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#800000",
        "marker-size": "medium",
        "marker-symbol": "warehouse",
        "tour_idx": "4",
        "stop_idx": "0",
        "jobs_ids": "departure"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "job40",
        "marker-symbol": "marker",
        "marker-color": "#800000",
        "marker-size": "medium",
        "tour_idx": "4",
        "stop_idx": "1"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3157235,
          52.4827319
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "marker",
        "jobs_ids": "job31",
        "tour_idx": "4",
        "marker-size": "medium",
        "marker-color": "#800000",
        "stop_idx": "2"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3353656,
          52.4868236
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "3",
        "jobs_ids": "job50",
        "marker-color": "#800000",
        "tour_idx": "4",
        "marker-size": "medium",
        "marker-symbol": "marker"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3539713,
          52.4959052
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "4",
        "jobs_ids": "job21",
        "marker-color": "#800000",
        "marker-symbol": "marker",
        "marker-size": "medium",
        "tour_idx": "4"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4418623,
          52.5228904
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stop_idx": "5",
        "marker-size": "medium",
        "marker-color": "#800000",
        "marker-symbol": "marker",
        "jobs_ids": "job4",
        "tour_idx": "4"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4619776,
          52.5243421
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#800000",
        "marker-size": "medium",
        "marker-symbol": "marker",
        "tour_idx": "4",
        "stop_idx": "6",
        "jobs_ids": "job35"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5161692,
          52.5426716
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#800000",
        "marker-symbol": "marker",
        "stop_idx": "7",
        "jobs_ids": "job3",
        "marker-size": "medium",
        "tour_idx": "4"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.5189513,
          52.5421315
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "marker-symbol": "marker",
        "stop_idx": "8",
        "tour_idx": "4",
        "jobs_ids": "job44",
        "marker-color": "#800000"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.527639,
          52.5414557
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#800000",
        "tour_idx": "4",
        "marker-size": "medium",
        "stop_idx": "9",
        "jobs_ids": "job49",
        "marker-symbol": "marker"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.4995315,
          52.5279215
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-size": "medium",
        "marker-color": "#800000",
        "marker-symbol": "marker",
        "tour_idx": "4",
        "jobs_ids": "job27",
        "stop_idx": "10"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.3788834,
          52.4940454
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "jobs_ids": "arrival",
        "marker-color": "#800000",
        "marker-size": "medium",
        "marker-symbol": "warehouse",
        "tour_idx": "4",
        "stop_idx": "11"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          13.2812488,
          52.4664257
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "shift_idx": "0",
        "tour_idx": "0",
        "activities": "12",
        "distance": "39345",
        "vehicle_id": "vehicle_1",
        "stroke": "#e6194b",
        "stroke-width": "4"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.2812488,
            52.4664257
          ],
          [
            13.3915876,
            52.4960479
          ],
          [
            13.4368189,
            52.5090143
          ],
          [
            13.5062954,
            52.5261554
          ],
          [
            13.546564,
            52.5276784
          ],
          [
            13.5152641,
            52.5060419
          ],
          [
            13.4740528,
            52.4989511
          ],
          [
            13.4698049,
            52.4945572
          ],
          [
            13.4363713,
            52.4828453
          ],
          [
            13.3628588,
            52.4742821
          ],
          [
            13.3321906,
            52.4711004
          ],
          [
            13.2812488,
            52.4664257
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "shift_idx": "0",
        "distance": "34357",
        "tour_idx": "1",
        "activities": "12",
        "vehicle_id": "vehicle_5",
        "stroke": "#3cb44b",
        "stroke-width": "4"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.2812488,
            52.4664257
          ],
          [
            13.2852959,
            52.5146285
          ],
          [
            13.304444,
            52.5192039
          ],
          [
            13.2940051,
            52.5632095
          ],
          [
            13.3027992,
            52.5650163
          ],
          [
            13.3327894,
            52.5473416
          ],
          [
            13.369072,
            52.5685168
          ],
          [
            13.3848221,
            52.5697304
          ],
          [
            13.369356,
            52.5492619
          ],
          [
            13.3668934,
            52.5291335
          ],
          [
            13.3689955,
            52.5065998
          ],
          [
            13.2812488,
            52.4664257
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "distance": "33959",
        "activities": "12",
        "stroke": "#4363d8",
        "shift_idx": "0",
        "vehicle_id": "vehicle_4",
        "tour_idx": "2",
        "stroke-width": "4"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.2812488,
            52.4664257
          ],
          [
            13.3733163,
            52.547349
          ],
          [
            13.3914127,
            52.5404107
          ],
          [
            13.3989552,
            52.5429597
          ],
          [
            13.4194712,
            52.5614441
          ],
          [
            13.4231417,
            52.5678751
          ],
          [
            13.4286263,
            52.5496702
          ],
          [
            13.4416407,
            52.5431264
          ],
          [
            13.4139155,
            52.5425207
          ],
          [
            13.3996298,
            52.5372914
          ],
          [
            13.3890068,
            52.5189653
          ],
          [
            13.2812488,
            52.4664257
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "distance": "37524",
        "tour_idx": "3",
        "vehicle_id": "vehicle_2",
        "shift_idx": "0",
        "activities": "12",
        "stroke-width": "4",
        "stroke": "#f58231"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.2812488,
            52.4664257
          ],
          [
            13.322692,
            52.4661617
          ],
          [
            13.3598752,
            52.4708241
          ],
          [
            13.38667,
            52.4737341
          ],
          [
            13.4461224,
            52.4658835
          ],
          [
            13.4757055,
            52.4629002
          ],
          [
            13.4914662,
            52.4695374
          ],
          [
            13.5423247,
            52.4871049
          ],
          [
            13.5251532,
            52.4917198
          ],
          [
            13.475099,
            52.5058684
          ],
          [
            13.3832067,
            52.4855438
          ],
          [
            13.2812488,
            52.4664257
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "stroke": "#911eb4",
        "tour_idx": "4",
        "distance": "37743",
        "shift_idx": "0",
        "activities": "12",
        "stroke-width": "4",
        "vehicle_id": "vehicle_3"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            13.2812488,
            52.4664257
          ],
          [
            13.3157235,
            52.4827319
          ],
          [
            13.3353656,
            52.4868236
          ],
          [
            13.3539713,
            52.4959052
          ],
          [
            13.4418623,
            52.5228904
          ],
          [
            13.4619776,
            52.5243421
          ],
          [
            13.5161692,
            52.5426716
          ],
          [
            13.5189513,
            52.5421315
          ],
          [
            13.527639,
            52.5414557
          ],
          [
            13.4995315,
            52.5279215
          ],
          [
            13.3788834,
            52.4940454
          ],
          [
            13.2812488,
            52.4664257
          ]
        ]
      }
    }
  ]
}
</div>
<div id="map"></div>
<p>This objective balances tour distances for all tours:</p>
<pre><code class="language-json">  "objectives": [
    {
      "type": "minimize-unassigned"
    },
    {
      "type": "minimize-tours"
    },
    {
      "type": "multi-objective",
      "strategy": {
        "name": "sum"
      },
      "objectives": [
        {
          "type": "minimize-cost"
        },
        {
          "type": "balance-distance"
        }
      ]
    }
  ]
</code></pre>
<p>All used vehicles should have total tour distance close to each other.</p>
<p>The same way you can balance by travel duration using <code>balance-duration</code> objective.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="programmatic-usage"><a class="header" href="#programmatic-usage">Programmatic usage</a></h1>
<p>This section contains examples which show how to call the solver from other languages.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="java"><a class="header" href="#java">Java</a></h1>
<p>This is example how to call solver methods from <strong>java</strong>. You need to make sure that <code>vrp-cli</code> library is available
in runtime, e.g. by copying corresponding binary (<code>libvrp_cli.so</code> on Linux) to <code>resources</code> directory. To build it, use
the following command:</p>
<pre><code>cargo build --release
</code></pre>
<pre><code class="language-java">package vrp.example.java;

import com.sun.jna.Callback;
import com.sun.jna.Library;
import com.sun.jna.Native;

import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Paths;

/** Encapsulate Vehicle Routing Problem solver behavior.  */
interface Solver extends Library {
    /** Gets list of routing matrix locations. **/
    void get_routing_locations(String problem, OnSuccess onSuccess, OnError onError);
    /** Converts problem to pragmatic format. **/
    void convert_to_pragmatic(String format, String[] inputs, int inputsLen, OnSuccess onSuccess, OnError onError);
    /** Solves pragmatic problem. **/
    void solve_pragmatic(String problem, String[] matrices,
                         int matricesSize,
                         String config,
                         OnSuccess onSuccess, OnError onError);
}

interface OnSuccess extends Callback {
    void result(String json);
}

interface OnError extends Callback {
    void result(String error);
}

class Application {
    public static void main(String[] args) throws IOException {
        if (args.length &lt; 1) {
            throw new IllegalStateException("Specify problem and, optionally, routing matrices paths");
        }

        String problem = new String(Files.readAllBytes(Paths.get(args[0])));
        String[] matrices = new String[args.length - 1];
        for (int i = 1; i &lt; args.length; i++) {
            matrices[i - 1] = new String(Files.readAllBytes(Paths.get(args[i])));
        }

        Solver solver = Native.load("vrp_cli", Solver.class);

        solver.get_routing_locations(problem,
                new OnSuccess() {
                    @Override
                    public void result(String json) {
                        System.out.println(json);
                    }
                }, new OnError() {
                    @Override
                    public void result(String error) {
                        System.out.println(error);
                    }
                });

        solver.solve_pragmatic(problem, matrices, matrices.length, "{}",
                new OnSuccess() {
                    @Override
                    public void result(String json) {
                        System.out.println(json);
                    }
                }, new OnError() {
                    @Override
                    public void result(String error) {
                        System.out.println(error);
                    }
                });
    }
}
</code></pre>
<p>You can check the project repository for complete example.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="kotlin"><a class="header" href="#kotlin">Kotlin</a></h1>
<p>This is example how to call solver methods from <strong>kotlin</strong>. You need to make sure that <code>vrp-cli</code> library is available
in runtime, e.g. by copying corresponding binary (<code>libvrp_cli.so</code> on Linux) to <code>resources</code> directory. To build it, use
the following command;</p>
<pre><code>cargo build --release
</code></pre>
<pre><code class="language-kotlin">package vrp.example.kotlin

import com.sun.jna.Callback
import com.sun.jna.Library
import com.sun.jna.Native
import java.nio.file.Files
import java.nio.file.Paths

/** Encapsulate Vehicle Routing Problem solver behavior.  */
private interface Solver : Library {
    /** Gets list of routing matrix locations **/
    fun get_routing_locations(problem: String, onSuccess: OnSuccess, onError: OnError)
    /** Converts problem to pragmatic format. **/
    fun convert_to_pragmatic(format: String, inputs: Array&lt;String&gt;, inputsLen: Int, onSuccess: OnSuccess, onError: OnError)
    /** Solves pragmatic problem. **/
    fun solve_pragmatic(problem: String,
                        matrices: Array&lt;String&gt;,
                        matricesLen: Int,
                        config: String,
                        onSuccess: OnSuccess, onError: OnError)
}

private interface OnSuccess : Callback {
    fun result(json: String)
}

private interface OnError : Callback {
    fun result(error: String)
}

fun main(args: Array&lt;String&gt;) {
    if (args.count() &lt; 1) {
        throw IllegalStateException("Specify problem and, optionally, routing matrices paths")
    }

    val problem = String(Files.readAllBytes(Paths.get(args[0])))
    val matrices = args.drop(1).map { String(Files.readAllBytes(Paths.get(it))) }.toTypedArray()

    val solver = Native.load("vrp_cli", Solver::class.java)

    solver.get_routing_locations(problem,
            onSuccess = object : OnSuccess {
                override fun result(json: String) {
                    println("locations: $json")
                }
            },
            onError = object : OnError {
                override fun result(error: String) {
                    println(error)
                }
            }
    )

    solver.solve_pragmatic(problem, matrices, matrices.size, "{}",
            onSuccess = object : OnSuccess {
                override fun result(json: String) {
                    println("solution: $json")
                }
            },
            onError = object : OnError {
                override fun result(error: String) {
                    println(error)
                }
            }
    )
}
</code></pre>
<p>You can check the project repository for complete example.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="javascript"><a class="header" href="#javascript">Javascript</a></h1>
<p>This is example how to call solver methods from <strong>javascript</strong> in browser. You need to build <code>vrp-cli</code> library for
<code>WebAssembly</code> target. To do this, you can use <a href="https://rustwasm.github.io/wasm-pack/installer">wasm-pack</a>:</p>
<pre><code>cd vrp-cli
wasm-pack build --target web
</code></pre>
<p>It should generate <code>wasm</code> build + some javascript files for you. If you want to have a smaller binary, you can try
to build without default features: <code>csv-format</code>, <code>hre-format</code>, <code>scientific-format</code>.</p>
<p>To test it, use the following index.html file:</p>
<pre><code class="language-html">&lt;html&gt;
&lt;head&gt;
    &lt;meta content="text/html;charset=utf-8" http-equiv="Content-Type"/&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;script type="module"&gt;
    import init, { get_routing_locations, solve_pragmatic } from './pkg/vrp_cli.js';

    async function run() {
        await init();

        const pragmatic_problem = JSON.parse(`
{
  "plan": {
    "jobs": [
      {
        "id": "job1",
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.52599,
                  "lng": 13.45413
                },
                "duration": 300.0,
                "times": [
                  [
                    "2019-07-04T09:00:00Z",
                    "2019-07-04T18:00:00Z"
                  ],
                  [
                    "2019-07-05T09:00:00Z",
                    "2019-07-05T18:00:00Z"
                  ]
                ]
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job2",
        "pickups": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5225,
                  "lng": 13.4095
                },
                "duration": 240.0,
                "times": [
                  [
                    "2019-07-04T10:00:00Z",
                    "2019-07-04T16:00:00Z"
                  ]
                ]
              }
            ],
            "demand": [
              1
            ]
          }
        ]
      },
      {
        "id": "job3",
        "pickups": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5225,
                  "lng": 13.4095
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ],
            "tag": "p1"
          }
        ],
        "deliveries": [
          {
            "places": [
              {
                "location": {
                  "lat": 52.5165,
                  "lng": 13.3808
                },
                "duration": 300.0
              }
            ],
            "demand": [
              1
            ],
            "tag": "d1"
          }
        ]
      }
    ]
  },
  "fleet": {
    "vehicles": [
      {
        "typeId": "vehicle",
        "vehicleIds": [
          "vehicle_1"
        ],
       "profile": {
          "matrix": "normal_car"
        },
        "costs": {
          "fixed": 22.0,
          "distance": 0.0002,
          "time": 0.004806
        },
        "shifts": [
          {
            "start": {
              "earliest": "2019-07-04T09:00:00Z",
              "location": {
                "lat": 52.5316,
                "lng": 13.3884
              }
            },
            "end": {
              "latest": "2019-07-04T18:00:00Z",
              "location": {
                "lat": 52.5316,
                "lng": 13.3884
              }
            }
          }
        ],
        "capacity": [
          10
        ]
      }
    ],
    "profiles": [
      {
        "name": "normal_car"
      }
    ]
  }
}
`);

        const locations = get_routing_locations(pragmatic_problem);
        console.log(`routing locations are:\n ${locations}`);

        // NOTE let's assume we got routing matrix data for locations somehow
        // NOTE or just pass an empty array to use great-circle distance approximation
        const matrix_data= [
            {
                "matrix": "normal_car",
                "travelTimes": [
                   0,    609, 981, 906,
                   813,  0,   371, 590,
                   1055, 514, 0,   439,
                   948,  511, 463,   0
                ],
                "distances": [
                   0,    3840,  5994,  5333,
                   4696, 0,     2154,  3226,
                   5763, 2674,  0,     2145,
                   5112, 2470,  2152,  0
                ]
            }
        ];

        // config provides the way to tweak algorithm behavior
        const config = {
            "termination": {
                 "maxTime": 10,
                 "maxGenerations": 1000
            }
        };

        const solution = solve_pragmatic(pragmatic_problem, matrix_data, config);
        console.log(`solution is:\n ${solution}`);
    }

    run();
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="python"><a class="header" href="#python">Python</a></h1>
<h2 id="using-pip"><a class="header" href="#using-pip">Using pip</a></h2>
<p>This is the easiest way to start using the solver's latest version:</p>
<pre><code class="language-shell">pip install vrp-cli
python examples/python-interop/example.py # test example
</code></pre>
<p>See python code example in repo or in next section.</p>
<h2 id="using-maturin"><a class="header" href="#using-maturin">Using maturin</a></h2>
<p>You can use <a href="https://github.com/PyO3/maturin">maturin</a> tool to build solver locally for you. Here are the steps:</p>
<ol>
<li>
<p>Create a virtual environment and install maturin (and pydantic):</p>
<pre><code class="language-shell">cd vrp-cli # directory of the crate where with python bindings are located
python3 -m venv .venv
source .venv/bin/activate
pip install -U pip maturin[patchelf] pydantic
pip freeze
</code></pre>
</li>
<li>
<p>Use maturin to build and install the solver library in your current environment:</p>
<pre><code class="language-shell">maturin develop --release --features "py_bindings"
</code></pre>
</li>
<li>
<p>Import and use the library in your python code:</p>
</li>
</ol>
<pre><code class="language-python">import vrp_cli
import pragmatic_types as prg
import config_types as cfg
import json
from pydantic.json import pydantic_encoder

# if you want to use approximation, you can skip this definition and pass empty list later
# also there is a get_locations method to get list of locations in expected order.
# you can use this list to fetch routing matrix externally
matrix = prg.RoutingMatrix(
    profile='normal_car',
    durations=[0, 609, 981, 906, 813, 0, 371, 590, 1055, 514, 0, 439, 948, 511, 463, 0],
    distances=[0, 3840, 5994, 5333, 4696, 0, 2154, 3226, 5763, 2674, 0, 2145, 5112, 2470, 2152, 0]
)


# specify termination criteria: max running time in seconds or max amount of refinement generations
config = cfg.Config(
    termination=cfg.Termination(
        maxTime=5,
        maxGenerations=1000
    )
)

# specify test problem
problem = prg.Problem(
    plan=prg.Plan(
        jobs=[
            prg.Job(
                id='delivery_job1',
                deliveries=[
                    prg.JobTask(
                        places=[
                            prg.JobPlace(
                                location=prg.Location(lat=52.52599, lng=13.45413),
                                duration=300,
                                times=[['2019-07-04T09:00:00Z', '2019-07-04T18:00:00Z']]
                            ),
                        ],
                        demand=[1]
                    )
                ]
            ),
            prg.Job(
                id='pickup_job2',
                pickups=[
                    prg.JobTask(
                        places=[
                            prg.JobPlace(
                                location=prg.Location(lat=52.5225, lng=13.4095),
                                duration=240,
                                times=[['2019-07-04T10:00:00Z', '2019-07-04T16:00:00Z']]
                            )
                        ],
                        demand=[1]
                    )
                ]
            ),
            prg.Job(
                id="pickup_delivery_job3",
                pickups=[
                    prg.JobTask(
                        places=[
                            prg.JobPlace(
                                location=prg.Location(lat=52.5225, lng=13.4095),
                                duration=300,
                                tag="p1"
                            )
                        ],
                        demand=[1]
                    )
                ],
                deliveries=[
                    prg.JobTask(
                        places=[
                            prg.JobPlace(
                                location=prg.Location(lat=52.5165, lng=13.3808),
                                duration=300,
                                tag="d1"
                            ),
                        ],
                        demand=[1]
                    )
                ]
            )
        ]
    ),
    fleet=prg.Fleet(
        vehicles=[
            prg.VehicleType(
                typeId='vehicle',
                vehicleIds=['vehicle_1'],
                profile=prg.VehicleProfile(matrix='normal_car'),
                costs=prg.VehicleCosts(fixed=22, distance=0.0002, time=0.005),
                shifts=[
                    prg.VehicleShift(
                        start=prg.VehicleShiftStart(
                            earliest="2019-07-04T09:00:00Z",
                            location=prg.Location(lat=52.5316, lng=13.3884),
                        ),
                        end=prg.VehicleShiftEnd(
                            latest="2019-07-04T18:00:00Z",
                            location=prg.Location(lat=52.5316, lng=13.3884),
                        )
                    )
                ],
                capacity=[10]
            )
        ],
        profiles=[prg.RoutingProfile(name='normal_car')]
    )

)

# run solver and deserialize result into solution model
solution = prg.Solution(**json.loads(vrp_cli.solve_pragmatic(
    problem=json.dumps(problem, default=pydantic_encoder),
    matrices=[json.dumps(matrix, default=pydantic_encoder)],
    config=json.dumps(config, default=pydantic_encoder),
)))

print(solution)
</code></pre>
<p>You can check the project repository for complete example.</p>
<p><strong>Please note</strong>, that type wrappers, defined in examples with <code>pydantic</code>, are incomplete. However, it should be enough to
get started, and you can tweak them according to the documentation or rust source code.</p>
<h2 id="using-local-build"><a class="header" href="#using-local-build">Using local build</a></h2>
<p>Another way to run the solver, built locally, from python is to use <code>subprocess</code> to run <code>vrp-cli</code> directly:</p>
<pre><code class="language-python">import subprocess
import json

# NOTE: ensure that paths are correct on your environment
cli_path = "./target/release/vrp-cli"
problem_path = "./examples/data/pragmatic/simple.basic.problem.json"
solution_path = "./examples/data/pragmatic/simple.basic.solution.json"
geojson_solution_path = "./examples/data/pragmatic/simple.basic.solution.geojson"

class Deserializer:
    @classmethod
    def from_dict(cls, dict):
        obj = cls()
        obj.__dict__.update(dict)
        return obj

class SolverClient:
    def __init__(self, cli_path):
        self.cli_path = cli_path

    def solve_pragmatic(self, problem_path, solution_path, geojson_solution_path):
        # NOTE: modify example to pass matrix, config, initial solution, etc.
        p = subprocess.run([self.cli_path, 'solve', 'pragmatic', problem_path,
            '-o', solution_path, '-g', geojson_solution_path, '--log'])

        if p.returncode == 0:
            with open(solution_path, 'r') as f:
                solution_str = f.read()
                return json.loads(solution_str, object_hook=Deserializer.from_dict)
        else:
            pass

solver = SolverClient(cli_path)
solution = solver.solve_pragmatic(problem_path, solution_path, geojson_solution_path)

print(f"Total cost is {solution.statistic.cost}, tours: {len(solution.tours)}")
</code></pre>
<p><strong>Please note</strong>, that the solver expects file paths instead of json strings as input arguments.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="internals"><a class="header" href="#internals">Internals</a></h1>
<p>This chapter describes some internals of the project.</p>
<h2 id="project-structure"><a class="header" href="#project-structure">Project structure</a></h2>
<p>The project consists of the following parts:</p>
<ul>
<li><strong>vrp solver code</strong>: the source code of the solver is split into four crates:
<ul>
<li><em>rosomaxa</em>: a crate with various metaheuristic building blocks and its default implementation</li>
<li><em>vrp-core</em>: a core crate for vrp domain</li>
<li><em>vrp-scientific</em>: a crate with functionality to solve problems from some of scientific benchmarks on top of the core crate</li>
<li><em>vrp-pragmatic</em>: a crate which provides logic to solve rich VRP using <code>pragmatic</code> json format on top of the core crate</li>
<li><em>vrp-cli</em>: a crate which aggregates logic of others crates and exposes them as a library and application</li>
</ul>
</li>
<li><strong>docs</strong>: a source code of the user guide documentation published <a href="https://reinterpretcat.github.io/vrp">here</a>.
Use <a href="https://github.com/rust-lang/mdBook">mdbook</a> tool to build it locally.</li>
<li><strong>examples</strong>: provides various examples:
<ul>
<li><em>data</em>: a data examples such as problem definition, configuration, etc.</li>
<li><em>json-pragmatic</em>: an example how to solve problem in <code>pragmatic</code> json format from rust code using the project crates</li>
<li><em>jvm-interop</em>: a gradle project which demonstrates how to use the library from java and kotlin</li>
</ul>
</li>
<li><strong>experiments</strong>: a playground for various experiments</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="overview"><a class="header" href="#overview">Overview</a></h1>
<p>Mind map which describes in short project's goals, used algorithms, and challenges.</p>
<pre><code class="language-plantuml">@startmindmap
&lt;style&gt;
mindmapDiagram {
    :depth(1) {
      BackGroundColor lightGreen
    }
}
&lt;/style&gt;

*[#white] solver

right side
 * mission/goal
  * best feature set
   *_ as many features as possible
   *_ out of the box
  * good quality
   *_ close to best known
  * fast
   *_ return acceptable solutions fast
  * low resource consumption
   *_ memory
   *_ cpu


 * features
  * variants
   *_ Capacitated VRP (CVRP)
   *_ Heterogeneous Fleet VRP (HFVRP)
   *_ VRP with Time Windows (VRPTW)
   *_ VRP with Pickup and Delivery (VRPPD)
   *_ VRP with backhauls (VRPB)
   *_ Multi-Depot VRP (MDVRP)
   *_ Multi-Trip VRP (MTVRP)
   *_ Multi-Objective VRP (MOVRP)
   *_ Open VRP (OVRP)
   *_ VRP with Lunch Break (VRPLB)
   *_ VRP with Route Balance (VRPRB)
   *_ Periodic VRP (PVRP)
   *_ Time dependent VRP (TDVRP)
   *_ Skill VRP (SVRP)
   *_ Traveling Salesman Problem (TSP)
   *_ ...

  * informal
   * stable
    *_ pickups, deliveries, skills, etc.
    *_ multi-location job
    *_ initial solution
    *_ scientific formats
    *_ ...
   * experimental
    * job type
     *_ service
     *_ replacement
     * multi-job
      *_ minor perf. improv.
    * vehicle place
     *_ reload
    * break
     *_ legal break
     *_ multiple breaks
     *_ unassigned break weight
    *_ multi tour
    *_ tour balancing
    *_ time dependent routing
    *_ multiple solutions
    *_ ...


 * heuristics

  * constructive
   * insertion
    *_ cheapest
    *_ n-regret
    *_ skip n-best
    *_ blinks
    *_ + 3 more    
   *_ nearest-neighbour

  * meta

   * mutation
    * ruin recreate (LNS)
     * ruin
      *_ adjusted string removal (SISR)
      *_ cluster removal (DBSCAN)
      *_ random job removal
      *_ + 3 more
     * recreate
      *_ reuse constructuve heuristics
    * local search
     *_ inter route exch.
     *_ intra route exch.
    * decomposition
     *_ decompose solution into smaller ones
     *_ create and solve smaller problems independently
     *_ compose a new solution from partial ones

   * diversification
    * rosomaxa
     *_ cluster solutions by ANN (GSOM)
     *_ 2D search process visualization
     *_ diversity tuning
    *_ elite
    *_ greedy

   * objective
    * kind
     *_ lexicographical
    * types
     *_ minimize/maximize routes
     *_ minimize cost
     *_ minimize unassigned
     *_ tour balancing

  * hyper
   * kind
    * selection
     * fixed probabilities
      *_ select from the list
      *_ combine multiple
 
     * dynamic probabilities
      *_ MDP model
      *_ apply RL

    * generative
     *_ TBD

 * challenges
  * exploration/exploitation dilemma
   * issues
    *_ stagnation
    *_ unstable quality results
   * solutions
    * improve meta-heuristic
     *_ more ruin/recreates
     *_ optimal deconstruction (removal) size
     *_ more local search operators (e.g. 2-opt.)
     *_ extra mutation types
    * improve hyper-heuristic
     *_ RL/MDP: dynamic probabilities [WIP]
     *_ ROSOMAXA: dynamic parameters

  * algorithm optimizations
   *_ data parallelism control
   *_ caching

  * feature requirements
   * issues
    * algorithm extensibility
     *_ insertion heuristic assumptions
     *_ ruin/recreate approach
    *_ feature interference
    *_ common format representation

@endmindmap
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="development"><a class="header" href="#development">Development</a></h1>
<p>This chapter describes development topics, such as high level architecture, project structure, code style, testing, etc.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="project-structure-1"><a class="header" href="#project-structure-1">Project structure</a></h1>
<p>The project consists of the main and auxiliary crates. Additionally, there is some logical separation inside each group.</p>
<h2 id="main-crates"><a class="header" href="#main-crates">Main crates</a></h2>
<p>The following crates are "the heart" of VRP solver:</p>
<ul>
<li><a href="https://docs.rs/rosomaxa/latest"><code>rosomaxa</code></a>: contains key algorithms for solving optimization problems <strong>without</strong>
locking to the VRP domain such as hyper heuristics, evolution strategies, etc.</li>
<li><a href="https://docs.rs/vrp_core/latest"><code>vrp_core</code></a>: this crate provides all core VRP models / features with various meta heuristics to
solve rich VRP</li>
<li><a href="https://docs.rs/vrp_scientific/latest"><code>vrp_scientific</code></a>: has a building blocks to solve problems from some of scientific
benchmarks. It is useful to evaluate the solver performance in terms of solution quality, search stability and running time.</li>
<li><a href="https://docs.rs/vrp_pragmatic/latest"><code>vrp_pragmatic</code></a>: provides models to support rich VRP. It includes:
<ul>
<li>pragmatic model, serializable in json</li>
<li>solution checker</li>
<li>problem validator</li>
</ul>
</li>
<li><a href="https://docs.rs/vrp_cli/latest"><code>vrp_cli</code></a>: exposes VRP solve as command line interface or static library. Additionally,
has some extra features, such as:
<ul>
<li>various extra commands</li>
<li>pyO3 bindings to make library usable from Python</li>
<li>WASM bindings to run solver directly in the browser</li>
<li>..</li>
</ul>
</li>
</ul>
<p>For these crates, you can find extra information normally published on docs.rs.</p>
<h2 id="helper-cratesfunctionality"><a class="header" href="#helper-cratesfunctionality">Helper crates/functionality</a></h2>
<p>There are few:</p>
<ul>
<li><code>experiments/heuristic-research</code>: my way to experiment with heuristic using some hooks and visualizations.
Live version is exposed <a href="https://reinterpretcat.github.io/heuristics/www/">here</a></li>
<li><code>examples/json-pragmatic</code>: provides example how to use the library as a crate + contains tests and benchmarks on test data</li>
<li><code>examples/jvm-interop</code> / <code>python-interop</code>: some examples how to call library from other languages</li>
<li><code>examples/data</code>: various examples of problem definitions. Mostly used for testing and documentation</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="how-to-extend-solver"><a class="header" href="#how-to-extend-solver">How to extend solver</a></h1>
<p>This section's intention is to give a very brief explanation of some key concepts which might be needed for adding an extra
feature on top of existing logic. For more detailed information, check the corresponding main crates documentation or
source code</p>
<h2 id="constrains--objectives"><a class="header" href="#constrains--objectives">Constrains &amp; objectives</a></h2>
<p>A Vehicle Routing Problem used to consist of various constraints and objectives functions, such as:</p>
<ul>
<li>capacity constraint</li>
<li>time window constraint</li>
<li>job's total value maximization</li>
<li>cost/duration/distance minimization</li>
<li>etc.</li>
</ul>
<p>Internally, they can be divided into different groups:</p>
<ul>
<li><code>hard constraints</code>: a problem invariants which must be hold. Examples: vehicle capacity, job time window.</li>
<li><code>soft constraints</code>: a problem variants which should be either maximized or minimized. Examples: job assignment, served job's total value.</li>
<li><code>objectives</code>: an objective of optimization. Typically, it is hierarchical: first, try to assign all jobs, then reduce the total cost of serving them</li>
<li><code>state</code>: an auxiliary logic to cache some important state and retrieve it faster during search</li>
</ul>
<p>Under the hood, a <a href="https://docs.rs/vrp-core/latest/vrp_core/models/struct.Feature.html">feature</a> concept combines all these groups.
This is based on observation, that many features requires constraint and objective defined at the same time.</p>
<h2 id="a-feature-concept"><a class="header" href="#a-feature-concept">A feature concept</a></h2>
<p>Let's take a brief look at some example: a total job value feature, which purpose to maximize value of assigned jobs.
Here, each job has some associated value (or zero if it is not specified) and the purpose is to maximize it.</p>
<p>The following code below utilizes <code>FeatureBuilder</code> to construct the feature:</p>
<pre><code class="language-rust no_run noplayground">    FeatureBuilder::default()
        .with_name(name)
        .with_objective(MaximizeTotalValueObjective {
            estimate_value_fn: Arc::new({
                let job_read_value_fn = job_read_value_fn.clone();
                let sign = -1.;
                move |route_ctx, job| {
                    sign * match &amp;job_read_value_fn {
                        JobReadValueFn::Left(left_fn) =&gt; (left_fn)(job),
                        JobReadValueFn::Right(right_fn) =&gt; (right_fn)(route_ctx.route().actor.as_ref(), job),
                    }
                }
            }),
        })
        .with_constraint(MaximizeTotalValueConstraint { merge_code, job_read_value_fn, job_write_value_fn })
        .build()</code></pre>
<p>This builder gets:</p>
<ul>
<li>a unique feature <code>name</code></li>
<li>dedicated <code>objective function</code> which counts value and prefers solutions where it is maximized</li>
<li>a dedicated <code>constraint</code> which enforces some problem invariants regarding job value (in this case, only for proximity clustering)</li>
</ul>
<p>Additionally, the builder accepts <code>FeatureState</code>. Check existing features and <code>vrp-core/examples</code> for more details.</p>
<p>TODO: expand example</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="development-practices"><a class="header" href="#development-practices">Development practices</a></h1>
<p>This article describes some development practices used in the project.</p>
<h1 id="code-style"><a class="header" href="#code-style">Code style</a></h1>
<h2 id="file-level"><a class="header" href="#file-level">File level</a></h2>
<h3 id="try-to-keep-size-of-the-source-file-small"><a class="header" href="#try-to-keep-size-of-the-source-file-small">try to keep size of the source file small</a></h3>
<p>Ideally, the maximum file size is good to have in <code>[300,500]</code> range of lines in total.</p>
<h3 id="use--import-to-avoid-long-import-lines"><a class="header" href="#use--import-to-avoid-long-import-lines">use <code>*</code> import to avoid long import lines.</a></h3>
<p>Advantages:</p>
<ul>
<li>shorter import</li>
<li>less lines in total</li>
</ul>
<p>Disadvantages:</p>
<ul>
<li><code>it is bad for version control</code>: it’s harder to track what has been added to the local file namespace.
Although it is valid, I believe it is not a big issue.</li>
<li><code>it can lead to unnecessary naming collisions</code>.  Can be solved using aliasing (<code>alias</code>/<code>as</code> keywords)</li>
</ul>
<p><strong>NOTE</strong>: on crate level, <a href="https://doc.rust-lang.org/beta/reference/names/preludes.html">preludes</a> can be used to have a
collection of names that are automatically brought into scope of every module in a crate.</p>
<h2 id="function-level"><a class="header" href="#function-level">Function level</a></h2>
<h3 id="prefer-functional-style-over-imperative"><a class="header" href="#prefer-functional-style-over-imperative">prefer functional style over imperative</a></h3>
<ul>
<li>declarative approach which describes <code>what to do</code> rather <code>how to do</code></li>
<li>more readability as code is naturally grouped.</li>
</ul>
<p>For example, use list comprehensions over loops:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let mut sum = 0;
for i in 1..11 {
    sum += i;
}
println!("{}", sum);
<span class="boring">}</span></code></pre></pre>
<p>vs</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>println!("{}", (1..11).fold(0, |a, b| a + b));
<span class="boring">}</span></code></pre></pre>
<h3 id="prefer-linear-style-to-multiple-one-several-lines-functions-which-are-called-just-once"><a class="header" href="#prefer-linear-style-to-multiple-one-several-lines-functions-which-are-called-just-once">prefer linear style to multiple one-several lines functions which are called just once</a></h3>
<p>Advantages (personal taste):</p>
<ul>
<li>code is easier to follow (fewer jumps here and there over code base)</li>
<li>call stack is less nested, so debug is easier</li>
<li>benefit of not making it possible to call the function from other places</li>
</ul>
<p>However, this is not a hard rule. In some cases, you might prefer to split:</p>
<ul>
<li>multiple usages</li>
<li>separate function provides a good abstraction over complex logic</li>
<li>make sense to test it separately</li>
<li>..</li>
</ul>
<p>In general, don’t be over-eager to abstract, or offended by a few lines of duplication. Premature abstraction often
ends up coupling code that should not have to evolve together.</p>
<p>Please note, that this is not about proposing a single 1000-lines god function.</p>
<p>Additional resources:</p>
<ul>
<li>http://number-none.com/blow/blog/programming/2014/09/26/carmack-on-inlined-code.html</li>
</ul>
<h2 id="code-organization-level"><a class="header" href="#code-organization-level">Code organization level</a></h2>
<h3 id="prefer-directoryfile-hierarchy-over-flat-structure"><a class="header" href="#prefer-directoryfile-hierarchy-over-flat-structure">prefer directory/file hierarchy over flat structure</a></h3>
<h3 id="use-variable-name-shadowing"><a class="header" href="#use-variable-name-shadowing">use variable name shadowing</a></h3>
<p>This helps to reduce hassle in some degree by allowing:</p>
<ul>
<li>reusing variable names rather than creating unique ones;</li>
<li>transforming variables without making them mutable;</li>
<li>converting type without manually creating two variables of different types (compiler does it automatically)</li>
</ul>
<h2 id="comments"><a class="header" href="#comments">Comments</a></h2>
<h3 id="write-comments-on-public-api"><a class="header" href="#write-comments-on-public-api">write comments on public api</a></h3>
<p>It is enforced by <code>#![warn(missing_docs)]</code></p>
<h3 id="comment-non-trivial-logic-use-note-if-necessary"><a class="header" href="#comment-non-trivial-logic-use-note-if-necessary">comment non trivial logic, use <code>NOTE</code> if necessary</a></h3>
<h3 id="use-todo-prefix-to-signalize-about-missing-implementation"><a class="header" href="#use-todo-prefix-to-signalize-about-missing-implementation">use <code>TODO</code> prefix to signalize about missing implementation</a></h3>
<h1 id="toolchain"><a class="header" href="#toolchain">Toolchain</a></h1>
<h2 id="general"><a class="header" href="#general">General</a></h2>
<h3 id="use-code-formatter"><a class="header" href="#use-code-formatter">use code formatter</a></h3>
<p>Cargo formatter can be used:</p>
<pre><code>cargo fmt
</code></pre>
<p>Please note, that the project has some default rules in overridden. Check <code>.rustfmt.toml</code> file for details.</p>
<h3 id="use-static-code-analyzer"><a class="header" href="#use-static-code-analyzer">use static code analyzer</a></h3>
<p>Cargo clippy is default tool:</p>
<pre><code>cargo clippy --all-features -- -D warnings
</code></pre>
<p>This command runs clippy tool with the setting which interprets all warning as errors. This should be a default strategy.</p>
<h3 id="automate-some-steps-on-ci"><a class="header" href="#automate-some-steps-on-ci">automate some steps on CI</a></h3>
<ul>
<li>run unit/component/feature tests</li>
<li>measure code coverage</li>
</ul>
<h3 id="analyze-hot-spots"><a class="header" href="#analyze-hot-spots">analyze hot-spots</a></h3>
<p>The following command is useful to get a list of most modified files for last two years according to the git history:</p>
<pre><code>git log --pretty=format: --since="2 years ago" --name-only -- "*.rs" | sed '/^\s*$/d' | sort | uniq -c | sort -rg | head -20
</code></pre>
<p>The idea is to look closely at top of the list and refactor the big files to have more fine-grained and isolated abstractions
in separate modules (and files). This will help to reduce amount of changes in the same files, potentially done simultaneously
by the different team members.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="testing-wip"><a class="header" href="#testing-wip">Testing (WIP)</a></h1>
<p>This article contains a collection of various rules, suggestions and thoughts learned while working on vrp solver project.</p>
<h2 id="code-style-1"><a class="header" href="#code-style-1">Code style</a></h2>
<p>The first important aspect is a style specific for testing code only. Here the following aspects are considered:</p>
<h3 id="test-organization"><a class="header" href="#test-organization">test organization</a></h3>
<ul>
<li>
<p>tests are split into different types;</p>
<ul>
<li>unit tests</li>
<li>feature (integration) tests</li>
<li>discovery tests</li>
<li>performance tests</li>
<li>documentation tests</li>
</ul>
</li>
<li>
<p>where code is located</p>
<p><a href="https://doc.rust-lang.org/book/ch11-03-test-organization.html">Official documentation</a> suggests to put unit tests to the same file with the code that they’re testing.
This way you can test private interfaces too. In my opinion, keeping testing code within production decreases
maintainability of the later and it is better to separate them. So, the project uses the different approach:</p>
<ul>
<li>create a <code>tests</code> folder in the crate root. This folder is known by cargo as it is used for integration tests</li>
<li>based on test type, create a specific folder inside, e.g. <code>unit</code></li>
<li>create a separate file using the pattern <code>&lt;filename&gt;_test.rs</code></li>
<li>put it as a child of <code>tests</code> folder keeping the same directory tree, e.g. <code>my_crate/tests/unit/algorithms/clustering/dbscan_test.rc</code></li>
<li>in production code, include it as a child module using <code>path</code> directive:</li>
</ul>
</li>
</ul>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[cfg(test)]
#[path = "../../../tests/unit/algorithms/clustering/dbscan_test.rs"]
mod dbscan_test;
<span class="boring">}</span></code></pre></pre>
<p>The testing module is considered as child module, that's why it has full access to the production private interface.</p>
<h3 id="what-is-tested-todo"><a class="header" href="#what-is-tested-todo">what is tested (TODO)</a></h3>
<h3 id="shared-functionality"><a class="header" href="#shared-functionality">shared functionality</a></h3>
<ul>
<li>fake/stubs
<ul>
<li>fake constraints</li>
</ul>
</li>
<li>add helper logic for repeatable setup/validation functionality
<ul>
<li>simple functions</li>
<li>builder pattern</li>
<li>should be easily discoverable
<ul>
<li>add separate <code>helpers</code> module</li>
</ul>
</li>
</ul>
</li>
<li>..</li>
</ul>
<h2 id="test-types"><a class="header" href="#test-types">test types</a></h2>
<h3 id="unit--component-testing"><a class="header" href="#unit--component-testing">unit &amp; component testing</a></h3>
<ul>
<li>data-driven testing
<ul>
<li>check exact conditions and verify import</li>
</ul>
</li>
<li>mocks vs fakes</li>
</ul>
<h3 id="feature-testing"><a class="header" href="#feature-testing">feature testing</a></h3>
<ul>
<li>user acceptance tests</li>
</ul>
<h3 id="importance-of-discovery-tests"><a class="header" href="#importance-of-discovery-tests">importance of discovery tests</a></h3>
<ul>
<li>last resort</li>
<li>requires solution checker</li>
<li>might be difficult to debug
<ul>
<li>huge output</li>
<li>unable to minimize the problem
<ul>
<li>how to research such problems
<ul>
<li>minimize manually</li>
<li>disable parallelism</li>
<li>try to reduce amount of heuristics used (more predictable)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>proptest library</li>
</ul>
<h3 id="regression-tests"><a class="header" href="#regression-tests">regression tests</a></h3>
<ul>
<li>very specific use cases which were not handled by unit/component testing due to their complexity</li>
<li>ideally amount of such tests should be minimized</li>
<li>can be replaced by discovery tests?</li>
</ul>
<h3 id="performance-testing"><a class="header" href="#performance-testing">performance testing</a></h3>
<ul>
<li>libraries
<ul>
<li>criterion</li>
</ul>
</li>
<li>can be run using <code>cargo bench</code> command</li>
<li>difficult to have results stable
<ul>
<li>no isolation</li>
<li>non-determinism</li>
</ul>
</li>
</ul>
<h3 id="quality-testing"><a class="header" href="#quality-testing">quality testing</a></h3>
<ul>
<li>benchmarks
<ul>
<li>use scientific data
<ul>
<li>CVRP</li>
<li>VRPTW</li>
</ul>
</li>
<li>challenge: no information about how long it can be run</li>
</ul>
</li>
<li>script automation</li>
</ul>
<h3 id="documentation-tests"><a class="header" href="#documentation-tests">documentation tests</a></h3>
<ul>
<li>very few at the moment as the main focus is on standalone usage, not on as a crate lib.</li>
</ul>
<h2 id="metrics"><a class="header" href="#metrics">metrics</a></h2>
<h3 id="code-coverage"><a class="header" href="#code-coverage">code coverage</a></h3>
<ul>
<li>aim to have all significant logic covered</li>
<li>use generated reports to understand gaps in tested code</li>
<li>never write tests just to increase code coverage</li>
<li>90% is fine</li>
</ul>
<h3 id="tests-stability"><a class="header" href="#tests-stability">tests stability</a></h3>
<ul>
<li>aim for no random failures</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="algorithms"><a class="header" href="#algorithms">Algorithms</a></h1>
<p>This chapter describes some used algorithms.</p>
<h2 id="references"><a class="header" href="#references">References</a></h2>
<p>An incomplete list of important references:</p>
<ul>
<li>
<p>Clarke, G &amp; Wright, JW 1964: <code>Scheduling of vehicles from a Central Depot to a Number of the Delivery Point. Operations Research, 12 (4): 568-581</code></p>
</li>
<li>
<p>Pisinger, David; Røpke, Stefan: <code>A general heuristic for vehicle routing problems</code></p>
</li>
<li>
<p>Schrimpf, G., Schneider, K., Stamm-Wilbrandt, H., Dueck, V.: <code>Record Breaking Optimization Results Using the Ruin and Recreate Principle. J. of Computational Physics 159 (2000) 139–171</code></p>
</li>
<li>
<p>Jan Christiaens, Greet Vanden Berghe: <code>Slack Induction by String Removals for Vehicle Routing Problems</code></p>
</li>
<li>
<p>Thibaut Vidal: <code>Hybrid Genetic Search for the CVRP: Open-Source Implementation and SWAP* Neighborhood</code></p>
</li>
<li>
<p>Richard F. Hartl, Thibaut Vidal: <code>Workload Equity in Vehicle Routing Problems: A Survey and Analysis</code></p>
</li>
<li>
<p>Damminda Alahakoon, Saman K Halgamuge, Srinivasan Bala: <code>Dynamic self-organizing maps with controlled growth for knowledge discovery</code></p>
</li>
<li>
<p>Daniel J. Russo, Benjamin Van Roy, Abbas Kazerouni, Ian Osband and Zheng Wen: <code>A Tutorial on Thompson Sampling</code> https://web.stanford.edu/~bvr/pubs/TS_Tutorial.pdf</p>
</li>
<li>
<p>Florian Arnold, Kenneth Sörensen: <code>What makes a solution good? The generation of problem-speciﬁc knowledge for heuristics</code></p>
</li>
<li>
<p>Flavien Lucas, Romain Billot, Marc Sevaux: <code>A comment on "what makes a VRP solution good? The generation of problem-specific knowledge for heuristics"</code></p>
</li>
<li>
<p>Erik Pitzer, Michael Affenzeller: <code>A Comprehensive Survey on Fitness Landscape Analysis</code></p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="heuristics"><a class="header" href="#heuristics">Heuristics</a></h1>
<p>This page provides some high level overview of general heuristic used to solve VRP. Some information can be found on
vrp-core crate's <a href="https://docs.rs/vrp-core/latest/vrp_core/solver/index.html">documentation page</a></p>
<h2 id="starting-from-scratch-constructive-heuristics"><a class="header" href="#starting-from-scratch-constructive-heuristics">Starting from scratch: constructive heuristics</a></h2>
<p>To build initial solutions to start with, the solver internally can use different built-in constructive heuristics, such as:</p>
<ul>
<li>variation of Clark &amp; Wright Savings algorithm</li>
<li>regret insertion</li>
<li>insertion with blinks</li>
<li>nearest neighbor</li>
<li>random insertions</li>
<li>etc.</li>
</ul>
<p><a href="https://docs.rs/vrp-core/latest/vrp_core/construction/heuristics/index.html">Related documentation</a></p>
<p>To support faster evaluation of jobs insertion in large tours, insertion algorithm uses a search optimization to prevent
greedy evaluation. This is useful in case of large scale VRPs when greedy evaluation significantly increases running time.</p>
<p><a href="https://docs.rs/vrp-core/latest/vrp_core/utils/trait.SelectionSamplingSearch.html">Related documentation</a></p>
<p>Typically, the solver builds four initial solutions, then they are memorized as initial state by the one of the population algorithms:</p>
<ul>
<li><code>greedy</code>: only the best solution is kept</li>
<li><code>elitism</code>: n best solutions are kept using some diversification criteria</li>
<li><code>rosomaxa</code>: a custom population-based algorithm which focuses on improving exploration/exploitation ratio.</li>
</ul>
<p>The latter is default, however, others can be used if amount of available CPU is low.</p>
<p><a href="https://docs.rs/rosomaxa/latest/rosomaxa/population/index.html">Related documentation</a></p>
<h2 id="searching-for-better-solution-meta-heuristics"><a class="header" href="#searching-for-better-solution-meta-heuristics">Searching for better solution: meta heuristics</a></h2>
<p>The goal of metaheuristic (or just heuristic for simplicity) is to refine one (or many) of the known solutions.
Currently available heuristics:</p>
<ul>
<li><code>ruin and recreate</code> principle (Adaptive Large Neighborhood Search): ruin parts of solution and recreates them. Key ideas:
<ul>
<li>use multiple ruin/recreate methods and combine them differently</li>
<li>make a larger moves in solution space</li>
</ul>
</li>
<li><code>local search</code>: use different local search operators. The main difference from R&amp;R:
<ul>
<li>avoids making big steps in a solution space</li>
<li>target to improve specific aspects in solution</li>
</ul>
</li>
<li><code>explorative heuristics</code>: these can be seen as generators for explorative moves in solutions space:
<ul>
<li><code>redistribute search</code>: removes jobs from specific route and prevents their insertion back to it</li>
<li><code>infeasible search</code>: allows constraint violations to explore infeasible solutions space. It has recovery step
to move back to feasible space.</li>
</ul>
</li>
<li><code>decomposition search</code> (some kind of Divide and Conquer algorithm): splits existing solution into multiple smaller ones
(e.g. not more than 2-4 routes) and tries to improve them in isolation. Typically, it uses all heuristics just mentioned.</li>
</ul>
<p>Each heuristic accepts one of solutions from the population (not necessary the best known) and tries to improve it (or diversify).
During one of refinement iterations, many solutions are picked at the same time and many heuristics are called then in parallel.
Such incremental step is called a <code>generation</code>. Once it is completed, all found solutions are introduced to the population,
which decides how to store them.</p>
<p><a href="https://docs.rs/vrp-core/latest/vrp_core/solver/search/index.html">Related documentation</a></p>
<h2 id="what-heuristic-to-pick-hyper-heuristic"><a class="header" href="#what-heuristic-to-pick-hyper-heuristic">What heuristic to pick: hyper heuristic</a></h2>
<p>As the solver is not limited to one heuristic, there is a problem: what is the best strategy to pick one of the pre-defined
heuristics at given search state? To solve that problem, there are two heuristics are available:</p>
<ul>
<li><code>static selective</code>: associate with every heuristic some probability weight and use it to decide which one to pick next</li>
<li><code>dynamic selective</code>: try to learn probability dynamically based on search progression over time.</li>
</ul>
<p>The latter is used by default.</p>
<p><a href="https://docs.rs/rosomaxa/latest/rosomaxa/hyper/index.html">Related documentation</a></p>
<h2 id="when-to-stop-termination-criteria"><a class="header" href="#when-to-stop-termination-criteria">When to stop: termination criteria</a></h2>
<p>The search is terminated and the best known solution is returned when some termination criteria is met. The following
termination criteria are supported:</p>
<ul>
<li><code>time</code>: stop after some specified amount of seconds</li>
<li><code>generation</code>: stop after some specified amount of generations</li>
<li><code>coefficient of variation</code>: stop if there is no <code>significant</code> improvement in specific time or amount of generations</li>
<li><code>user interrupted</code> from command line, e.g. by pressing Ctrl + C</li>
</ul>
<p>Interruption when building initial solutions is supported. Default is 300 seconds or 3000 generations max.</p>
<p><a href="https://docs.rs/rosomaxa/latest/rosomaxa/termination/index.html">Related documentation</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rosomaxa"><a class="header" href="#rosomaxa">ROSOMAXA</a></h1>
<p><code>ROSOMAXA</code> stands for Routing Optimizations with Self-Organizing Maps And EXtrAs - a custom evolutionary algorithm which
tries to address the problem of population diversity: ability to retain different individuals in the population and use
them as an input for the search procedure. Additionally, it utilizes reinforcement learning technics to dynamically pick
suitable meta-heuristics for given problem formulation to avoid premature convergence.</p>
<h2 id="key-ideas"><a class="header" href="#key-ideas">Key ideas</a></h2>
<p>The <code>rosomaxa</code> algorithm is based on the following key ideas:</p>
<ul>
<li>use <a href="https://en.wikipedia.org/wiki/Growing_self-organizing_map">Growing Self-Organizing Map</a>(GSOM) to cluster discovered solutions and retain good, but different ones</li>
<li>choice clustering characteristics which are specific to solution geometry rather to objectives</li>
<li>utilize reinforcement learning technics in dynamic hyper-heuristic to choose one of pre-defined meta-heuristics on each solution refinement step.</li>
<li>use 2D visualization to analyze and understand algorithm behavior. See an interactive demo <a href="https://reinterpretcat.github.io/heuristics/www/">here</a></li>
</ul>
<h3 id="clustering-1"><a class="header" href="#clustering-1">Clustering</a></h3>
<p>Solution clustering is preformed by custom implementation of GSOM which is a growing variant of a self-organizing map.
In <code>rosomaxa</code>, it has the following characteristics:</p>
<ul>
<li>each node maintains a small population which keeps track of a few solutions selected by elitism approach</li>
<li>nodes are created and split based on selected solution characteristics. For VRP domain, they are such as:
<ul>
<li>vehicle max load variance</li>
<li>standard deviation of the number of customer per tour</li>
<li>mean of route durations</li>
<li>mean of route distances</li>
<li>mean of route waiting times</li>
<li>average distance between route medoids</li>
<li>amount of routes</li>
</ul>
</li>
<li>periodically, the network is compacted and rebalanced to keep search analyzing most prominent local optimum.
Compaction is done using a "decimation" approach: remove every second-third (configurable) column/row and move
survived cells towards the center (a node with (0, 0) as a coordinate). Overall, this approach seems help to maintain
a good exploration-exploitation ratio.</li>
</ul>
<h3 id="visualization"><a class="header" href="#visualization">Visualization</a></h3>
<p>This old animation shows some insights how algorithms performs over time:</p>
<p><img src="internals/algorithms/../../images/rosomaxa.gif" alt="Visualization example" title="Visualization" /></p>
<p>Here:</p>
<ul>
<li><code>u_matrix</code> is unified distance matrix calculated using solution characteristics</li>
<li><code>t_matrix</code> and <code>l_matrix</code> shows how often nodes are updated</li>
<li><code>objective_0</code>, <code>objective_1</code>, <code>objective_2</code>: objective values such as amount of unassigned jobs, tours, and cost</li>
</ul>
<p>The new experimental visualization tool is part of the repo: <code>experiments/heuristic-research</code>.
Online version is available here: https://reinterpretcat.github.io/heuristics/www/vector.html</p>
<h3 id="dynamic-hyper-heuristic"><a class="header" href="#dynamic-hyper-heuristic">Dynamic hyper-heuristic</a></h3>
<p>Essentially, a built-in dynamic hyper-heuristic uses <a href="https://en.wikipedia.org/wiki/Multi-armed_bandit">Multi-Armed Bandit</a>
with <a href="https://en.wikipedia.org/wiki/Thompson_sampling">Thompson sampling</a> approach to pick meta-heuristic for the list.
This helps to address <a href="https://en.wikipedia.org/wiki/Exploration-exploitation_dilemma">exploration-exploitation dilemma</a>
in applying a strategy of picking heuristics.</p>
<p>Implementation can be found <a href="https://github.com/reinterpretcat/vrp/blob/master/rosomaxa/src/algorithms/rl/slot_machine.rs">here</a></p>
<h3 id="additional-used-techniques"><a class="header" href="#additional-used-techniques">Additional used techniques</a></h3>
<p>TODO: describe additional explorative techniques:</p>
<ul>
<li>tabu list usage in ruin methods</li>
<li>alternative objectives manipulation</li>
<li>..</li>
</ul>
<h2 id="further-research"><a class="header" href="#further-research">Further research</a></h2>
<ul>
<li>experiment with different solution characteristics</li>
<li>rebalance GSOM parameters based on search progression</li>
<li>analyze "heat" map dynamically to adjust GSOM parameters</li>
<li>more fine-grained control of <code>exploration</code> vs <code>exploitation</code> ratio</li>
<li>try to calculate gradients based on GSOM nodes</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="resources/leaflet.js"></script>
        <script src="resources/map.js"></script>

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
